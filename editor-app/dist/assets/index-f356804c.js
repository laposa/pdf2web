var Fu=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var F=(t,e,n)=>(Fu(t,e,"read from private field"),n?n.call(t):e.get(t)),ye=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(Fu(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var fa=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return F(t,e,r)}}),Ce=(t,e,n)=>(Fu(t,e,"access private method"),n);function O_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const d=Object.getOwnPropertyDescriptor(r,s);d&&Object.defineProperty(t,s,d.get?d:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}})();function Hg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Xg={exports:{}},iu={},Yg={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Symbol.for("react.element"),P_=Symbol.for("react.portal"),A_=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),R_=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),F_=Symbol.for("react.context"),L_=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),j_=Symbol.for("react.memo"),N_=Symbol.for("react.lazy"),Sd=Symbol.iterator;function B_(t){return t===null||typeof t!="object"?null:(t=Sd&&t[Sd]||t["@@iterator"],typeof t=="function"?t:null)}var Gg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qg=Object.assign,Kg={};function Ts(t,e,n){this.props=t,this.context=e,this.refs=Kg,this.updater=n||Gg}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qg(){}Qg.prototype=Ts.prototype;function nh(t,e,n){this.props=t,this.context=e,this.refs=Kg,this.updater=n||Gg}var rh=nh.prototype=new Qg;rh.constructor=nh;qg(rh,Ts.prototype);rh.isPureReactComponent=!0;var bd=Array.isArray,Zg=Object.prototype.hasOwnProperty,ih={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function em(t,e,n){var r,s={},d=null,y=null;if(e!=null)for(r in e.ref!==void 0&&(y=e.ref),e.key!==void 0&&(d=""+e.key),e)Zg.call(e,r)&&!Jg.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var i=Array(l),h=0;h<l;h++)i[h]=arguments[h+2];s.children=i}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Jo,type:t,key:d,ref:y,props:s,_owner:ih.current}}function z_(t,e){return{$$typeof:Jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jo}function $_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Td=/\/+/g;function Lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$_(""+t.key):e.toString(36)}function Ia(t,e,n,r,s){var d=typeof t;(d==="undefined"||d==="boolean")&&(t=null);var y=!1;if(t===null)y=!0;else switch(d){case"string":case"number":y=!0;break;case"object":switch(t.$$typeof){case Jo:case P_:y=!0}}if(y)return y=t,s=s(y),t=r===""?"."+Lu(y,0):r,bd(s)?(n="",t!=null&&(n=t.replace(Td,"$&/")+"/"),Ia(s,e,n,"",function(h){return h})):s!=null&&(sh(s)&&(s=z_(s,n+(!s.key||y&&y.key===s.key?"":(""+s.key).replace(Td,"$&/")+"/")+t)),e.push(s)),1;if(y=0,r=r===""?".":r+":",bd(t))for(var l=0;l<t.length;l++){d=t[l];var i=r+Lu(d,l);y+=Ia(d,e,n,i,s)}else if(i=B_(t),typeof i=="function")for(t=i.call(t),l=0;!(d=t.next()).done;)d=d.value,i=r+Lu(d,l++),y+=Ia(d,e,n,i,s);else if(d==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return y}function ha(t,e,n){if(t==null)return t;var r=[],s=0;return Ia(t,r,"","",function(d){return e.call(n,d,s++)}),r}function U_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},ja={transition:null},V_={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:ja,ReactCurrentOwner:ih};Oe.Children={map:ha,forEach:function(t,e,n){ha(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ha(t,function(){e++}),e},toArray:function(t){return ha(t,function(e){return e})||[]},only:function(t){if(!sh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Ts;Oe.Fragment=A_;Oe.Profiler=R_;Oe.PureComponent=nh;Oe.StrictMode=D_;Oe.Suspense=I_;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qg({},t.props),s=t.key,d=t.ref,y=t._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,y=ih.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(i in e)Zg.call(e,i)&&!Jg.hasOwnProperty(i)&&(r[i]=e[i]===void 0&&l!==void 0?l[i]:e[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Jo,type:t.type,key:s,ref:d,props:r,_owner:y}};Oe.createContext=function(t){return t={$$typeof:F_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M_,_context:t},t.Consumer=t};Oe.createElement=em;Oe.createFactory=function(t){var e=em.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:L_,render:t}};Oe.isValidElement=sh;Oe.lazy=function(t){return{$$typeof:N_,_payload:{_status:-1,_result:t},_init:U_}};Oe.memo=function(t,e){return{$$typeof:j_,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=ja.transition;ja.transition={};try{t()}finally{ja.transition=e}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(t,e){return St.current.useCallback(t,e)};Oe.useContext=function(t){return St.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return St.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return St.current.useEffect(t,e)};Oe.useId=function(){return St.current.useId()};Oe.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return St.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};Oe.useRef=function(t){return St.current.useRef(t)};Oe.useState=function(t){return St.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return St.current.useTransition()};Oe.version="18.2.0";Yg.exports=Oe;var k=Yg.exports;const ze=Hg(k),W_=O_({__proto__:null,default:ze},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=k,X_=Symbol.for("react.element"),Y_=Symbol.for("react.fragment"),G_=Object.prototype.hasOwnProperty,q_=H_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K_={key:!0,ref:!0,__self:!0,__source:!0};function tm(t,e,n){var r,s={},d=null,y=null;n!==void 0&&(d=""+n),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(y=e.ref);for(r in e)G_.call(e,r)&&!K_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:X_,type:t,key:d,ref:y,props:s,_owner:q_.current}}iu.Fragment=Y_;iu.jsx=tm;iu.jsxs=tm;Xg.exports=iu;var J=Xg.exports,bc={},nm={exports:{}},Bt={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,b){var P=W.length;W.push(b);e:for(;0<P;){var A=P-1>>>1,R=W[A];if(0<s(R,b))W[A]=b,W[P]=R,P=A;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var b=W[0],P=W.pop();if(P!==b){W[0]=P;e:for(var A=0,R=W.length,U=R>>>1;A<U;){var D=2*(A+1)-1,O=W[D],j=D+1,B=W[j];if(0>s(O,P))j<R&&0>s(B,O)?(W[A]=B,W[j]=P,A=j):(W[A]=O,W[D]=P,A=D);else if(j<R&&0>s(B,P))W[A]=B,W[j]=P,A=j;else break e}}return b}function s(W,b){var P=W.sortIndex-b.sortIndex;return P!==0?P:W.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var y=Date,l=y.now();t.unstable_now=function(){return y.now()-l}}var i=[],h=[],p=1,o=null,u=3,a=!1,c=!1,g=!1,f=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var b=n(h);b!==null;){if(b.callback===null)r(h);else if(b.startTime<=W)r(h),b.sortIndex=b.expirationTime,e(i,b);else break;b=n(h)}}function w(W){if(g=!1,_(W),!c)if(n(i)!==null)c=!0,ne(x);else{var b=n(h);b!==null&&ue(w,b.startTime-W)}}function x(W,b){c=!1,g&&(g=!1,m(T),T=-1),a=!0;var P=u;try{for(_(b),o=n(i);o!==null&&(!(o.expirationTime>b)||W&&!q());){var A=o.callback;if(typeof A=="function"){o.callback=null,u=o.priorityLevel;var R=A(o.expirationTime<=b);b=t.unstable_now(),typeof R=="function"?o.callback=R:o===n(i)&&r(i),_(b)}else r(i);o=n(i)}if(o!==null)var U=!0;else{var D=n(h);D!==null&&ue(w,D.startTime-b),U=!1}return U}finally{o=null,u=P,a=!1}}var C=!1,S=null,T=-1,I=5,z=-1;function q(){return!(t.unstable_now()-z<I)}function V(){if(S!==null){var W=t.unstable_now();z=W;var b=!0;try{b=S(!0,W)}finally{b?Q():(C=!1,S=null)}}else C=!1}var Q;if(typeof v=="function")Q=function(){v(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ee=X.port2;X.port1.onmessage=V,Q=function(){ee.postMessage(null)}}else Q=function(){f(V,0)};function ne(W){S=W,C||(C=!0,Q())}function ue(W,b){T=f(function(){W(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){c||a||(c=!0,ne(x))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(i)},t.unstable_next=function(W){switch(u){case 1:case 2:case 3:var b=3;break;default:b=u}var P=u;u=b;try{return W()}finally{u=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,b){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var P=u;u=W;try{return b()}finally{u=P}},t.unstable_scheduleCallback=function(W,b,P){var A=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=P+R,W={id:p++,callback:b,priorityLevel:W,startTime:P,expirationTime:R,sortIndex:-1},P>A?(W.sortIndex=P,e(h,W),n(i)===null&&W===n(h)&&(g?(m(T),T=-1):g=!0,ue(w,P-A))):(W.sortIndex=R,e(i,W),c||a||(c=!0,ne(x))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var b=u;return function(){var P=u;u=b;try{return W.apply(this,arguments)}finally{u=P}}}})(im);rm.exports=im;var Q_=rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=k,Nt=Q_;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var om=new Set,lo={};function vi(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(lo[t]=e,t=0;t<e.length;t++)om.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=Object.prototype.hasOwnProperty,Z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ed={},Od={};function J_(t){return Tc.call(Od,t)?!0:Tc.call(Ed,t)?!1:Z_.test(t)?Od[t]=!0:(Ed[t]=!0,!1)}function ew(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tw(t,e,n,r){if(e===null||typeof e>"u"||ew(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,s,d,y){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=d,this.removeEmptyString=y}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var oh=/[\-:]([a-z])/g;function ah(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oh,ah);ft[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oh,ah);ft[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oh,ah);ft[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lh(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tw(e,n,s,r)&&(n=null),r||s===null?J_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),Ec=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),lm=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),Oc=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),um=Symbol.for("react.offscreen"),kd=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Iu;function Ys(t){if(Iu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iu=e&&e[1]||""}return`
`+Iu+t}var ju=!1;function Nu(t,e){if(!t||ju)return"";ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),d=r.stack.split(`
`),y=s.length-1,l=d.length-1;1<=y&&0<=l&&s[y]!==d[l];)l--;for(;1<=y&&0<=l;y--,l--)if(s[y]!==d[l]){if(y!==1||l!==1)do if(y--,l--,0>l||s[y]!==d[l]){var i=`
`+s[y].replace(" at new "," at ");return t.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",t.displayName)),i}while(1<=y&&0<=l);break}}}finally{ju=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ys(t):""}function nw(t){switch(t.tag){case 5:return Ys(t.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return t=Nu(t.type,!1),t;case 11:return t=Nu(t.type.render,!1),t;case 1:return t=Nu(t.type,!0),t;default:return""}}function Pc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Oi:return"Portal";case Ec:return"Profiler";case uh:return"StrictMode";case Oc:return"Suspense";case kc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lm:return(t.displayName||"Context")+".Consumer";case am:return(t._context.displayName||"Context")+".Provider";case ch:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fh:return e=t.displayName||null,e!==null?e:Pc(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return Pc(t(e))}catch{}}return null}function rw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pc(e);case 8:return e===uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iw(t){var e=cm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,d=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pa(t){t._valueTracker||(t._valueTracker=iw(t))}function fm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ol(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ac(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hm(t,e){e=e.checked,e!=null&&lh(t,"checked",e,!1)}function Dc(t,e){hm(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rc(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ad(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rc(t,e,n){(e!=="number"||ol(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function zi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Gs(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function dm(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ga,gm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sw=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){sw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zs[e]=Zs[t]})});function mm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+e).trim():e+"px"}function vm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ow=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lc(t,e){if(e){if(ow[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Ic(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=null;function hh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nc=null,$i=null,Ui=null;function Md(t){if(t=na(t)){if(typeof Nc!="function")throw Error(le(280));var e=t.stateNode;e&&(e=uu(e),Nc(t.stateNode,t.type,e))}}function ym(t){$i?Ui?Ui.push(t):Ui=[t]:$i=t}function _m(){if($i){var t=$i,e=Ui;if(Ui=$i=null,Md(t),e)for(t=0;t<e.length;t++)Md(e[t])}}function wm(t,e){return t(e)}function xm(){}var Bu=!1;function Cm(t,e,n){if(Bu)return t(e,n);Bu=!0;try{return wm(t,e,n)}finally{Bu=!1,($i!==null||Ui!==null)&&(xm(),_m())}}function co(t,e){var n=t.stateNode;if(n===null)return null;var r=uu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var Bc=!1;if(Xn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Bc=!1}function aw(t,e,n,r,s,d,y,l,i){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Js=!1,al=null,ll=!1,zc=null,lw={onError:function(t){Js=!0,al=t}};function uw(t,e,n,r,s,d,y,l,i){Js=!1,al=null,aw.apply(lw,arguments)}function cw(t,e,n,r,s,d,y,l,i){if(uw.apply(this,arguments),Js){if(Js){var h=al;Js=!1,al=null}else throw Error(le(198));ll||(ll=!0,zc=h)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fd(t){if(yi(t)!==t)throw Error(le(188))}function fw(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var d=s.alternate;if(d===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===d.child){for(d=s.child;d;){if(d===n)return Fd(s),t;if(d===r)return Fd(s),e;d=d.sibling}throw Error(le(188))}if(n.return!==r.return)n=s,r=d;else{for(var y=!1,l=s.child;l;){if(l===n){y=!0,n=s,r=d;break}if(l===r){y=!0,r=s,n=d;break}l=l.sibling}if(!y){for(l=d.child;l;){if(l===n){y=!0,n=d,r=s;break}if(l===r){y=!0,r=d,n=s;break}l=l.sibling}if(!y)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function bm(t){return t=fw(t),t!==null?Tm(t):null}function Tm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tm(t);if(e!==null)return e;t=t.sibling}return null}var Em=Nt.unstable_scheduleCallback,Ld=Nt.unstable_cancelCallback,hw=Nt.unstable_shouldYield,dw=Nt.unstable_requestPaint,Ke=Nt.unstable_now,pw=Nt.unstable_getCurrentPriorityLevel,dh=Nt.unstable_ImmediatePriority,Om=Nt.unstable_UserBlockingPriority,ul=Nt.unstable_NormalPriority,gw=Nt.unstable_LowPriority,km=Nt.unstable_IdlePriority,su=null,On=null;function mw(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(su,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:_w,vw=Math.log,yw=Math.LN2;function _w(t){return t>>>=0,t===0?32:31-(vw(t)/yw|0)|0}var ma=64,va=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,d=t.pingedLanes,y=n&268435455;if(y!==0){var l=y&~s;l!==0?r=qs(l):(d&=y,d!==0&&(r=qs(d)))}else y=n&~s,y!==0?r=qs(y):d!==0&&(r=qs(d));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,d=e&-e,s>=d||s===16&&(d&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function ww(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-dn(d),l=1<<y,i=s[y];i===-1?(!(l&n)||l&r)&&(s[y]=ww(l,e)):i<=e&&(t.expiredLanes|=l),d&=~l}}function $c(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pm(){var t=ma;return ma<<=1,!(ma&4194240)&&(ma=64),t}function zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ea(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function Cw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),d=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~d}}function ph(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function Am(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dm,gh,Rm,Mm,Fm,Uc=!1,ya=[],Tr=null,Er=null,Or=null,fo=new Map,ho=new Map,fr=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(e.pointerId)}}function js(t,e,n,r,s,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:d,targetContainers:[s]},e!==null&&(e=na(e),e!==null&&gh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bw(t,e,n,r,s){switch(e){case"focusin":return Tr=js(Tr,t,e,n,r,s),!0;case"dragenter":return Er=js(Er,t,e,n,r,s),!0;case"mouseover":return Or=js(Or,t,e,n,r,s),!0;case"pointerover":var d=s.pointerId;return fo.set(d,js(fo.get(d)||null,t,e,n,r,s)),!0;case"gotpointercapture":return d=s.pointerId,ho.set(d,js(ho.get(d)||null,t,e,n,r,s)),!0}return!1}function Lm(t){var e=Gr(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=Sm(n),e!==null){t.blockedOn=e,Fm(t.priority,function(){Rm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Na(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jc=r,n.target.dispatchEvent(r),jc=null}else return e=na(n),e!==null&&gh(e),t.blockedOn=n,!1;e.shift()}return!0}function jd(t,e,n){Na(t)&&n.delete(e)}function Tw(){Uc=!1,Tr!==null&&Na(Tr)&&(Tr=null),Er!==null&&Na(Er)&&(Er=null),Or!==null&&Na(Or)&&(Or=null),fo.forEach(jd),ho.forEach(jd)}function Ns(t,e){t.blockedOn===e&&(t.blockedOn=null,Uc||(Uc=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,Tw)))}function po(t){function e(s){return Ns(s,t)}if(0<ya.length){Ns(ya[0],t);for(var n=1;n<ya.length;n++){var r=ya[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&Ns(Tr,t),Er!==null&&Ns(Er,t),Or!==null&&Ns(Or,t),fo.forEach(e),ho.forEach(e),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)Lm(n),n.blockedOn===null&&fr.shift()}var Vi=tr.ReactCurrentBatchConfig,fl=!0;function Ew(t,e,n,r){var s=Fe,d=Vi.transition;Vi.transition=null;try{Fe=1,mh(t,e,n,r)}finally{Fe=s,Vi.transition=d}}function Ow(t,e,n,r){var s=Fe,d=Vi.transition;Vi.transition=null;try{Fe=4,mh(t,e,n,r)}finally{Fe=s,Vi.transition=d}}function mh(t,e,n,r){if(fl){var s=Vc(t,e,n,r);if(s===null)Ku(t,e,r,hl,n),Id(t,r);else if(bw(s,t,e,n,r))r.stopPropagation();else if(Id(t,r),e&4&&-1<Sw.indexOf(t)){for(;s!==null;){var d=na(s);if(d!==null&&Dm(d),d=Vc(t,e,n,r),d===null&&Ku(t,e,r,hl,n),d===s)break;s=d}s!==null&&r.stopPropagation()}else Ku(t,e,r,null,n)}}var hl=null;function Vc(t,e,n,r){if(hl=null,t=hh(r),t=Gr(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hl=t,null}function Im(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pw()){case dh:return 1;case Om:return 4;case ul:case gw:return 16;case km:return 536870912;default:return 16}default:return 16}}var xr=null,vh=null,Ba=null;function jm(){if(Ba)return Ba;var t,e=vh,n=e.length,r,s="value"in xr?xr.value:xr.textContent,d=s.length;for(t=0;t<n&&e[t]===s[t];t++);var y=n-t;for(r=1;r<=y&&e[n-r]===s[d-r];r++);return Ba=s.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _a(){return!0}function Nd(){return!1}function zt(t){function e(n,r,s,d,y){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(d):d[l]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_a:Nd,this.isPropagationStopped=Nd,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=zt(Es),ta=Xe({},Es,{view:0,detail:0}),kw=zt(ta),$u,Uu,Bs,ou=Xe({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?($u=t.screenX-Bs.screenX,Uu=t.screenY-Bs.screenY):Uu=$u=0,Bs=t),$u)},movementY:function(t){return"movementY"in t?t.movementY:Uu}}),Bd=zt(ou),Pw=Xe({},ou,{dataTransfer:0}),Aw=zt(Pw),Dw=Xe({},ta,{relatedTarget:0}),Vu=zt(Dw),Rw=Xe({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Mw=zt(Rw),Fw=Xe({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lw=zt(Fw),Iw=Xe({},Es,{data:0}),zd=zt(Iw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bw[t])?!!e[t]:!1}function _h(){return zw}var $w=Xe({},ta,{key:function(t){if(t.key){var e=jw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uw=zt($w),Vw=Xe({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=zt(Vw),Ww=Xe({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),Hw=zt(Ww),Xw=Xe({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=zt(Xw),Gw=Xe({},ou,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=zt(Gw),Kw=[9,13,27,32],wh=Xn&&"CompositionEvent"in window,eo=null;Xn&&"documentMode"in document&&(eo=document.documentMode);var Qw=Xn&&"TextEvent"in window&&!eo,Nm=Xn&&(!wh||eo&&8<eo&&11>=eo),Ud=String.fromCharCode(32),Vd=!1;function Bm(t,e){switch(t){case"keyup":return Kw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function Zw(t,e){switch(t){case"compositionend":return zm(e);case"keypress":return e.which!==32?null:(Vd=!0,Ud);case"textInput":return t=e.data,t===Ud&&Vd?null:t;default:return null}}function Jw(t,e){if(Pi)return t==="compositionend"||!wh&&Bm(t,e)?(t=jm(),Ba=vh=xr=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nm&&e.locale!=="ko"?null:e.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ex[t.type]:e==="textarea"}function $m(t,e,n,r){ym(r),e=dl(e,"onChange"),0<e.length&&(n=new yh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var to=null,go=null;function tx(t){Zm(t,0)}function au(t){var e=Ri(t);if(fm(e))return t}function nx(t,e){if(t==="change")return e}var Um=!1;if(Xn){var Wu;if(Xn){var Hu="oninput"in document;if(!Hu){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Hu=typeof Hd.oninput=="function"}Wu=Hu}else Wu=!1;Um=Wu&&(!document.documentMode||9<document.documentMode)}function Xd(){to&&(to.detachEvent("onpropertychange",Vm),go=to=null)}function Vm(t){if(t.propertyName==="value"&&au(go)){var e=[];$m(e,go,t,hh(t)),Cm(tx,e)}}function rx(t,e,n){t==="focusin"?(Xd(),to=e,go=n,to.attachEvent("onpropertychange",Vm)):t==="focusout"&&Xd()}function ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(go)}function sx(t,e){if(t==="click")return au(e)}function ox(t,e){if(t==="input"||t==="change")return au(e)}function ax(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:ax;function mo(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tc.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gd(t,e){var n=Yd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yd(n)}}function Wm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hm(){for(var t=window,e=ol();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ol(t.document)}return e}function xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lx(t){var e=Hm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(r!==null&&xh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,d=Math.min(r.start,s);r=r.end===void 0?d:Math.min(r.end,s),!t.extend&&d>r&&(s=r,r=d,d=s),s=Gd(n,d);var y=Gd(n,r);s&&y&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),d>r?(t.addRange(e),t.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ux=Xn&&"documentMode"in document&&11>=document.documentMode,Ai=null,Wc=null,no=null,Hc=!1;function qd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hc||Ai==null||Ai!==ol(r)||(r=Ai,"selectionStart"in r&&xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),no&&mo(no,r)||(no=r,r=dl(Wc,"onSelect"),0<r.length&&(e=new yh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ai)))}function wa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Di={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},Xu={},Xm={};Xn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function lu(t){if(Xu[t])return Xu[t];if(!Di[t])return t;var e=Di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xm)return Xu[t]=e[n];return t}var Ym=lu("animationend"),Gm=lu("animationiteration"),qm=lu("animationstart"),Km=lu("transitionend"),Qm=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){Qm.set(t,e),vi(e,[t])}for(var Yu=0;Yu<Kd.length;Yu++){var Gu=Kd[Yu],cx=Gu.toLowerCase(),fx=Gu[0].toUpperCase()+Gu.slice(1);Ur(cx,"on"+fx)}Ur(Ym,"onAnimationEnd");Ur(Gm,"onAnimationIteration");Ur(qm,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Km,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Qd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cw(r,e,void 0,t),t.currentTarget=null}function Zm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var d=void 0;if(e)for(var y=r.length-1;0<=y;y--){var l=r[y],i=l.instance,h=l.currentTarget;if(l=l.listener,i!==d&&s.isPropagationStopped())break e;Qd(s,l,h),d=i}else for(y=0;y<r.length;y++){if(l=r[y],i=l.instance,h=l.currentTarget,l=l.listener,i!==d&&s.isPropagationStopped())break e;Qd(s,l,h),d=i}}}if(ll)throw t=zc,ll=!1,zc=null,t}function Be(t,e){var n=e[Kc];n===void 0&&(n=e[Kc]=new Set);var r=t+"__bubble";n.has(r)||(Jm(e,t,2,!1),n.add(r))}function qu(t,e,n){var r=0;e&&(r|=4),Jm(n,t,r,e)}var xa="_reactListening"+Math.random().toString(36).slice(2);function vo(t){if(!t[xa]){t[xa]=!0,om.forEach(function(n){n!=="selectionchange"&&(hx.has(n)||qu(n,!1,t),qu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xa]||(e[xa]=!0,qu("selectionchange",!1,e))}}function Jm(t,e,n,r){switch(Im(e)){case 1:var s=Ew;break;case 4:s=Ow;break;default:s=mh}n=s.bind(null,e,n,t),s=void 0,!Bc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ku(t,e,n,r,s){var d=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(y===4)for(y=r.return;y!==null;){var i=y.tag;if((i===3||i===4)&&(i=y.stateNode.containerInfo,i===s||i.nodeType===8&&i.parentNode===s))return;y=y.return}for(;l!==null;){if(y=Gr(l),y===null)return;if(i=y.tag,i===5||i===6){r=d=y;continue e}l=l.parentNode}}r=r.return}Cm(function(){var h=d,p=hh(n),o=[];e:{var u=Qm.get(t);if(u!==void 0){var a=yh,c=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":a=Uw;break;case"focusin":c="focus",a=Vu;break;case"focusout":c="blur",a=Vu;break;case"beforeblur":case"afterblur":a=Vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=Aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Hw;break;case Ym:case Gm:case qm:a=Mw;break;case Km:a=Yw;break;case"scroll":a=kw;break;case"wheel":a=qw;break;case"copy":case"cut":case"paste":a=Lw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=$d}var g=(e&4)!==0,f=!g&&t==="scroll",m=g?u!==null?u+"Capture":null:u;g=[];for(var v=h,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,m!==null&&(w=co(v,m),w!=null&&g.push(yo(v,w,_)))),f)break;v=v.return}0<g.length&&(u=new a(u,c,null,n,p),o.push({event:u,listeners:g}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",a=t==="mouseout"||t==="pointerout",u&&n!==jc&&(c=n.relatedTarget||n.fromElement)&&(Gr(c)||c[Yn]))break e;if((a||u)&&(u=p.window===p?p:(u=p.ownerDocument)?u.defaultView||u.parentWindow:window,a?(c=n.relatedTarget||n.toElement,a=h,c=c?Gr(c):null,c!==null&&(f=yi(c),c!==f||c.tag!==5&&c.tag!==6)&&(c=null)):(a=null,c=h),a!==c)){if(g=Bd,w="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=$d,w="onPointerLeave",m="onPointerEnter",v="pointer"),f=a==null?u:Ri(a),_=c==null?u:Ri(c),u=new g(w,v+"leave",a,n,p),u.target=f,u.relatedTarget=_,w=null,Gr(p)===h&&(g=new g(m,v+"enter",c,n,p),g.target=_,g.relatedTarget=f,w=g),f=w,a&&c)t:{for(g=a,m=c,v=0,_=g;_;_=xi(_))v++;for(_=0,w=m;w;w=xi(w))_++;for(;0<v-_;)g=xi(g),v--;for(;0<_-v;)m=xi(m),_--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=xi(g),m=xi(m)}g=null}else g=null;a!==null&&Zd(o,u,a,g,!1),c!==null&&f!==null&&Zd(o,f,c,g,!0)}}e:{if(u=h?Ri(h):window,a=u.nodeName&&u.nodeName.toLowerCase(),a==="select"||a==="input"&&u.type==="file")var x=nx;else if(Wd(u))if(Um)x=ox;else{x=ix;var C=rx}else(a=u.nodeName)&&a.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(x=sx);if(x&&(x=x(t,h))){$m(o,x,n,p);break e}C&&C(t,u,h),t==="focusout"&&(C=u._wrapperState)&&C.controlled&&u.type==="number"&&Rc(u,"number",u.value)}switch(C=h?Ri(h):window,t){case"focusin":(Wd(C)||C.contentEditable==="true")&&(Ai=C,Wc=h,no=null);break;case"focusout":no=Wc=Ai=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,qd(o,n,p);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":qd(o,n,p)}var S;if(wh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pi?Bm(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Nm&&n.locale!=="ko"&&(Pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pi&&(S=jm()):(xr=p,vh="value"in xr?xr.value:xr.textContent,Pi=!0)),C=dl(h,T),0<C.length&&(T=new zd(T,t,null,n,p),o.push({event:T,listeners:C}),S?T.data=S:(S=zm(n),S!==null&&(T.data=S)))),(S=Qw?Zw(t,n):Jw(t,n))&&(h=dl(h,"onBeforeInput"),0<h.length&&(p=new zd("onBeforeInput","beforeinput",null,n,p),o.push({event:p,listeners:h}),p.data=S))}Zm(o,e)})}function yo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,d=s.stateNode;s.tag===5&&d!==null&&(s=d,d=co(t,n),d!=null&&r.unshift(yo(t,d,s)),d=co(t,e),d!=null&&r.push(yo(t,d,s))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zd(t,e,n,r,s){for(var d=e._reactName,y=[];n!==null&&n!==r;){var l=n,i=l.alternate,h=l.stateNode;if(i!==null&&i===r)break;l.tag===5&&h!==null&&(l=h,s?(i=co(n,d),i!=null&&y.unshift(yo(n,i,l))):s||(i=co(n,d),i!=null&&y.push(yo(n,i,l)))),n=n.return}y.length!==0&&t.push({event:e,listeners:y})}var dx=/\r\n?/g,px=/\u0000|\uFFFD/g;function Jd(t){return(typeof t=="string"?t:""+t).replace(dx,`
`).replace(px,"")}function Ca(t,e,n){if(e=Jd(e),Jd(t)!==e&&n)throw Error(le(425))}function pl(){}var Xc=null,Yc=null;function Gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,mx=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(t){return ep.resolve(null).then(t).catch(vx)}:qc;function vx(t){setTimeout(function(){throw t})}function Qu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),po(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);po(e)}function kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Os,_o="__reactProps$"+Os,Yn="__reactContainer$"+Os,Kc="__reactEvents$"+Os,yx="__reactListeners$"+Os,_x="__reactHandles$"+Os;function Gr(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tp(t);t!==null;){if(n=t[Sn])return n;t=tp(t)}return e}t=n,n=t.parentNode}return null}function na(t){return t=t[Sn]||t[Yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function uu(t){return t[_o]||null}var Qc=[],Mi=-1;function Vr(t){return{current:t}}function $e(t){0>Mi||(t.current=Qc[Mi],Qc[Mi]=null,Mi--)}function je(t,e){Mi++,Qc[Mi]=t.current,t.current=e}var Lr={},vt=Vr(Lr),kt=Vr(!1),ci=Lr;function fs(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},d;for(d in n)s[d]=e[d];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function gl(){$e(kt),$e(vt)}function np(t,e,n){if(vt.current!==Lr)throw Error(le(168));je(vt,e),je(kt,n)}function ev(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(le(108,rw(t)||"Unknown",s));return Xe({},n,r)}function ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,ci=vt.current,je(vt,t),je(kt,kt.current),!0}function rp(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=ev(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,$e(kt),$e(vt),je(vt,t)):$e(kt),je(kt,n)}var Bn=null,cu=!1,Zu=!1;function tv(t){Bn===null?Bn=[t]:Bn.push(t)}function wx(t){cu=!0,tv(t)}function Wr(){if(!Zu&&Bn!==null){Zu=!0;var t=0,e=Fe;try{var n=Bn;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,cu=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),Em(dh,Wr),s}finally{Fe=e,Zu=!1}}return null}var Fi=[],Li=0,vl=null,yl=0,Gt=[],qt=0,fi=null,$n=1,Un="";function Hr(t,e){Fi[Li++]=yl,Fi[Li++]=vl,vl=t,yl=e}function nv(t,e,n){Gt[qt++]=$n,Gt[qt++]=Un,Gt[qt++]=fi,fi=t;var r=$n;t=Un;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var d=32-dn(e)+s;if(30<d){var y=s-s%5;d=(r&(1<<y)-1).toString(32),r>>=y,s-=y,$n=1<<32-dn(e)+s|n<<s|r,Un=d+t}else $n=1<<d|n<<s|r,Un=t}function Ch(t){t.return!==null&&(Hr(t,1),nv(t,1,0))}function Sh(t){for(;t===vl;)vl=Fi[--Li],Fi[Li]=null,yl=Fi[--Li],Fi[Li]=null;for(;t===fi;)fi=Gt[--qt],Gt[qt]=null,Un=Gt[--qt],Gt[qt]=null,$n=Gt[--qt],Gt[qt]=null}var It=null,Lt=null,Ve=!1,fn=null;function rv(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ip(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Lt=kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:$n,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,Lt=null,!0):!1;default:return!1}}function Zc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jc(t){if(Ve){var e=Lt;if(e){var n=e;if(!ip(t,e)){if(Zc(t))throw Error(le(418));e=kr(n.nextSibling);var r=It;e&&ip(t,e)?rv(r,n):(t.flags=t.flags&-4097|2,Ve=!1,It=t)}}else{if(Zc(t))throw Error(le(418));t.flags=t.flags&-4097|2,Ve=!1,It=t}}}function sp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Sa(t){if(t!==It)return!1;if(!Ve)return sp(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gc(t.type,t.memoizedProps)),e&&(e=Lt)){if(Zc(t))throw iv(),Error(le(418));for(;e;)rv(t,e),e=kr(e.nextSibling)}if(sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=It?kr(t.stateNode.nextSibling):null;return!0}function iv(){for(var t=Lt;t;)t=kr(t.nextSibling)}function hs(){Lt=It=null,Ve=!1}function bh(t){fn===null?fn=[t]:fn.push(t)}var xx=tr.ReactCurrentBatchConfig;function an(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _l=Vr(null),wl=null,Ii=null,Th=null;function Eh(){Th=Ii=wl=null}function Oh(t){var e=_l.current;$e(_l),t._currentValue=e}function ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){wl=t,Th=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(Th!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(wl===null)throw Error(le(308));Ii=t,wl.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var qr=null;function kh(t){qr===null?qr=[t]:qr.push(t)}function sv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,kh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cr=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gn(t,n)}return s=r.interleaved,s===null?(e.next=e,kh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gn(t,n)}function $a(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ph(t,n)}}function op(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?s=d=y:d=d.next=y,n=n.next}while(n!==null);d===null?s=d=e:d=d.next=e}else s=d=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:d,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xl(t,e,n,r){var s=t.updateQueue;cr=!1;var d=s.firstBaseUpdate,y=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var i=l,h=i.next;i.next=null,y===null?d=h:y.next=h,y=i;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==y&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=i))}if(d!==null){var o=s.baseState;y=0,p=h=i=null,l=d;do{var u=l.lane,a=l.eventTime;if((r&u)===u){p!==null&&(p=p.next={eventTime:a,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var c=t,g=l;switch(u=e,a=n,g.tag){case 1:if(c=g.payload,typeof c=="function"){o=c.call(a,o,u);break e}o=c;break e;case 3:c.flags=c.flags&-65537|128;case 0:if(c=g.payload,u=typeof c=="function"?c.call(a,o,u):c,u==null)break e;o=Xe({},o,u);break e;case 2:cr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,u=s.effects,u===null?s.effects=[l]:u.push(l))}else a={eventTime:a,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=a,i=o):p=p.next=a,y|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;u=l,l=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(p===null&&(i=o),s.baseState=i,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do y|=s.lane,s=s.next;while(s!==e)}else d===null&&(s.shared.lanes=0);di|=y,t.lanes=y,t.memoizedState=o}}function ap(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(le(191,s));s.call(r)}}}var av=new sm.Component().refs;function tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fu={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Dr(t),d=Wn(r,s);d.payload=e,n!=null&&(d.callback=n),e=Pr(t,d,s),e!==null&&(pn(e,t,s,r),$a(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Dr(t),d=Wn(r,s);d.tag=1,d.payload=e,n!=null&&(d.callback=n),e=Pr(t,d,s),e!==null&&(pn(e,t,s,r),$a(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Dr(t),s=Wn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Pr(t,s,r),e!==null&&(pn(e,t,r,n),$a(e,t,r))}};function lp(t,e,n,r,s,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,y):e.prototype&&e.prototype.isPureReactComponent?!mo(n,r)||!mo(s,d):!0}function lv(t,e,n){var r=!1,s=Lr,d=e.contextType;return typeof d=="object"&&d!==null?d=en(d):(s=Pt(e)?ci:vt.current,r=e.contextTypes,d=(r=r!=null)?fs(t,s):Lr),e=new e(n,d),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=d),e}function up(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fu.enqueueReplaceState(e,e.state,null)}function nf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=av,Ph(t);var d=e.contextType;typeof d=="object"&&d!==null?s.context=en(d):(d=Pt(e)?ci:vt.current,s.context=fs(t,d)),s.state=t.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(tf(t,e,d,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fu.enqueueReplaceState(s,s.state,null),xl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var s=r,d=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(y){var l=s.refs;l===av&&(l=s.refs={}),y===null?delete l[d]:l[d]=y},e._stringRef=d,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function ba(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cp(t){var e=t._init;return e(t._payload)}function uv(t){function e(m,v){if(t){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Rr(m,v),m.index=0,m.sibling=null,m}function d(m,v,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function y(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,v,_,w){return v===null||v.tag!==6?(v=sc(_,m.mode,w),v.return=m,v):(v=s(v,_),v.return=m,v)}function i(m,v,_,w){var x=_.type;return x===ki?p(m,v,_.props.children,w,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ur&&cp(x)===v.type)?(w=s(v,_.props),w.ref=zs(m,v,_),w.return=m,w):(w=Ya(_.type,_.key,_.props,null,m.mode,w),w.ref=zs(m,v,_),w.return=m,w)}function h(m,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=oc(_,m.mode,w),v.return=m,v):(v=s(v,_.children||[]),v.return=m,v)}function p(m,v,_,w,x){return v===null||v.tag!==7?(v=ui(_,m.mode,w,x),v.return=m,v):(v=s(v,_),v.return=m,v)}function o(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sc(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case da:return _=Ya(v.type,v.key,v.props,null,m.mode,_),_.ref=zs(m,null,v),_.return=m,_;case Oi:return v=oc(v,m.mode,_),v.return=m,v;case ur:var w=v._init;return o(m,w(v._payload),_)}if(Gs(v)||Ls(v))return v=ui(v,m.mode,_,null),v.return=m,v;ba(m,v)}return null}function u(m,v,_,w){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:l(m,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case da:return _.key===x?i(m,v,_,w):null;case Oi:return _.key===x?h(m,v,_,w):null;case ur:return x=_._init,u(m,v,x(_._payload),w)}if(Gs(_)||Ls(_))return x!==null?null:p(m,v,_,w,null);ba(m,_)}return null}function a(m,v,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(_)||null,l(v,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case da:return m=m.get(w.key===null?_:w.key)||null,i(v,m,w,x);case Oi:return m=m.get(w.key===null?_:w.key)||null,h(v,m,w,x);case ur:var C=w._init;return a(m,v,_,C(w._payload),x)}if(Gs(w)||Ls(w))return m=m.get(_)||null,p(v,m,w,x,null);ba(v,w)}return null}function c(m,v,_,w){for(var x=null,C=null,S=v,T=v=0,I=null;S!==null&&T<_.length;T++){S.index>T?(I=S,S=null):I=S.sibling;var z=u(m,S,_[T],w);if(z===null){S===null&&(S=I);break}t&&S&&z.alternate===null&&e(m,S),v=d(z,v,T),C===null?x=z:C.sibling=z,C=z,S=I}if(T===_.length)return n(m,S),Ve&&Hr(m,T),x;if(S===null){for(;T<_.length;T++)S=o(m,_[T],w),S!==null&&(v=d(S,v,T),C===null?x=S:C.sibling=S,C=S);return Ve&&Hr(m,T),x}for(S=r(m,S);T<_.length;T++)I=a(S,m,T,_[T],w),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),v=d(I,v,T),C===null?x=I:C.sibling=I,C=I);return t&&S.forEach(function(q){return e(m,q)}),Ve&&Hr(m,T),x}function g(m,v,_,w){var x=Ls(_);if(typeof x!="function")throw Error(le(150));if(_=x.call(_),_==null)throw Error(le(151));for(var C=x=null,S=v,T=v=0,I=null,z=_.next();S!==null&&!z.done;T++,z=_.next()){S.index>T?(I=S,S=null):I=S.sibling;var q=u(m,S,z.value,w);if(q===null){S===null&&(S=I);break}t&&S&&q.alternate===null&&e(m,S),v=d(q,v,T),C===null?x=q:C.sibling=q,C=q,S=I}if(z.done)return n(m,S),Ve&&Hr(m,T),x;if(S===null){for(;!z.done;T++,z=_.next())z=o(m,z.value,w),z!==null&&(v=d(z,v,T),C===null?x=z:C.sibling=z,C=z);return Ve&&Hr(m,T),x}for(S=r(m,S);!z.done;T++,z=_.next())z=a(S,m,T,z.value,w),z!==null&&(t&&z.alternate!==null&&S.delete(z.key===null?T:z.key),v=d(z,v,T),C===null?x=z:C.sibling=z,C=z);return t&&S.forEach(function(V){return e(m,V)}),Ve&&Hr(m,T),x}function f(m,v,_,w){if(typeof _=="object"&&_!==null&&_.type===ki&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case da:e:{for(var x=_.key,C=v;C!==null;){if(C.key===x){if(x=_.type,x===ki){if(C.tag===7){n(m,C.sibling),v=s(C,_.props.children),v.return=m,m=v;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ur&&cp(x)===C.type){n(m,C.sibling),v=s(C,_.props),v.ref=zs(m,C,_),v.return=m,m=v;break e}n(m,C);break}else e(m,C);C=C.sibling}_.type===ki?(v=ui(_.props.children,m.mode,w,_.key),v.return=m,m=v):(w=Ya(_.type,_.key,_.props,null,m.mode,w),w.ref=zs(m,v,_),w.return=m,m=w)}return y(m);case Oi:e:{for(C=_.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=s(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=oc(_,m.mode,w),v.return=m,m=v}return y(m);case ur:return C=_._init,f(m,v,C(_._payload),w)}if(Gs(_))return c(m,v,_,w);if(Ls(_))return g(m,v,_,w);ba(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,_),v.return=m,m=v):(n(m,v),v=sc(_,m.mode,w),v.return=m,m=v),y(m)):n(m,v)}return f}var ds=uv(!0),cv=uv(!1),ra={},kn=Vr(ra),wo=Vr(ra),xo=Vr(ra);function Kr(t){if(t===ra)throw Error(le(174));return t}function Ah(t,e){switch(je(xo,e),je(wo,t),je(kn,ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fc(e,t)}$e(kn),je(kn,e)}function ps(){$e(kn),$e(wo),$e(xo)}function fv(t){Kr(xo.current);var e=Kr(kn.current),n=Fc(e,t.type);e!==n&&(je(wo,t),je(kn,n))}function Dh(t){wo.current===t&&($e(kn),$e(wo))}var We=Vr(0);function Cl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ju=[];function Rh(){for(var t=0;t<Ju.length;t++)Ju[t]._workInProgressVersionPrimary=null;Ju.length=0}var Ua=tr.ReactCurrentDispatcher,ec=tr.ReactCurrentBatchConfig,hi=0,He=null,tt=null,ot=null,Sl=!1,ro=!1,Co=0,Cx=0;function dt(){throw Error(le(321))}function Mh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Fh(t,e,n,r,s,d){if(hi=d,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ua.current=t===null||t.memoizedState===null?Ex:Ox,t=n(r,s),ro){d=0;do{if(ro=!1,Co=0,25<=d)throw Error(le(301));d+=1,ot=tt=null,e.updateQueue=null,Ua.current=kx,t=n(r,s)}while(ro)}if(Ua.current=bl,e=tt!==null&&tt.next!==null,hi=0,ot=tt=He=null,Sl=!1,e)throw Error(le(300));return t}function Lh(){var t=Co!==0;return Co=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?He.memoizedState=ot=t:ot=ot.next=t,ot}function tn(){if(tt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=ot===null?He.memoizedState:ot.next;if(e!==null)ot=e,tt=t;else{if(t===null)throw Error(le(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?He.memoizedState=ot=t:ot=ot.next=t}return ot}function So(t,e){return typeof e=="function"?e(t):e}function tc(t){var e=tn(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=tt,s=r.baseQueue,d=n.pending;if(d!==null){if(s!==null){var y=s.next;s.next=d.next,d.next=y}r.baseQueue=s=d,n.pending=null}if(s!==null){d=s.next,r=r.baseState;var l=y=null,i=null,h=d;do{var p=h.lane;if((hi&p)===p)i!==null&&(i=i.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var o={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};i===null?(l=i=o,y=r):i=i.next=o,He.lanes|=p,di|=p}h=h.next}while(h!==null&&h!==d);i===null?y=r:i.next=l,gn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=y,e.baseQueue=i,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do d=s.lane,He.lanes|=d,di|=d,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nc(t){var e=tn(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,d=e.memoizedState;if(s!==null){n.pending=null;var y=s=s.next;do d=t(d,y.action),y=y.next;while(y!==s);gn(d,e.memoizedState)||(Ot=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),n.lastRenderedState=d}return[d,r]}function hv(){}function dv(t,e){var n=He,r=tn(),s=e(),d=!gn(r.memoizedState,s);if(d&&(r.memoizedState=s,Ot=!0),r=r.queue,Ih(mv.bind(null,n,r,t),[t]),r.getSnapshot!==e||d||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,bo(9,gv.bind(null,n,r,s,e),void 0,null),at===null)throw Error(le(349));hi&30||pv(n,e,s)}return s}function pv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gv(t,e,n,r){e.value=n,e.getSnapshot=r,vv(e)&&yv(t)}function mv(t,e,n){return n(function(){vv(e)&&yv(t)})}function vv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function yv(t){var e=Gn(t,1);e!==null&&pn(e,t,1,-1)}function fp(t){var e=yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=Tx.bind(null,He,t),[e.memoizedState,t]}function bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _v(){return tn().memoizedState}function Va(t,e,n,r){var s=yn();He.flags|=t,s.memoizedState=bo(1|e,n,void 0,r===void 0?null:r)}function hu(t,e,n,r){var s=tn();r=r===void 0?null:r;var d=void 0;if(tt!==null){var y=tt.memoizedState;if(d=y.destroy,r!==null&&Mh(r,y.deps)){s.memoizedState=bo(e,n,d,r);return}}He.flags|=t,s.memoizedState=bo(1|e,n,d,r)}function hp(t,e){return Va(8390656,8,t,e)}function Ih(t,e){return hu(2048,8,t,e)}function wv(t,e){return hu(4,2,t,e)}function xv(t,e){return hu(4,4,t,e)}function Cv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sv(t,e,n){return n=n!=null?n.concat([t]):null,hu(4,4,Cv.bind(null,e,t),n)}function jh(){}function bv(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tv(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ev(t,e,n){return hi&21?(gn(n,e)||(n=Pm(),He.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function Sx(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=ec.transition;ec.transition={};try{t(!1),e()}finally{Fe=n,ec.transition=r}}function Ov(){return tn().memoizedState}function bx(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kv(t))Pv(e,n);else if(n=sv(t,e,n,r),n!==null){var s=xt();pn(n,t,r,s),Av(n,e,r)}}function Tx(t,e,n){var r=Dr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kv(t))Pv(e,s);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var y=e.lastRenderedState,l=d(y,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,y)){var i=e.interleaved;i===null?(s.next=s,kh(e)):(s.next=i.next,i.next=s),e.interleaved=s;return}}catch{}finally{}n=sv(t,e,s,r),n!==null&&(s=xt(),pn(n,t,r,s),Av(n,e,r))}}function kv(t){var e=t.alternate;return t===He||e!==null&&e===He}function Pv(t,e){ro=Sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Av(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ph(t,n)}}var bl={readContext:en,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Ex={readContext:en,useCallback:function(t,e){return yn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:hp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Va(4194308,4,Cv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bx.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=yn();return t={current:t},e.memoizedState=t},useState:fp,useDebugValue:jh,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=fp(!1),e=t[0];return t=Sx.bind(null,t[1]),yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=yn();if(Ve){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),at===null)throw Error(le(349));hi&30||pv(r,e,n)}s.memoizedState=n;var d={value:n,getSnapshot:e};return s.queue=d,hp(mv.bind(null,r,d,t),[t]),r.flags|=2048,bo(9,gv.bind(null,r,d,n,e),void 0,null),n},useId:function(){var t=yn(),e=at.identifierPrefix;if(Ve){var n=Un,r=$n;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ox={readContext:en,useCallback:bv,useContext:en,useEffect:Ih,useImperativeHandle:Sv,useInsertionEffect:wv,useLayoutEffect:xv,useMemo:Tv,useReducer:tc,useRef:_v,useState:function(){return tc(So)},useDebugValue:jh,useDeferredValue:function(t){var e=tn();return Ev(e,tt.memoizedState,t)},useTransition:function(){var t=tc(So)[0],e=tn().memoizedState;return[t,e]},useMutableSource:hv,useSyncExternalStore:dv,useId:Ov,unstable_isNewReconciler:!1},kx={readContext:en,useCallback:bv,useContext:en,useEffect:Ih,useImperativeHandle:Sv,useInsertionEffect:wv,useLayoutEffect:xv,useMemo:Tv,useReducer:nc,useRef:_v,useState:function(){return nc(So)},useDebugValue:jh,useDeferredValue:function(t){var e=tn();return tt===null?e.memoizedState=t:Ev(e,tt.memoizedState,t)},useTransition:function(){var t=nc(So)[0],e=tn().memoizedState;return[t,e]},useMutableSource:hv,useSyncExternalStore:dv,useId:Ov,unstable_isNewReconciler:!1};function gs(t,e){try{var n="",r=e;do n+=nw(r),r=r.return;while(r);var s=n}catch(d){s=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:e,stack:s,digest:null}}function rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Px=typeof WeakMap=="function"?WeakMap:Map;function Dv(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){El||(El=!0,pf=r),rf(t,e)},n}function Rv(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rf(t,e)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var y=e.stack;this.componentDidCatch(e.value,{componentStack:y!==null?y:""})}),n}function dp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Px;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vx.bind(null,t,e,n),e.then(t,t))}function pp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var Ax=tr.ReactCurrentOwner,Ot=!1;function _t(t,e,n,r){e.child=t===null?cv(e,null,n,r):ds(e,t.child,n,r)}function mp(t,e,n,r,s){n=n.render;var d=e.ref;return Wi(e,s),r=Fh(t,e,n,r,d,s),n=Lh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qn(t,e,s)):(Ve&&n&&Ch(e),e.flags|=1,_t(t,e,r,s),e.child)}function vp(t,e,n,r,s){if(t===null){var d=n.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=d,Mv(t,e,d,r,s)):(t=Ya(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!(t.lanes&s)){var y=d.memoizedProps;if(n=n.compare,n=n!==null?n:mo,n(y,r)&&t.ref===e.ref)return qn(t,e,s)}return e.flags|=1,t=Rr(d,r),t.ref=e.ref,t.return=e,e.child=t}function Mv(t,e,n,r,s){if(t!==null){var d=t.memoizedProps;if(mo(d,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=d,(t.lanes&s)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,qn(t,e,s)}return sf(t,e,n,r,s)}function Fv(t,e,n){var r=e.pendingProps,s=r.children,d=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ni,Mt),Mt|=n;else{if(!(n&1073741824))return t=d!==null?d.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ni,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=d!==null?d.baseLanes:n,je(Ni,Mt),Mt|=r}else d!==null?(r=d.baseLanes|n,e.memoizedState=null):r=n,je(Ni,Mt),Mt|=r;return _t(t,e,s,n),e.child}function Lv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,s){var d=Pt(n)?ci:vt.current;return d=fs(e,d),Wi(e,s),n=Fh(t,e,n,r,d,s),r=Lh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qn(t,e,s)):(Ve&&r&&Ch(e),e.flags|=1,_t(t,e,n,s),e.child)}function yp(t,e,n,r,s){if(Pt(n)){var d=!0;ml(e)}else d=!1;if(Wi(e,s),e.stateNode===null)Wa(t,e),lv(e,n,r),nf(e,n,r,s),r=!0;else if(t===null){var y=e.stateNode,l=e.memoizedProps;y.props=l;var i=y.context,h=n.contextType;typeof h=="object"&&h!==null?h=en(h):(h=Pt(n)?ci:vt.current,h=fs(e,h));var p=n.getDerivedStateFromProps,o=typeof p=="function"||typeof y.getSnapshotBeforeUpdate=="function";o||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(l!==r||i!==h)&&up(e,y,r,h),cr=!1;var u=e.memoizedState;y.state=u,xl(e,r,y,s),i=e.memoizedState,l!==r||u!==i||kt.current||cr?(typeof p=="function"&&(tf(e,n,p,r),i=e.memoizedState),(l=cr||lp(e,n,l,r,u,i,h))?(o||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(e.flags|=4194308)):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=i),y.props=r,y.state=i,y.context=h,r=l):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{y=e.stateNode,ov(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:an(e.type,l),y.props=h,o=e.pendingProps,u=y.context,i=n.contextType,typeof i=="object"&&i!==null?i=en(i):(i=Pt(n)?ci:vt.current,i=fs(e,i));var a=n.getDerivedStateFromProps;(p=typeof a=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(l!==o||u!==i)&&up(e,y,r,i),cr=!1,u=e.memoizedState,y.state=u,xl(e,r,y,s);var c=e.memoizedState;l!==o||u!==c||kt.current||cr?(typeof a=="function"&&(tf(e,n,a,r),c=e.memoizedState),(h=cr||lp(e,n,h,r,u,c,i)||!1)?(p||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,c,i),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,c,i)),typeof y.componentDidUpdate=="function"&&(e.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof y.componentDidUpdate!="function"||l===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=c),y.props=r,y.state=c,y.context=i,r=h):(typeof y.componentDidUpdate!="function"||l===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,d,s)}function of(t,e,n,r,s,d){Lv(t,e);var y=(e.flags&128)!==0;if(!r&&!y)return s&&rp(e,n,!1),qn(t,e,d);r=e.stateNode,Ax.current=e;var l=y&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&y?(e.child=ds(e,t.child,null,d),e.child=ds(e,null,l,d)):_t(t,e,l,d),e.memoizedState=r.state,s&&rp(e,n,!0),e.child}function Iv(t){var e=t.stateNode;e.pendingContext?np(t,e.pendingContext,e.pendingContext!==e.context):e.context&&np(t,e.context,!1),Ah(t,e.containerInfo)}function _p(t,e,n,r,s){return hs(),bh(s),e.flags|=256,_t(t,e,n,r),e.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function jv(t,e,n){var r=e.pendingProps,s=We.current,d=!1,y=(e.flags&128)!==0,l;if((l=y)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(d=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(We,s&1),t===null)return Jc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(y=r.children,t=r.fallback,d?(r=e.mode,d=e.child,y={mode:"hidden",children:y},!(r&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=gu(y,r,0,null),t=ui(t,r,n,null),d.return=e,t.return=e,d.sibling=t,e.child=d,e.child.memoizedState=lf(n),e.memoizedState=af,t):Nh(e,y));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dx(t,e,y,r,l,s,n);if(d){d=r.fallback,y=e.mode,s=t.child,l=s.sibling;var i={mode:"hidden",children:r.children};return!(y&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=i,e.deletions=null):(r=Rr(s,i),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?d=Rr(l,d):(d=ui(d,y,n,null),d.flags|=2),d.return=e,r.return=e,r.sibling=d,e.child=r,r=d,d=e.child,y=t.child.memoizedState,y=y===null?lf(n):{baseLanes:y.baseLanes|n,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~n,e.memoizedState=af,r}return d=t.child,t=d.sibling,r=Rr(d,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nh(t,e){return e=gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ta(t,e,n,r){return r!==null&&bh(r),ds(e,t.child,null,n),t=Nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dx(t,e,n,r,s,d,y){if(n)return e.flags&256?(e.flags&=-257,r=rc(Error(le(422))),Ta(t,e,y,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(d=r.fallback,s=e.mode,r=gu({mode:"visible",children:r.children},s,0,null),d=ui(d,s,y,null),d.flags|=2,r.return=e,d.return=e,r.sibling=d,e.child=r,e.mode&1&&ds(e,t.child,null,y),e.child.memoizedState=lf(y),e.memoizedState=af,d);if(!(e.mode&1))return Ta(t,e,y,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,d=Error(le(419)),r=rc(d,r,void 0),Ta(t,e,y,r)}if(l=(y&t.childLanes)!==0,Ot||l){if(r=at,r!==null){switch(y&-y){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|y)?0:s,s!==0&&s!==d.retryLane&&(d.retryLane=s,Gn(t,s),pn(r,t,s,-1))}return Wh(),r=rc(Error(le(421))),Ta(t,e,y,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Wx.bind(null,t),s._reactRetry=e,null):(t=d.treeContext,Lt=kr(s.nextSibling),It=e,Ve=!0,fn=null,t!==null&&(Gt[qt++]=$n,Gt[qt++]=Un,Gt[qt++]=fi,$n=t.id,Un=t.overflow,fi=e),e=Nh(e,r.children),e.flags|=4096,e)}function wp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ef(t.return,e,n)}function ic(t,e,n,r,s){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=n,d.tailMode=s)}function Nv(t,e,n){var r=e.pendingProps,s=r.revealOrder,d=r.tail;if(_t(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,n,e);else if(t.tag===19)wp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ic(e,!1,s,n,d);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ic(e,!0,n,null,d);break;case"together":ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rx(t,e,n){switch(e.tag){case 3:Iv(e),hs();break;case 5:fv(e);break;case 1:Pt(e.type)&&ml(e);break;case 4:Ah(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(_l,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?jv(t,e,n):(je(We,We.current&1),t=qn(t,e,n),t!==null?t.sibling:null);je(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Nv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,Fv(t,e,n)}return qn(t,e,n)}var Bv,uf,zv,$v;Bv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uf=function(){};zv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Kr(kn.current);var d=null;switch(n){case"input":s=Ac(t,s),r=Ac(t,r),d=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),d=[];break;case"textarea":s=Mc(t,s),r=Mc(t,r),d=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pl)}Lc(n,r);var y;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(y in l)l.hasOwnProperty(y)&&(n||(n={}),n[y]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(lo.hasOwnProperty(h)?d||(d=[]):(d=d||[]).push(h,null));for(h in r){var i=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&i!==l&&(i!=null||l!=null))if(h==="style")if(l){for(y in l)!l.hasOwnProperty(y)||i&&i.hasOwnProperty(y)||(n||(n={}),n[y]="");for(y in i)i.hasOwnProperty(y)&&l[y]!==i[y]&&(n||(n={}),n[y]=i[y])}else n||(d||(d=[]),d.push(h,n)),n=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,l=l?l.__html:void 0,i!=null&&l!==i&&(d=d||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(d=d||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(lo.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&Be("scroll",t),d||l===i||(d=[])):(d=d||[]).push(h,i))}n&&(d=d||[]).push("style",n);var h=d;(e.updateQueue=h)&&(e.flags|=4)}};$v=function(t,e,n,r){n!==r&&(e.flags|=4)};function $s(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mx(t,e,n){var r=e.pendingProps;switch(Sh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Pt(e.type)&&gl(),pt(e),null;case 3:return r=e.stateNode,ps(),$e(kt),$e(vt),Rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(vf(fn),fn=null))),uf(t,e),pt(e),null;case 5:Dh(e);var s=Kr(xo.current);if(n=e.type,t!==null&&e.stateNode!=null)zv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return pt(e),null}if(t=Kr(kn.current),Sa(e)){r=e.stateNode,n=e.type;var d=e.memoizedProps;switch(r[Sn]=e,r[_o]=d,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Ks.length;s++)Be(Ks[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Pd(r,d),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!d.multiple},Be("invalid",r);break;case"textarea":Dd(r,d),Be("invalid",r)}Lc(n,d),s=null;for(var y in d)if(d.hasOwnProperty(y)){var l=d[y];y==="children"?typeof l=="string"?r.textContent!==l&&(d.suppressHydrationWarning!==!0&&Ca(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(d.suppressHydrationWarning!==!0&&Ca(r.textContent,l,t),s=["children",""+l]):lo.hasOwnProperty(y)&&l!=null&&y==="onScroll"&&Be("scroll",r)}switch(n){case"input":pa(r),Ad(r,d,!0);break;case"textarea":pa(r),Rd(r);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(r.onclick=pl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{y=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=y.createElement(n,{is:r.is}):(t=y.createElement(n),n==="select"&&(y=t,r.multiple?y.multiple=!0:r.size&&(y.size=r.size))):t=y.createElementNS(t,n),t[Sn]=e,t[_o]=r,Bv(t,e,!1,!1),e.stateNode=t;e:{switch(y=Ic(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ks.length;s++)Be(Ks[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Pd(t,r),s=Ac(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Dd(t,r),s=Mc(t,r),Be("invalid",t);break;default:s=r}Lc(n,s),l=s;for(d in l)if(l.hasOwnProperty(d)){var i=l[d];d==="style"?vm(t,i):d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&gm(t,i)):d==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&uo(t,i):typeof i=="number"&&uo(t,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(lo.hasOwnProperty(d)?i!=null&&d==="onScroll"&&Be("scroll",t):i!=null&&lh(t,d,i,y))}switch(n){case"input":pa(t),Ad(t,r,!1);break;case"textarea":pa(t),Rd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,d=r.value,d!=null?zi(t,!!r.multiple,d,!1):r.defaultValue!=null&&zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)$v(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Kr(xo.current),Kr(kn.current),Sa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(d=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:Ca(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ca(r.nodeValue,n,(t.mode&1)!==0)}d&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return pt(e),null;case 13:if($e(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Lt!==null&&e.mode&1&&!(e.flags&128))iv(),hs(),e.flags|=98560,d=!1;else if(d=Sa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!d)throw Error(le(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(le(317));d[Sn]=e}else hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),d=!1}else fn!==null&&(vf(fn),fn=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?rt===0&&(rt=3):Wh())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return ps(),uf(t,e),t===null&&vo(e.stateNode.containerInfo),pt(e),null;case 10:return Oh(e.type._context),pt(e),null;case 17:return Pt(e.type)&&gl(),pt(e),null;case 19:if($e(We),d=e.memoizedState,d===null)return pt(e),null;if(r=(e.flags&128)!==0,y=d.rendering,y===null)if(r)$s(d,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(y=Cl(t),y!==null){for(e.flags|=128,$s(d,!1),r=y.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)d=n,t=r,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(We,We.current&1|2),e.child}t=t.sibling}d.tail!==null&&Ke()>ms&&(e.flags|=128,r=!0,$s(d,!1),e.lanes=4194304)}else{if(!r)if(t=Cl(y),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$s(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ve)return pt(e),null}else 2*Ke()-d.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,r=!0,$s(d,!1),e.lanes=4194304);d.isBackwards?(y.sibling=e.child,e.child=y):(n=d.last,n!==null?n.sibling=y:e.child=y,d.last=y)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=Ke(),e.sibling=null,n=We.current,je(We,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function Fx(t,e){switch(Sh(e),e.tag){case 1:return Pt(e.type)&&gl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),$e(kt),$e(vt),Rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dh(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return ps(),null;case 10:return Oh(e.type._context),null;case 22:case 23:return Vh(),null;case 24:return null;default:return null}}var Ea=!1,mt=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function cf(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var xp=!1;function Ix(t,e){if(Xc=fl,t=Hm(),xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var y=0,l=-1,i=-1,h=0,p=0,o=t,u=null;t:for(;;){for(var a;o!==n||s!==0&&o.nodeType!==3||(l=y+s),o!==d||r!==0&&o.nodeType!==3||(i=y+r),o.nodeType===3&&(y+=o.nodeValue.length),(a=o.firstChild)!==null;)u=o,o=a;for(;;){if(o===t)break t;if(u===n&&++h===s&&(l=y),u===d&&++p===r&&(i=y),(a=o.nextSibling)!==null)break;o=u,u=o.parentNode}o=a}n=l===-1||i===-1?null:{start:l,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yc={focusedElem:t,selectionRange:n},fl=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var c=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var g=c.memoizedProps,f=c.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:an(e.type,g),f);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(w){Ge(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return c=xp,xp=!1,c}function io(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var d=s.destroy;s.destroy=void 0,d!==void 0&&cf(e,n,d)}s=s.next}while(s!==r)}}function du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ff(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uv(t){var e=t.alternate;e!==null&&(t.alternate=null,Uv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[_o],delete e[Kc],delete e[yx],delete e[_x])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vv(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pl));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(df(t,e,n),t=t.sibling;t!==null;)df(t,e,n),t=t.sibling}var ut=null,cn=!1;function ir(t,e,n){for(n=n.child;n!==null;)Wv(t,e,n),n=n.sibling}function Wv(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(su,n)}catch{}switch(n.tag){case 5:mt||ji(n,e);case 6:var r=ut,s=cn;ut=null,ir(t,e,n),ut=r,cn=s,ut!==null&&(cn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(cn?(t=ut,n=n.stateNode,t.nodeType===8?Qu(t.parentNode,n):t.nodeType===1&&Qu(t,n),po(t)):Qu(ut,n.stateNode));break;case 4:r=ut,s=cn,ut=n.stateNode.containerInfo,cn=!0,ir(t,e,n),ut=r,cn=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var d=s,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&cf(n,e,y),s=s.next}while(s!==r)}ir(t,e,n);break;case 1:if(!mt&&(ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ge(n,e,l)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,ir(t,e,n),mt=r):ir(t,e,n);break;default:ir(t,e,n)}}function Sp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lx),e.forEach(function(r){var s=Hx.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var d=t,y=e,l=y;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,cn=!1;break e;case 3:ut=l.stateNode.containerInfo,cn=!0;break e;case 4:ut=l.stateNode.containerInfo,cn=!0;break e}l=l.return}if(ut===null)throw Error(le(160));Wv(d,y,s),ut=null,cn=!1;var i=s.alternate;i!==null&&(i.return=null),s.return=null}catch(h){Ge(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hv(e,t),e=e.sibling}function Hv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),vn(t),r&4){try{io(3,t,t.return),du(3,t)}catch(g){Ge(t,t.return,g)}try{io(5,t,t.return)}catch(g){Ge(t,t.return,g)}}break;case 1:sn(e,t),vn(t),r&512&&n!==null&&ji(n,n.return);break;case 5:if(sn(e,t),vn(t),r&512&&n!==null&&ji(n,n.return),t.flags&32){var s=t.stateNode;try{uo(s,"")}catch(g){Ge(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var d=t.memoizedProps,y=n!==null?n.memoizedProps:d,l=t.type,i=t.updateQueue;if(t.updateQueue=null,i!==null)try{l==="input"&&d.type==="radio"&&d.name!=null&&hm(s,d),Ic(l,y);var h=Ic(l,d);for(y=0;y<i.length;y+=2){var p=i[y],o=i[y+1];p==="style"?vm(s,o):p==="dangerouslySetInnerHTML"?gm(s,o):p==="children"?uo(s,o):lh(s,p,o,h)}switch(l){case"input":Dc(s,d);break;case"textarea":dm(s,d);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!d.multiple;var a=d.value;a!=null?zi(s,!!d.multiple,a,!1):u!==!!d.multiple&&(d.defaultValue!=null?zi(s,!!d.multiple,d.defaultValue,!0):zi(s,!!d.multiple,d.multiple?[]:"",!1))}s[_o]=d}catch(g){Ge(t,t.return,g)}}break;case 6:if(sn(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,d=t.memoizedProps;try{s.nodeValue=d}catch(g){Ge(t,t.return,g)}}break;case 3:if(sn(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{po(e.containerInfo)}catch(g){Ge(t,t.return,g)}break;case 4:sn(e,t),vn(t);break;case 13:sn(e,t),vn(t),s=t.child,s.flags&8192&&(d=s.memoizedState!==null,s.stateNode.isHidden=d,!d||s.alternate!==null&&s.alternate.memoizedState!==null||($h=Ke())),r&4&&Sp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(h=mt)||p,sn(e,t),mt=h):sn(e,t),vn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(ge=t,p=t.child;p!==null;){for(o=ge=p;ge!==null;){switch(u=ge,a=u.child,u.tag){case 0:case 11:case 14:case 15:io(4,u,u.return);break;case 1:ji(u,u.return);var c=u.stateNode;if(typeof c.componentWillUnmount=="function"){r=u,n=u.return;try{e=r,c.props=e.memoizedProps,c.state=e.memoizedState,c.componentWillUnmount()}catch(g){Ge(r,n,g)}}break;case 5:ji(u,u.return);break;case 22:if(u.memoizedState!==null){Tp(o);continue}}a!==null?(a.return=u,ge=a):Tp(o)}p=p.sibling}e:for(p=null,o=t;;){if(o.tag===5){if(p===null){p=o;try{s=o.stateNode,h?(d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(l=o.stateNode,i=o.memoizedProps.style,y=i!=null&&i.hasOwnProperty("display")?i.display:null,l.style.display=mm("display",y))}catch(g){Ge(t,t.return,g)}}}else if(o.tag===6){if(p===null)try{o.stateNode.nodeValue=h?"":o.memoizedProps}catch(g){Ge(t,t.return,g)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;p===o&&(p=null),o=o.return}p===o&&(p=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:sn(e,t),vn(t),r&4&&Sp(t);break;case 21:break;default:sn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vv(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(uo(s,""),r.flags&=-33);var d=Cp(t);df(t,d,s);break;case 3:case 4:var y=r.stateNode.containerInfo,l=Cp(t);hf(t,l,y);break;default:throw Error(le(161))}}catch(i){Ge(t,t.return,i)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jx(t,e,n){ge=t,Xv(t)}function Xv(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,d=s.child;if(s.tag===22&&r){var y=s.memoizedState!==null||Ea;if(!y){var l=s.alternate,i=l!==null&&l.memoizedState!==null||mt;l=Ea;var h=mt;if(Ea=y,(mt=i)&&!h)for(ge=s;ge!==null;)y=ge,i=y.child,y.tag===22&&y.memoizedState!==null?Ep(s):i!==null?(i.return=y,ge=i):Ep(s);for(;d!==null;)ge=d,Xv(d),d=d.sibling;ge=s,Ea=l,mt=h}bp(t)}else s.subtreeFlags&8772&&d!==null?(d.return=s,ge=d):bp(t)}}function bp(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&ap(e,d,r);break;case 3:var y=e.updateQueue;if(y!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ap(e,y,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var i=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var o=p.dehydrated;o!==null&&po(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}mt||e.flags&512&&ff(e)}catch(u){Ge(e,e.return,u)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Tp(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Ep(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{du(4,e)}catch(i){Ge(e,n,i)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(i){Ge(e,s,i)}}var d=e.return;try{ff(e)}catch(i){Ge(e,d,i)}break;case 5:var y=e.return;try{ff(e)}catch(i){Ge(e,y,i)}}}catch(i){Ge(e,e.return,i)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var Nx=Math.ceil,Tl=tr.ReactCurrentDispatcher,Bh=tr.ReactCurrentOwner,Qt=tr.ReactCurrentBatchConfig,Pe=0,at=null,Qe=null,ct=0,Mt=0,Ni=Vr(0),rt=0,To=null,di=0,pu=0,zh=0,so=null,Et=null,$h=0,ms=1/0,Nn=null,El=!1,pf=null,Ar=null,Oa=!1,Cr=null,Ol=0,oo=0,gf=null,Ha=-1,Xa=0;function xt(){return Pe&6?Ke():Ha!==-1?Ha:Ha=Ke()}function Dr(t){return t.mode&1?Pe&2&&ct!==0?ct&-ct:xx.transition!==null?(Xa===0&&(Xa=Pm()),Xa):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Im(t.type)),t):1}function pn(t,e,n,r){if(50<oo)throw oo=0,gf=null,Error(le(185));ea(t,n,r),(!(Pe&2)||t!==at)&&(t===at&&(!(Pe&2)&&(pu|=n),rt===4&&hr(t,ct)),At(t,r),n===1&&Pe===0&&!(e.mode&1)&&(ms=Ke()+500,cu&&Wr()))}function At(t,e){var n=t.callbackNode;xw(t,e);var r=cl(t,t===at?ct:0);if(r===0)n!==null&&Ld(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ld(n),e===1)t.tag===0?wx(Op.bind(null,t)):tv(Op.bind(null,t)),mx(function(){!(Pe&6)&&Wr()}),n=null;else{switch(Am(r)){case 1:n=dh;break;case 4:n=Om;break;case 16:n=ul;break;case 536870912:n=km;break;default:n=ul}n=ey(n,Yv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yv(t,e){if(Ha=-1,Xa=0,Pe&6)throw Error(le(327));var n=t.callbackNode;if(Hi()&&t.callbackNode!==n)return null;var r=cl(t,t===at?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kl(t,r);else{e=r;var s=Pe;Pe|=2;var d=qv();(at!==t||ct!==e)&&(Nn=null,ms=Ke()+500,li(t,e));do try{$x();break}catch(l){Gv(t,l)}while(1);Eh(),Tl.current=d,Pe=s,Qe!==null?e=0:(at=null,ct=0,e=rt)}if(e!==0){if(e===2&&(s=$c(t),s!==0&&(r=s,e=mf(t,s))),e===1)throw n=To,li(t,0),hr(t,r),At(t,Ke()),n;if(e===6)hr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bx(s)&&(e=kl(t,r),e===2&&(d=$c(t),d!==0&&(r=d,e=mf(t,d))),e===1))throw n=To,li(t,0),hr(t,r),At(t,Ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Xr(t,Et,Nn);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=$h+500-Ke(),10<e)){if(cl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qc(Xr.bind(null,t,Et,Nn),e);break}Xr(t,Et,Nn);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var y=31-dn(r);d=1<<y,y=e[y],y>s&&(s=y),r&=~d}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nx(r/1960))-r,10<r){t.timeoutHandle=qc(Xr.bind(null,t,Et,Nn),r);break}Xr(t,Et,Nn);break;case 5:Xr(t,Et,Nn);break;default:throw Error(le(329))}}}return At(t,Ke()),t.callbackNode===n?Yv.bind(null,t):null}function mf(t,e){var n=so;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=kl(t,e),t!==2&&(e=Et,Et=n,e!==null&&vf(e)),t}function vf(t){Et===null?Et=t:Et.push.apply(Et,t)}function Bx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],d=s.getSnapshot;s=s.value;try{if(!gn(d(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~zh,e&=~pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Op(t){if(Pe&6)throw Error(le(327));Hi();var e=cl(t,0);if(!(e&1))return At(t,Ke()),null;var n=kl(t,e);if(t.tag!==0&&n===2){var r=$c(t);r!==0&&(e=r,n=mf(t,r))}if(n===1)throw n=To,li(t,0),hr(t,e),At(t,Ke()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xr(t,Et,Nn),At(t,Ke()),null}function Uh(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(ms=Ke()+500,cu&&Wr())}}function pi(t){Cr!==null&&Cr.tag===0&&!(Pe&6)&&Hi();var e=Pe;Pe|=1;var n=Qt.transition,r=Fe;try{if(Qt.transition=null,Fe=1,t)return t()}finally{Fe=r,Qt.transition=n,Pe=e,!(Pe&6)&&Wr()}}function Vh(){Mt=Ni.current,$e(Ni)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gx(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:ps(),$e(kt),$e(vt),Rh();break;case 5:Dh(r);break;case 4:ps();break;case 13:$e(We);break;case 19:$e(We);break;case 10:Oh(r.type._context);break;case 22:case 23:Vh()}n=n.return}if(at=t,Qe=t=Rr(t.current,null),ct=Mt=e,rt=0,To=null,zh=pu=di=0,Et=so=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,d=n.pending;if(d!==null){var y=d.next;d.next=s,r.next=y}n.pending=r}qr=null}return t}function Gv(t,e){do{var n=Qe;try{if(Eh(),Ua.current=bl,Sl){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sl=!1}if(hi=0,ot=tt=He=null,ro=!1,Co=0,Bh.current=null,n===null||n.return===null){rt=1,To=e,Qe=null;break}e:{var d=t,y=n.return,l=n,i=e;if(e=ct,l.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i,p=l,o=p.tag;if(!(p.mode&1)&&(o===0||o===11||o===15)){var u=p.alternate;u?(p.updateQueue=u.updateQueue,p.memoizedState=u.memoizedState,p.lanes=u.lanes):(p.updateQueue=null,p.memoizedState=null)}var a=pp(y);if(a!==null){a.flags&=-257,gp(a,y,l,d,e),a.mode&1&&dp(d,h,e),e=a,i=h;var c=e.updateQueue;if(c===null){var g=new Set;g.add(i),e.updateQueue=g}else c.add(i);break e}else{if(!(e&1)){dp(d,h,e),Wh();break e}i=Error(le(426))}}else if(Ve&&l.mode&1){var f=pp(y);if(f!==null){!(f.flags&65536)&&(f.flags|=256),gp(f,y,l,d,e),bh(gs(i,l));break e}}d=i=gs(i,l),rt!==4&&(rt=2),so===null?so=[d]:so.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var m=Dv(d,i,e);op(d,m);break e;case 1:l=i;var v=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_)))){d.flags|=65536,e&=-e,d.lanes|=e;var w=Rv(d,l,e);op(d,w);break e}}d=d.return}while(d!==null)}Qv(n)}catch(x){e=x,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function qv(){var t=Tl.current;return Tl.current=bl,t===null?bl:t}function Wh(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(di&268435455)&&!(pu&268435455)||hr(at,ct)}function kl(t,e){var n=Pe;Pe|=2;var r=qv();(at!==t||ct!==e)&&(Nn=null,li(t,e));do try{zx();break}catch(s){Gv(t,s)}while(1);if(Eh(),Pe=n,Tl.current=r,Qe!==null)throw Error(le(261));return at=null,ct=0,rt}function zx(){for(;Qe!==null;)Kv(Qe)}function $x(){for(;Qe!==null&&!hw();)Kv(Qe)}function Kv(t){var e=Jv(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?Qv(t):Qe=e,Bh.current=null}function Qv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fx(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Qe=null;return}}else if(n=Mx(n,e,Mt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);rt===0&&(rt=5)}function Xr(t,e,n){var r=Fe,s=Qt.transition;try{Qt.transition=null,Fe=1,Ux(t,e,n,r)}finally{Qt.transition=s,Fe=r}return null}function Ux(t,e,n,r){do Hi();while(Cr!==null);if(Pe&6)throw Error(le(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var d=n.lanes|n.childLanes;if(Cw(t,d),t===at&&(Qe=at=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,ey(ul,function(){return Hi(),null})),d=(n.flags&15990)!==0,n.subtreeFlags&15990||d){d=Qt.transition,Qt.transition=null;var y=Fe;Fe=1;var l=Pe;Pe|=4,Bh.current=null,Ix(t,n),Hv(n,t),lx(Yc),fl=!!Xc,Yc=Xc=null,t.current=n,jx(n),dw(),Pe=l,Fe=y,Qt.transition=d}else t.current=n;if(Oa&&(Oa=!1,Cr=t,Ol=s),d=t.pendingLanes,d===0&&(Ar=null),mw(n.stateNode),At(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(El)throw El=!1,t=pf,pf=null,t;return Ol&1&&t.tag!==0&&Hi(),d=t.pendingLanes,d&1?t===gf?oo++:(oo=0,gf=t):oo=0,Wr(),null}function Hi(){if(Cr!==null){var t=Am(Ol),e=Qt.transition,n=Fe;try{if(Qt.transition=null,Fe=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,Ol=0,Pe&6)throw Error(le(331));var s=Pe;for(Pe|=4,ge=t.current;ge!==null;){var d=ge,y=d.child;if(ge.flags&16){var l=d.deletions;if(l!==null){for(var i=0;i<l.length;i++){var h=l[i];for(ge=h;ge!==null;){var p=ge;switch(p.tag){case 0:case 11:case 15:io(8,p,d)}var o=p.child;if(o!==null)o.return=p,ge=o;else for(;ge!==null;){p=ge;var u=p.sibling,a=p.return;if(Uv(p),p===h){ge=null;break}if(u!==null){u.return=a,ge=u;break}ge=a}}}var c=d.alternate;if(c!==null){var g=c.child;if(g!==null){c.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(g!==null)}}ge=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ge=y;else e:for(;ge!==null;){if(d=ge,d.flags&2048)switch(d.tag){case 0:case 11:case 15:io(9,d,d.return)}var m=d.sibling;if(m!==null){m.return=d.return,ge=m;break e}ge=d.return}}var v=t.current;for(ge=v;ge!==null;){y=ge;var _=y.child;if(y.subtreeFlags&2064&&_!==null)_.return=y,ge=_;else e:for(y=v;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:du(9,l)}}catch(x){Ge(l,l.return,x)}if(l===y){ge=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ge=w;break e}ge=l.return}}if(Pe=s,Wr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(su,t)}catch{}r=!0}return r}finally{Fe=n,Qt.transition=e}}return!1}function kp(t,e,n){e=gs(n,e),e=Dv(t,e,1),t=Pr(t,e,1),e=xt(),t!==null&&(ea(t,1,e),At(t,e))}function Ge(t,e,n){if(t.tag===3)kp(t,t,n);else for(;e!==null;){if(e.tag===3){kp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=gs(n,t),t=Rv(e,t,1),e=Pr(e,t,1),t=xt(),e!==null&&(ea(e,1,t),At(e,t));break}}e=e.return}}function Vx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ct&n)===n&&(rt===4||rt===3&&(ct&130023424)===ct&&500>Ke()-$h?li(t,0):zh|=n),At(t,e)}function Zv(t,e){e===0&&(t.mode&1?(e=va,va<<=1,!(va&130023424)&&(va=4194304)):e=1);var n=xt();t=Gn(t,e),t!==null&&(ea(t,e,n),At(t,n))}function Wx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zv(t,n)}function Hx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),Zv(t,n)}var Jv;Jv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,Rx(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Ve&&e.flags&1048576&&nv(e,yl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var s=fs(e,vt.current);Wi(e,n),s=Fh(null,e,r,t,s,n);var d=Lh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(d=!0,ml(e)):d=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ph(e),s.updater=fu,e.stateNode=s,s._reactInternals=e,nf(e,r,t,n),e=of(null,e,r,!0,d,n)):(e.tag=0,Ve&&d&&Ch(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wa(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Yx(r),t=an(r,t),s){case 0:e=sf(null,e,r,t,n);break e;case 1:e=yp(null,e,r,t,n);break e;case 11:e=mp(null,e,r,t,n);break e;case 14:e=vp(null,e,r,an(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),sf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),yp(t,e,r,s,n);case 3:e:{if(Iv(e),t===null)throw Error(le(387));r=e.pendingProps,d=e.memoizedState,s=d.element,ov(t,e),xl(e,r,null,n);var y=e.memoizedState;if(r=y.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){s=gs(Error(le(423)),e),e=_p(t,e,r,n,s);break e}else if(r!==s){s=gs(Error(le(424)),e),e=_p(t,e,r,n,s);break e}else for(Lt=kr(e.stateNode.containerInfo.firstChild),It=e,Ve=!0,fn=null,n=cv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),r===s){e=qn(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return fv(e),t===null&&Jc(e),r=e.type,s=e.pendingProps,d=t!==null?t.memoizedProps:null,y=s.children,Gc(r,s)?y=null:d!==null&&Gc(r,d)&&(e.flags|=32),Lv(t,e),_t(t,e,y,n),e.child;case 6:return t===null&&Jc(e),null;case 13:return jv(t,e,n);case 4:return Ah(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ds(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),mp(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,d=e.memoizedProps,y=s.value,je(_l,r._currentValue),r._currentValue=y,d!==null)if(gn(d.value,y)){if(d.children===s.children&&!kt.current){e=qn(t,e,n);break e}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var l=d.dependencies;if(l!==null){y=d.child;for(var i=l.firstContext;i!==null;){if(i.context===r){if(d.tag===1){i=Wn(-1,n&-n),i.tag=2;var h=d.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i}}d.lanes|=n,i=d.alternate,i!==null&&(i.lanes|=n),ef(d.return,n,e),l.lanes|=n;break}i=i.next}}else if(d.tag===10)y=d.type===e.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(le(341));y.lanes|=n,l=y.alternate,l!==null&&(l.lanes|=n),ef(y,n,e),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wi(e,n),s=en(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=an(r,e.pendingProps),s=an(r.type,s),vp(t,e,r,s,n);case 15:return Mv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Wa(t,e),e.tag=1,Pt(r)?(t=!0,ml(e)):t=!1,Wi(e,n),lv(e,r,s),nf(e,r,s,n),of(null,e,r,!0,t,n);case 19:return Nv(t,e,n);case 22:return Fv(t,e,n)}throw Error(le(156,e.tag))};function ey(t,e){return Em(t,e)}function Xx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new Xx(t,e,n,r)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yx(t){if(typeof t=="function")return Hh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ch)return 11;if(t===fh)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ya(t,e,n,r,s,d){var y=2;if(r=t,typeof t=="function")Hh(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case ki:return ui(n.children,s,d,e);case uh:y=8,s|=8;break;case Ec:return t=Kt(12,n,e,s|2),t.elementType=Ec,t.lanes=d,t;case Oc:return t=Kt(13,n,e,s),t.elementType=Oc,t.lanes=d,t;case kc:return t=Kt(19,n,e,s),t.elementType=kc,t.lanes=d,t;case um:return gu(n,s,d,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case am:y=10;break e;case lm:y=9;break e;case ch:y=11;break e;case fh:y=14;break e;case ur:y=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Kt(y,n,e,s),e.elementType=t,e.type=r,e.lanes=d,e}function ui(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function gu(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=um,t.lanes=n,t.stateNode={isHidden:!1},t}function sc(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function oc(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xh(t,e,n,r,s,d,y,l,i){return t=new Gx(t,e,n,l,i),e===1?(e=1,d===!0&&(e|=8)):e=0,d=Kt(3,null,null,e),t.current=d,d.stateNode=t,d.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(d),t}function qx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ty(t){if(!t)return Lr;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Pt(n))return ev(t,n,e)}return e}function ny(t,e,n,r,s,d,y,l,i){return t=Xh(n,r,!0,t,s,d,y,l,i),t.context=ty(null),n=t.current,r=xt(),s=Dr(n),d=Wn(r,s),d.callback=e??null,Pr(n,d,s),t.current.lanes=s,ea(t,s,r),At(t,r),t}function mu(t,e,n,r){var s=e.current,d=xt(),y=Dr(s);return n=ty(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(d,y),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(s,e,y),t!==null&&(pn(t,s,y,d),$a(t,s,y)),y}function Pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yh(t,e){Pp(t,e),(t=t.alternate)&&Pp(t,e)}function Kx(){return null}var ry=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}vu.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));mu(t,e,null,null)};vu.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){mu(null,t,null,null)}),e[Yn]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fr.length&&e!==0&&e<fr[n].priority;n++);fr.splice(n,0,t),n===0&&Lm(t)}};function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function Qx(t,e,n,r,s){if(s){if(typeof r=="function"){var d=r;r=function(){var h=Pl(y);d.call(h)}}var y=ny(e,r,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=y,t[Yn]=y.current,vo(t.nodeType===8?t.parentNode:t),pi(),y}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=Pl(i);l.call(h)}}var i=Xh(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=i,t[Yn]=i.current,vo(t.nodeType===8?t.parentNode:t),pi(function(){mu(e,i,n,r)}),i}function _u(t,e,n,r,s){var d=n._reactRootContainer;if(d){var y=d;if(typeof s=="function"){var l=s;s=function(){var i=Pl(y);l.call(i)}}mu(e,y,t,s)}else y=Qx(n,e,t,s,r);return Pl(y)}Dm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qs(e.pendingLanes);n!==0&&(ph(e,n|1),At(e,Ke()),!(Pe&6)&&(ms=Ke()+500,Wr()))}break;case 13:pi(function(){var r=Gn(t,1);if(r!==null){var s=xt();pn(r,t,1,s)}}),Yh(t,1)}};gh=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=xt();pn(e,t,134217728,n)}Yh(t,134217728)}};Rm=function(t){if(t.tag===13){var e=Dr(t),n=Gn(t,e);if(n!==null){var r=xt();pn(n,t,e,r)}Yh(t,e)}};Mm=function(){return Fe};Fm=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Nc=function(t,e,n){switch(e){case"input":if(Dc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=uu(r);if(!s)throw Error(le(90));fm(r),Dc(r,s)}}}break;case"textarea":dm(t,n);break;case"select":e=n.value,e!=null&&zi(t,!!n.multiple,e,!1)}};wm=Uh;xm=pi;var Zx={usingClientEntryPoint:!1,Events:[na,Ri,uu,ym,_m,Uh]},Us={findFiberByHostInstance:Gr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Jx={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bm(t),t===null?null:t.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{su=ka.inject(Jx),On=ka}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(e))throw Error(le(200));return qx(t,e,null,n)};Bt.createRoot=function(t,e){if(!qh(t))throw Error(le(299));var n=!1,r="",s=ry;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xh(t,1,!1,null,null,n,!1,r,s),t[Yn]=e.current,vo(t.nodeType===8?t.parentNode:t),new Gh(e)};Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=bm(e),t=t===null?null:t.stateNode,t};Bt.flushSync=function(t){return pi(t)};Bt.hydrate=function(t,e,n){if(!yu(e))throw Error(le(200));return _u(null,t,e,!0,n)};Bt.hydrateRoot=function(t,e,n){if(!qh(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,s=!1,d="",y=ry;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),e=ny(e,null,t,1,n??null,s,!1,d,y),t[Yn]=e.current,vo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vu(e)};Bt.render=function(t,e,n){if(!yu(e))throw Error(le(200));return _u(null,t,e,!1,n)};Bt.unmountComponentAtNode=function(t){if(!yu(t))throw Error(le(40));return t._reactRootContainer?(pi(function(){_u(null,null,t,!1,function(){t._reactRootContainer=null,t[Yn]=null})}),!0):!1};Bt.unstable_batchedUpdates=Uh;Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yu(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return _u(t,e,n,!1,r)};Bt.version="18.2.0-next-9e3b772b8-20220608";function iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iy)}catch(t){console.error(t)}}iy(),nm.exports=Bt;var ia=nm.exports;const eC=Hg(ia);var Dp=ia;bc.createRoot=Dp.createRoot,bc.hydrateRoot=Dp.hydrateRoot;function sy(t,e){return function(){return t.apply(e,arguments)}}const{toString:tC}=Object.prototype,{getPrototypeOf:Kh}=Object,wu=(t=>e=>{const n=tC.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mn=t=>(t=t.toLowerCase(),e=>wu(e)===t),xu=t=>e=>typeof e===t,{isArray:ks}=Array,Eo=xu("undefined");function nC(t){return t!==null&&!Eo(t)&&t.constructor!==null&&!Eo(t.constructor)&&Zt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oy=Mn("ArrayBuffer");function rC(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oy(t.buffer),e}const iC=xu("string"),Zt=xu("function"),ay=xu("number"),Cu=t=>t!==null&&typeof t=="object",sC=t=>t===!0||t===!1,Ga=t=>{if(wu(t)!=="object")return!1;const e=Kh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oC=Mn("Date"),aC=Mn("File"),lC=Mn("Blob"),uC=Mn("FileList"),cC=t=>Cu(t)&&Zt(t.pipe),fC=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zt(t.append)&&((e=wu(t))==="formdata"||e==="object"&&Zt(t.toString)&&t.toString()==="[object FormData]"))},hC=Mn("URLSearchParams"),dC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ks(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const d=n?Object.getOwnPropertyNames(t):Object.keys(t),y=d.length;let l;for(r=0;r<y;r++)l=d[r],e.call(null,t[l],l,t)}}function ly(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const uy=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cy=t=>!Eo(t)&&t!==uy;function yf(){const{caseless:t}=cy(this)&&this||{},e={},n=(r,s)=>{const d=t&&ly(e,s)||s;Ga(e[d])&&Ga(r)?e[d]=yf(e[d],r):Ga(r)?e[d]=yf({},r):ks(r)?e[d]=r.slice():e[d]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&sa(arguments[r],n);return e}const pC=(t,e,n,{allOwnKeys:r}={})=>(sa(e,(s,d)=>{n&&Zt(s)?t[d]=sy(s,n):t[d]=s},{allOwnKeys:r}),t),gC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mC=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vC=(t,e,n,r)=>{let s,d,y;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),d=s.length;d-- >0;)y=s[d],(!r||r(y,t,e))&&!l[y]&&(e[y]=t[y],l[y]=!0);t=n!==!1&&Kh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_C=t=>{if(!t)return null;if(ks(t))return t;let e=t.length;if(!ay(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kh(Uint8Array)),xC=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const d=s.value;e.call(t,d[0],d[1])}},CC=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},SC=Mn("HTMLFormElement"),bC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rp=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),TC=Mn("RegExp"),fy=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sa(n,(s,d)=>{let y;(y=e(s,d,t))!==!1&&(r[d]=y||s)}),Object.defineProperties(t,r)},EC=t=>{fy(t,(e,n)=>{if(Zt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Zt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},OC=(t,e)=>{const n={},r=s=>{s.forEach(d=>{n[d]=!0})};return ks(t)?r(t):r(String(t).split(e)),n},kC=()=>{},PC=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ac="abcdefghijklmnopqrstuvwxyz",Mp="0123456789",hy={DIGIT:Mp,ALPHA:ac,ALPHA_DIGIT:ac+ac.toUpperCase()+Mp},AC=(t=16,e=hy.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DC(t){return!!(t&&Zt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const RC=t=>{const e=new Array(10),n=(r,s)=>{if(Cu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const d=ks(r)?[]:{};return sa(r,(y,l)=>{const i=n(y,s+1);!Eo(i)&&(d[l]=i)}),e[s]=void 0,d}}return r};return n(t,0)},MC=Mn("AsyncFunction"),FC=t=>t&&(Cu(t)||Zt(t))&&Zt(t.then)&&Zt(t.catch),ie={isArray:ks,isArrayBuffer:oy,isBuffer:nC,isFormData:fC,isArrayBufferView:rC,isString:iC,isNumber:ay,isBoolean:sC,isObject:Cu,isPlainObject:Ga,isUndefined:Eo,isDate:oC,isFile:aC,isBlob:lC,isRegExp:TC,isFunction:Zt,isStream:cC,isURLSearchParams:hC,isTypedArray:wC,isFileList:uC,forEach:sa,merge:yf,extend:pC,trim:dC,stripBOM:gC,inherits:mC,toFlatObject:vC,kindOf:wu,kindOfTest:Mn,endsWith:yC,toArray:_C,forEachEntry:xC,matchAll:CC,isHTMLForm:SC,hasOwnProperty:Rp,hasOwnProp:Rp,reduceDescriptors:fy,freezeMethods:EC,toObjectSet:OC,toCamelCase:bC,noop:kC,toFiniteNumber:PC,findKey:ly,global:uy,isContextDefined:cy,ALPHABET:hy,generateString:AC,isSpecCompliantForm:DC,toJSONObject:RC,isAsyncFn:MC,isThenable:FC};function ke(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ie.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const dy=ke.prototype,py={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{py[t]={value:t}});Object.defineProperties(ke,py);Object.defineProperty(dy,"isAxiosError",{value:!0});ke.from=(t,e,n,r,s,d)=>{const y=Object.create(dy);return ie.toFlatObject(t,y,function(i){return i!==Error.prototype},l=>l!=="isAxiosError"),ke.call(y,t.message,e,n,r,s),y.cause=t,y.name=t.name,d&&Object.assign(y,d),y};const LC=null;function _f(t){return ie.isPlainObject(t)||ie.isArray(t)}function gy(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function Fp(t,e,n){return t?t.concat(e).map(function(s,d){return s=gy(s),!n&&d?"["+s+"]":s}).join(n?".":""):e}function IC(t){return ie.isArray(t)&&!t.some(_f)}const jC=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function Su(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,f){return!ie.isUndefined(f[g])});const r=n.metaTokens,s=n.visitor||p,d=n.dots,y=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(s))throw new TypeError("visitor must be a function");function h(c){if(c===null)return"";if(ie.isDate(c))return c.toISOString();if(!i&&ie.isBlob(c))throw new ke("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(c)||ie.isTypedArray(c)?i&&typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function p(c,g,f){let m=c;if(c&&!f&&typeof c=="object"){if(ie.endsWith(g,"{}"))g=r?g:g.slice(0,-2),c=JSON.stringify(c);else if(ie.isArray(c)&&IC(c)||(ie.isFileList(c)||ie.endsWith(g,"[]"))&&(m=ie.toArray(c)))return g=gy(g),m.forEach(function(_,w){!(ie.isUndefined(_)||_===null)&&e.append(y===!0?Fp([g],w,d):y===null?g:g+"[]",h(_))}),!1}return _f(c)?!0:(e.append(Fp(f,g,d),h(c)),!1)}const o=[],u=Object.assign(jC,{defaultVisitor:p,convertValue:h,isVisitable:_f});function a(c,g){if(!ie.isUndefined(c)){if(o.indexOf(c)!==-1)throw Error("Circular reference detected in "+g.join("."));o.push(c),ie.forEach(c,function(m,v){(!(ie.isUndefined(m)||m===null)&&s.call(e,m,ie.isString(v)?v.trim():v,g,u))===!0&&a(m,g?g.concat(v):[v])}),o.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return a(t),e}function Lp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qh(t,e){this._pairs=[],t&&Su(t,this,e)}const my=Qh.prototype;my.append=function(e,n){this._pairs.push([e,n])};my.toString=function(e){const n=e?function(r){return e.call(this,r,Lp)}:Lp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vy(t,e,n){if(!e)return t;const r=n&&n.encode||NC,s=n&&n.serialize;let d;if(s?d=s(e,n):d=ie.isURLSearchParams(e)?e.toString():new Qh(e,n).toString(r),d){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class BC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ip=BC,yy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zC=typeof URLSearchParams<"u"?URLSearchParams:Qh,$C=typeof FormData<"u"?FormData:null,UC=typeof Blob<"u"?Blob:null,VC=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),WC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Tn={isBrowser:!0,classes:{URLSearchParams:zC,FormData:$C,Blob:UC},isStandardBrowserEnv:VC,isStandardBrowserWebWorkerEnv:WC,protocols:["http","https","file","blob","url","data"]};function HC(t,e){return Su(t,new Tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,d){return Tn.isNode&&ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},e))}function XC(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YC(t){const e={},n=Object.keys(t);let r;const s=n.length;let d;for(r=0;r<s;r++)d=n[r],e[d]=t[d];return e}function _y(t){function e(n,r,s,d){let y=n[d++];const l=Number.isFinite(+y),i=d>=n.length;return y=!y&&ie.isArray(s)?s.length:y,i?(ie.hasOwnProp(s,y)?s[y]=[s[y],r]:s[y]=r,!l):((!s[y]||!ie.isObject(s[y]))&&(s[y]=[]),e(n,r,s[y],d)&&ie.isArray(s[y])&&(s[y]=YC(s[y])),!l)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(r,s)=>{e(XC(r),s,n,0)}),n}return null}function GC(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Zh={transitional:yy,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,d=ie.isObject(e);if(d&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return s&&s?JSON.stringify(_y(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HC(e,this.formSerializer).toString();if((l=ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Su(l?{"files[]":e}:e,i&&new i,this.formSerializer)}}return d||s?(n.setContentType("application/json",!1),GC(e)):e}],transformResponse:[function(e){const n=this.transitional||Zh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&ie.isString(e)&&(r&&!this.responseType||s)){const y=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(y)throw l.name==="SyntaxError"?ke.from(l,ke.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{Zh.headers[t]={}});const Jh=Zh,qC=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KC=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(y){s=y.indexOf(":"),n=y.substring(0,s).trim().toLowerCase(),r=y.substring(s+1).trim(),!(!n||e[n]&&qC[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jp=Symbol("internals");function Vs(t){return t&&String(t).trim().toLowerCase()}function qa(t){return t===!1||t==null?t:ie.isArray(t)?t.map(qa):String(t)}function QC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ZC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lc(t,e,n,r,s){if(ie.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ie.isString(e)){if(ie.isString(r))return e.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(e)}}function JC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function eS(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,d,y){return this[r].call(this,e,s,d,y)},configurable:!0})})}class bu{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function d(l,i,h){const p=Vs(i);if(!p)throw new Error("header name must be a non-empty string");const o=ie.findKey(s,p);(!o||s[o]===void 0||h===!0||h===void 0&&s[o]!==!1)&&(s[o||i]=qa(l))}const y=(l,i)=>ie.forEach(l,(h,p)=>d(h,p,i));return ie.isPlainObject(e)||e instanceof this.constructor?y(e,n):ie.isString(e)&&(e=e.trim())&&!ZC(e)?y(KC(e),n):e!=null&&d(n,e,r),this}get(e,n){if(e=Vs(e),e){const r=ie.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return QC(s);if(ie.isFunction(n))return n.call(this,s,r);if(ie.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vs(e),e){const r=ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||lc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function d(y){if(y=Vs(y),y){const l=ie.findKey(r,y);l&&(!n||lc(r,r[l],l,n))&&(delete r[l],s=!0)}}return ie.isArray(e)?e.forEach(d):d(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const d=n[r];(!e||lc(this,this[d],d,e,!0))&&(delete this[d],s=!0)}return s}normalize(e){const n=this,r={};return ie.forEach(this,(s,d)=>{const y=ie.findKey(r,d);if(y){n[y]=qa(s),delete n[d];return}const l=e?JC(d):String(d).trim();l!==d&&delete n[d],n[l]=qa(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[jp]=this[jp]={accessors:{}}).accessors,s=this.prototype;function d(y){const l=Vs(y);r[l]||(eS(s,y),r[l]=!0)}return ie.isArray(e)?e.forEach(d):d(e),this}}bu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(bu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ie.freezeMethods(bu);const Hn=bu;function uc(t,e){const n=this||Jh,r=e||n,s=Hn.from(r.headers);let d=r.data;return ie.forEach(t,function(l){d=l.call(n,d,s.normalize(),e?e.status:void 0)}),s.normalize(),d}function wy(t){return!!(t&&t.__CANCEL__)}function oa(t,e,n){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(oa,ke,{__CANCEL__:!0});function tS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const nS=Tn.isStandardBrowserEnv?function(){return{write:function(n,r,s,d,y,l){const i=[];i.push(n+"="+encodeURIComponent(r)),ie.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),ie.isString(d)&&i.push("path="+d),ie.isString(y)&&i.push("domain="+y),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function rS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iS(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function xy(t,e){return t&&!rS(e)?iS(t,e):e}const sS=Tn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(d){let y=d;return e&&(n.setAttribute("href",y),y=n.href),n.setAttribute("href",y),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(y){const l=ie.isString(y)?s(y):y;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function oS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function aS(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,d=0,y;return e=e!==void 0?e:1e3,function(i){const h=Date.now(),p=r[d];y||(y=h),n[s]=i,r[s]=h;let o=d,u=0;for(;o!==s;)u+=n[o++],o=o%t;if(s=(s+1)%t,s===d&&(d=(d+1)%t),h-y<e)return;const a=p&&h-p;return a?Math.round(u*1e3/a):void 0}}function Np(t,e){let n=0;const r=aS(50,250);return s=>{const d=s.loaded,y=s.lengthComputable?s.total:void 0,l=d-n,i=r(l),h=d<=y;n=d;const p={loaded:d,total:y,progress:y?d/y:void 0,bytes:l,rate:i||void 0,estimated:i&&y&&h?(y-d)/i:void 0,event:s};p[e?"download":"upload"]=!0,t(p)}}const lS=typeof XMLHttpRequest<"u",uS=lS&&function(t){return new Promise(function(n,r){let s=t.data;const d=Hn.from(t.headers).normalize(),y=t.responseType;let l;function i(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;ie.isFormData(s)&&(Tn.isStandardBrowserEnv||Tn.isStandardBrowserWebWorkerEnv?d.setContentType(!1):d.getContentType(/^\s*multipart\/form-data/)?ie.isString(h=d.getContentType())&&d.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):d.setContentType("multipart/form-data"));let p=new XMLHttpRequest;if(t.auth){const c=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.set("Authorization","Basic "+btoa(c+":"+g))}const o=xy(t.baseURL,t.url);p.open(t.method.toUpperCase(),vy(o,t.params,t.paramsSerializer),!0),p.timeout=t.timeout;function u(){if(!p)return;const c=Hn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),f={data:!y||y==="text"||y==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:c,config:t,request:p};tS(function(v){n(v),i()},function(v){r(v),i()},f),p=null}if("onloadend"in p?p.onloadend=u:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(u)},p.onabort=function(){p&&(r(new ke("Request aborted",ke.ECONNABORTED,t,p)),p=null)},p.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const f=t.transitional||yy;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new ke(g,f.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,p)),p=null},Tn.isStandardBrowserEnv){const c=(t.withCredentials||sS(o))&&t.xsrfCookieName&&nS.read(t.xsrfCookieName);c&&d.set(t.xsrfHeaderName,c)}s===void 0&&d.setContentType(null),"setRequestHeader"in p&&ie.forEach(d.toJSON(),function(g,f){p.setRequestHeader(f,g)}),ie.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),y&&y!=="json"&&(p.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&p.addEventListener("progress",Np(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Np(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=c=>{p&&(r(!c||c.type?new oa(null,t,p):c),p.abort(),p=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const a=oS(o);if(a&&Tn.protocols.indexOf(a)===-1){r(new ke("Unsupported protocol "+a+":",ke.ERR_BAD_REQUEST,t));return}p.send(s||null)})},wf={http:LC,xhr:uS};ie.forEach(wf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bp=t=>`- ${t}`,cS=t=>ie.isFunction(t)||t===null||t===!1,Cy={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let d=0;d<e;d++){n=t[d];let y;if(r=n,!cS(n)&&(r=wf[(y=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${y}'`);if(r)break;s[y||"#"+d]=r}if(!r){const d=Object.entries(s).map(([l,i])=>`adapter ${l} `+(i===!1?"is not supported by the environment":"is not available in the build"));let y=e?d.length>1?`since :
`+d.map(Bp).join(`
`):" "+Bp(d[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return r},adapters:wf};function cc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oa(null,t)}function zp(t){return cc(t),t.headers=Hn.from(t.headers),t.data=uc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cy.getAdapter(t.adapter||Jh.adapter)(t).then(function(r){return cc(t),r.data=uc.call(t,t.transformResponse,r),r.headers=Hn.from(r.headers),r},function(r){return wy(r)||(cc(t),r&&r.response&&(r.response.data=uc.call(t,t.transformResponse,r.response),r.response.headers=Hn.from(r.response.headers))),Promise.reject(r)})}const $p=t=>t instanceof Hn?t.toJSON():t;function vs(t,e){e=e||{};const n={};function r(h,p,o){return ie.isPlainObject(h)&&ie.isPlainObject(p)?ie.merge.call({caseless:o},h,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function s(h,p,o){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h,o)}else return r(h,p,o)}function d(h,p){if(!ie.isUndefined(p))return r(void 0,p)}function y(h,p){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function l(h,p,o){if(o in e)return r(h,p);if(o in t)return r(void 0,h)}const i={url:d,method:d,data:d,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:l,headers:(h,p)=>s($p(h),$p(p),!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(p){const o=i[p]||s,u=o(t[p],e[p],p);ie.isUndefined(u)&&o!==l||(n[p]=u)}),n}const Sy="1.5.1",ed={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ed[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Up={};ed.transitional=function(e,n,r){function s(d,y){return"[Axios v"+Sy+"] Transitional option '"+d+"'"+y+(r?". "+r:"")}return(d,y,l)=>{if(e===!1)throw new ke(s(y," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!Up[y]&&(Up[y]=!0,console.warn(s(y," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(d,y,l):!0}};function fS(t,e,n){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const d=r[s],y=e[d];if(y){const l=t[d],i=l===void 0||y(l,d,t);if(i!==!0)throw new ke("option "+d+" must be "+i,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+d,ke.ERR_BAD_OPTION)}}const xf={assertOptions:fS,validators:ed},sr=xf.validators;class Al{constructor(e){this.defaults=e,this.interceptors={request:new Ip,response:new Ip}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:d}=n;r!==void 0&&xf.assertOptions(r,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),s!=null&&(ie.isFunction(s)?n.paramsSerializer={serialize:s}:xf.assertOptions(s,{encode:sr.function,serialize:sr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let y=d&&ie.merge(d.common,d[n.method]);d&&ie.forEach(["delete","get","head","post","put","patch","common"],c=>{delete d[c]}),n.headers=Hn.concat(y,d);const l=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let p,o=0,u;if(!i){const c=[zp.bind(this),void 0];for(c.unshift.apply(c,l),c.push.apply(c,h),u=c.length,p=Promise.resolve(n);o<u;)p=p.then(c[o++],c[o++]);return p}u=l.length;let a=n;for(o=0;o<u;){const c=l[o++],g=l[o++];try{a=c(a)}catch(f){g.call(this,f);break}}try{p=zp.call(this,a)}catch(c){return Promise.reject(c)}for(o=0,u=h.length;o<u;)p=p.then(h[o++],h[o++]);return p}getUri(e){e=vs(this.defaults,e);const n=xy(e.baseURL,e.url);return vy(n,e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(e){Al.prototype[e]=function(n,r){return this.request(vs(r||{},{method:e,url:n,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(r){return function(d,y,l){return this.request(vs(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:y}))}}Al.prototype[e]=n(),Al.prototype[e+"Form"]=n(!0)});const Ka=Al;class td{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const r=this;this.promise.then(s=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](s);r._listeners=null}),this.promise.then=s=>{let d;const y=new Promise(l=>{r.subscribe(l),d=l}).then(s);return y.cancel=function(){r.unsubscribe(d)},y},e(function(d,y,l){r.reason||(r.reason=new oa(d,y,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new td(function(s){e=s}),cancel:e}}}const hS=td;function dS(t){return function(n){return t.apply(null,n)}}function pS(t){return ie.isObject(t)&&t.isAxiosError===!0}const Cf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cf).forEach(([t,e])=>{Cf[e]=t});const gS=Cf;function by(t){const e=new Ka(t),n=sy(Ka.prototype.request,e);return ie.extend(n,Ka.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return by(vs(t,s))},n}const Ze=by(Jh);Ze.Axios=Ka;Ze.CanceledError=oa;Ze.CancelToken=hS;Ze.isCancel=wy;Ze.VERSION=Sy;Ze.toFormData=Su;Ze.AxiosError=ke;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=dS;Ze.isAxiosError=pS;Ze.mergeConfig=vs;Ze.AxiosHeaders=Hn;Ze.formToJSON=t=>_y(ie.isHTMLForm(t)?new FormData(t):t);Ze.getAdapter=Cy.getAdapter;Ze.HttpStatusCode=gS;Ze.default=Ze;const mS=Ze,vS=()=>{const t=mS.create({baseURL:"http://localhost:3000"});return t.interceptors.request.use(async e=>e),t},Tu=vS();var Ps=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ys=typeof window>"u"||"Deno"in window;function Xt(){}function yS(t,e){return typeof t=="function"?t(e):t}function Sf(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ty(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vp(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:d,queryKey:y,stale:l}=t;if(y){if(r){if(e.queryHash!==nd(y,e.options))return!1}else if(!ko(e.queryKey,y))return!1}if(n!=="all"){const i=e.isActive();if(n==="active"&&!i||n==="inactive"&&i)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof s<"u"&&s!==e.state.fetchStatus||d&&!d(e))}function Wp(t,e){const{exact:n,status:r,predicate:s,mutationKey:d}=t;if(d){if(!e.options.mutationKey)return!1;if(n){if(Oo(e.options.mutationKey)!==Oo(d))return!1}else if(!ko(e.options.mutationKey,d))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function nd(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oo)(t)}function Oo(t){return JSON.stringify(t,(e,n)=>bf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ko(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ko(t[n],e[n])):!1}function Ey(t,e){if(t===e)return t;const n=Hp(t)&&Hp(e);if(n||bf(t)&&bf(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),d=s.length,y=n?[]:{};let l=0;for(let i=0;i<d;i++){const h=n?i:s[i];y[h]=Ey(t[h],e[h]),y[h]===t[h]&&l++}return r===d&&l===r?t:y}return e}function Dl(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Hp(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bf(t){if(!Xp(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Xp(n)||!n.hasOwnProperty("isPrototypeOf"))}function Xp(t){return Object.prototype.toString.call(t)==="[object Object]"}function Oy(t){return new Promise(e=>{setTimeout(e,t)})}function Yp(t){Oy(0).then(t)}function Tf(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ey(t,e):e}function _S(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wS(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Jr,dr,Gi,Lg,xS=(Lg=class extends Ps{constructor(){super();ye(this,Jr,void 0);ye(this,dr,void 0);ye(this,Gi,void 0);he(this,Gi,e=>{if(!ys&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,dr)||this.setEventListener(F(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,dr))==null||e.call(this),he(this,dr,void 0))}setEventListener(e){var n;he(this,Gi,e),(n=F(this,dr))==null||n.call(this),he(this,dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Jr)!==e&&(he(this,Jr,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof F(this,Jr)=="boolean"?F(this,Jr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jr=new WeakMap,dr=new WeakMap,Gi=new WeakMap,Lg),Rl=new xS,qi,pr,Ki,Ig,CS=(Ig=class extends Ps{constructor(){super();ye(this,qi,!0);ye(this,pr,void 0);ye(this,Ki,void 0);he(this,Ki,e=>{if(!ys&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,pr)||this.setEventListener(F(this,Ki))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,pr))==null||e.call(this),he(this,pr,void 0))}setEventListener(e){var n;he(this,Ki,e),(n=F(this,pr))==null||n.call(this),he(this,pr,e(this.setOnline.bind(this)))}setOnline(e){F(this,qi)!==e&&(he(this,qi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,qi)}},qi=new WeakMap,pr=new WeakMap,Ki=new WeakMap,Ig),Ml=new CS;function SS(t){return Math.min(1e3*2**t,3e4)}function Eu(t){return(t??"online")==="online"?Ml.isOnline():!0}var ky=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fc(t){return t instanceof ky}function Py(t){let e=!1,n=0,r=!1,s,d,y;const l=new Promise((f,m)=>{d=f,y=m}),i=f=>{var m;r||(a(new ky(f)),(m=t.abort)==null||m.call(t))},h=()=>{e=!0},p=()=>{e=!1},o=()=>!Rl.isFocused()||t.networkMode!=="always"&&!Ml.isOnline(),u=f=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,f),s==null||s(),d(f))},a=f=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,f),s==null||s(),y(f))},c=()=>new Promise(f=>{var m;s=v=>{const _=r||!o();return _&&f(v),_},(m=t.onPause)==null||m.call(t)}).then(()=>{var f;s=void 0,r||(f=t.onContinue)==null||f.call(t)}),g=()=>{if(r)return;let f;try{f=t.fn()}catch(m){f=Promise.reject(m)}Promise.resolve(f).then(u).catch(m=>{var C;if(r)return;const v=t.retry??(ys?0:3),_=t.retryDelay??SS,w=typeof _=="function"?_(n,m):_,x=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,m);if(e||!x){a(m);return}n++,(C=t.onFail)==null||C.call(t,n,m),Oy(w).then(()=>{if(o())return c()}).then(()=>{e?a(m):g()})})};return Eu(t.networkMode)?g():c().then(g),{promise:l,cancel:i,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:h,continueRetry:p}}function bS(){let t=[],e=0,n=p=>{p()},r=p=>{p()};const s=p=>{let o;e++;try{o=p()}finally{e--,e||l()}return o},d=p=>{e?t.push(p):Yp(()=>{n(p)})},y=p=>(...o)=>{d(()=>{p(...o)})},l=()=>{const p=t;t=[],p.length&&Yp(()=>{r(()=>{p.forEach(o=>{n(o)})})})};return{batch:s,batchCalls:y,schedule:d,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p}}}var nt=bS(),ei,jg,Ay=(jg=class{constructor(){ye(this,ei,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sf(this.gcTime)&&he(this,ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ys?1/0:5*60*1e3))}clearGcTimeout(){F(this,ei)&&(clearTimeout(F(this,ei)),he(this,ei,void 0))}},ei=new WeakMap,jg),Qi,Zi,Ut,gr,Vt,st,$o,ti,Ji,Qa,un,jn,Ng,TS=(Ng=class extends Ay{constructor(e){super();ye(this,Ji);ye(this,un);ye(this,Qi,void 0);ye(this,Zi,void 0);ye(this,Ut,void 0);ye(this,gr,void 0);ye(this,Vt,void 0);ye(this,st,void 0);ye(this,$o,void 0);ye(this,ti,void 0);he(this,ti,!1),he(this,$o,e.defaultOptions),Ce(this,Ji,Qa).call(this,e.options),he(this,st,[]),he(this,Ut,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,Qi,e.state||ES(this.options)),this.state=F(this,Qi),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!F(this,st).length&&this.state.fetchStatus==="idle"&&F(this,Ut).remove(this)}setData(e,n){const r=Tf(this.state.data,e,this.options);return Ce(this,un,jn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ce(this,un,jn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r;const n=F(this,gr);return(r=F(this,Vt))==null||r.cancel(e),n?n.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Qi))}isActive(){return F(this,st).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||F(this,st).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ty(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=F(this,st).find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Vt))==null||n.continue()}onOnline(){var n;const e=F(this,st).find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Vt))==null||n.continue()}addObserver(e){F(this,st).includes(e)||(F(this,st).push(e),this.clearGcTimeout(),F(this,Ut).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){F(this,st).includes(e)&&(he(this,st,F(this,st).filter(n=>n!==e)),F(this,st).length||(F(this,Vt)&&(F(this,ti)?F(this,Vt).cancel({revert:!0}):F(this,Vt).cancelRetry()),this.scheduleGc()),F(this,Ut).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return F(this,st).length}invalidate(){this.state.isInvalidated||Ce(this,un,jn).call(this,{type:"invalidate"})}fetch(e,n){var h,p,o,u;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,gr))return(h=F(this,Vt))==null||h.continueRetry(),F(this,gr)}if(e&&Ce(this,Ji,Qa).call(this,e),!this.options.queryFn){const a=F(this,st).find(c=>c.options.queryFn);a&&Ce(this,Ji,Qa).call(this,a.options)}const r=new AbortController,s={queryKey:this.queryKey,meta:this.meta},d=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(he(this,ti,!0),r.signal)})};d(s);const y=()=>this.options.queryFn?(he(this,ti,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:y};d(l),(p=this.options.behavior)==null||p.onFetch(l,this),he(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((o=l.fetchOptions)==null?void 0:o.meta))&&Ce(this,un,jn).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta});const i=a=>{var c,g,f,m;fc(a)&&a.silent||Ce(this,un,jn).call(this,{type:"error",error:a}),fc(a)||((g=(c=F(this,Ut).config).onError)==null||g.call(c,a,this),(m=(f=F(this,Ut).config).onSettled)==null||m.call(f,this.state.data,a,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,Vt,Py({fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:a=>{var c,g,f,m;if(typeof a>"u"){i(new Error(`${this.queryHash} data is undefined`));return}this.setData(a),(g=(c=F(this,Ut).config).onSuccess)==null||g.call(c,a,this),(m=(f=F(this,Ut).config).onSettled)==null||m.call(f,a,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:i,onFail:(a,c)=>{Ce(this,un,jn).call(this,{type:"failed",failureCount:a,error:c})},onPause:()=>{Ce(this,un,jn).call(this,{type:"pause"})},onContinue:()=>{Ce(this,un,jn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),he(this,gr,F(this,Vt).promise),F(this,gr)}},Qi=new WeakMap,Zi=new WeakMap,Ut=new WeakMap,gr=new WeakMap,Vt=new WeakMap,st=new WeakMap,$o=new WeakMap,ti=new WeakMap,Ji=new WeakSet,Qa=function(e){this.options={...F(this,$o),...e},this.updateGcTime(this.options.gcTime)},un=new WeakSet,jn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:Eu(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return fc(s)&&s.revert&&F(this,Zi)?{...F(this,Zi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nt.batch(()=>{F(this,st).forEach(r=>{r.onQueryUpdate()}),F(this,Ut).notify({query:this,type:"updated",action:e})})},Ng);function ES(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _n,Bg,OS=(Bg=class extends Ps{constructor(e={}){super();ye(this,_n,void 0);this.config=e,he(this,_n,new Map)}build(e,n,r){const s=n.queryKey,d=n.queryHash??nd(s,n);let y=this.get(d);return y||(y=new TS({cache:this,queryKey:s,queryHash:d,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(y)),y}add(e){F(this,_n).has(e.queryHash)||(F(this,_n).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,_n).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,_n).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,_n).get(e)}getAll(){return[...F(this,_n).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Vp(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Vp(e,r)):n}notify(e){nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_n=new WeakMap,Bg),wn,Uo,Rt,es,xn,ar,zg,kS=(zg=class extends Ay{constructor(e){super();ye(this,xn);ye(this,wn,void 0);ye(this,Uo,void 0);ye(this,Rt,void 0);ye(this,es,void 0);this.mutationId=e.mutationId,he(this,Uo,e.defaultOptions),he(this,Rt,e.mutationCache),he(this,wn,[]),this.state=e.state||Dy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...F(this,Uo),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,wn).includes(e)||(F(this,wn).push(e),this.clearGcTimeout(),F(this,Rt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,wn,F(this,wn).filter(n=>n!==e)),this.scheduleGc(),F(this,Rt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,wn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Rt).remove(this))}continue(){var e;return((e=F(this,es))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,d,y,l,i,h,p,o,u,a,c,g,f,m,v,_,w,x,C,S;const n=()=>(he(this,es,Py({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{Ce(this,xn,ar).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Ce(this,xn,ar).call(this,{type:"pause"})},onContinue:()=>{Ce(this,xn,ar).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),F(this,es).promise),r=this.state.status==="pending";try{if(!r){Ce(this,xn,ar).call(this,{type:"pending",variables:e}),await((d=(s=F(this,Rt).config).onMutate)==null?void 0:d.call(s,e,this));const I=await((l=(y=this.options).onMutate)==null?void 0:l.call(y,e));I!==this.state.context&&Ce(this,xn,ar).call(this,{type:"pending",context:I,variables:e})}const T=await n();return await((h=(i=F(this,Rt).config).onSuccess)==null?void 0:h.call(i,T,e,this.state.context,this)),await((o=(p=this.options).onSuccess)==null?void 0:o.call(p,T,e,this.state.context)),await((a=(u=F(this,Rt).config).onSettled)==null?void 0:a.call(u,T,null,this.state.variables,this.state.context,this)),await((g=(c=this.options).onSettled)==null?void 0:g.call(c,T,null,e,this.state.context)),Ce(this,xn,ar).call(this,{type:"success",data:T}),T}catch(T){try{throw await((m=(f=F(this,Rt).config).onError)==null?void 0:m.call(f,T,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,T,e,this.state.context)),await((x=(w=F(this,Rt).config).onSettled)==null?void 0:x.call(w,void 0,T,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,T,e,this.state.context)),T}finally{Ce(this,xn,ar).call(this,{type:"error",error:T})}}}},wn=new WeakMap,Uo=new WeakMap,Rt=new WeakMap,es=new WeakMap,xn=new WeakSet,ar=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Eu(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nt.batch(()=>{F(this,wn).forEach(r=>{r.onMutationUpdate(e)}),F(this,Rt).notify({mutation:this,type:"updated",action:e})})},zg);function Dy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wt,Vo,ni,$g,PS=($g=class extends Ps{constructor(e={}){super();ye(this,Wt,void 0);ye(this,Vo,void 0);ye(this,ni,void 0);this.config=e,he(this,Wt,[]),he(this,Vo,0)}build(e,n,r){const s=new kS({mutationCache:this,mutationId:++fa(this,Vo)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Wt).push(e),this.notify({type:"added",mutation:e})}remove(e){he(this,Wt,F(this,Wt).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){nt.batch(()=>{F(this,Wt).forEach(e=>{this.remove(e)})})}getAll(){return F(this,Wt)}find(e){const n={exact:!0,...e};return F(this,Wt).find(r=>Wp(n,r))}findAll(e={}){return F(this,Wt).filter(n=>Wp(e,n))}notify(e){nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return he(this,ni,(F(this,ni)??Promise.resolve()).then(()=>{const e=F(this,Wt).filter(n=>n.state.isPaused);return nt.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(Xt)),Promise.resolve()))}).then(()=>{he(this,ni,void 0)})),F(this,ni)}},Wt=new WeakMap,Vo=new WeakMap,ni=new WeakMap,$g);function AS(t){return{onFetch:(e,n)=>{const r=async()=>{var c,g,f,m,v;const s=e.options,d=(f=(g=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:g.fetchMore)==null?void 0:f.direction,y=((m=e.state.data)==null?void 0:m.pages)||[],l=((v=e.state.data)==null?void 0:v.pageParams)||[],i={pages:[],pageParams:[]};let h=!1;const p=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},o=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),u=async(_,w,x)=>{if(h)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const C={queryKey:e.queryKey,pageParam:w,direction:x?"backward":"forward",meta:e.options.meta};p(C);const S=await o(C),{maxPages:T}=e.options,I=x?wS:_S;return{pages:I(_.pages,S,T),pageParams:I(_.pageParams,w,T)}};let a;if(d&&y.length){const _=d==="backward",w=_?DS:Gp,x={pages:y,pageParams:l},C=w(s,x);a=await u(x,C,_)}else{a=await u(i,l[0]??s.initialPageParam);const _=t??y.length;for(let w=1;w<_;w++){const x=Gp(s,a);a=await u(a,x)}}return a};e.options.persister?e.fetchFn=()=>{var s,d;return(d=(s=e.options).persister)==null?void 0:d.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Gp(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function DS(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var et,mr,vr,ts,ns,yr,rs,is,Ug,RS=(Ug=class{constructor(t={}){ye(this,et,void 0);ye(this,mr,void 0);ye(this,vr,void 0);ye(this,ts,void 0);ye(this,ns,void 0);ye(this,yr,void 0);ye(this,rs,void 0);ye(this,is,void 0);he(this,et,t.queryCache||new OS),he(this,mr,t.mutationCache||new PS),he(this,vr,t.defaultOptions||{}),he(this,ts,new Map),he(this,ns,new Map),he(this,yr,0)}mount(){fa(this,yr)._++,F(this,yr)===1&&(he(this,rs,Rl.subscribe(()=>{Rl.isFocused()&&(this.resumePausedMutations(),F(this,et).onFocus())})),he(this,is,Ml.subscribe(()=>{Ml.isOnline()&&(this.resumePausedMutations(),F(this,et).onOnline())})))}unmount(){var t,e;fa(this,yr)._--,F(this,yr)===0&&((t=F(this,rs))==null||t.call(this),he(this,rs,void 0),(e=F(this,is))==null||e.call(this),he(this,is,void 0))}isFetching(t){return F(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,mr).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=F(this,et).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=F(this,et).find({queryKey:t}),s=r==null?void 0:r.state.data,d=yS(e,s);if(typeof d>"u")return;const y=this.defaultQueryOptions({queryKey:t});return F(this,et).build(this,y).setData(d,{...n,manual:!0})}setQueriesData(t,e,n){return nt.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;return(e=F(this,et).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=F(this,et);nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,et),r={type:"active",...t};return nt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=nt.batch(()=>F(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xt).catch(Xt)}invalidateQueries(t={},e={}){return nt.batch(()=>{if(F(this,et).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=nt.batch(()=>F(this,et).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let d=s.fetch(void 0,n);return n.throwOnError||(d=d.catch(Xt)),s.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(r).then(Xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const n=F(this,et).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xt).catch(Xt)}fetchInfiniteQuery(t){return t.behavior=AS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xt).catch(Xt)}resumePausedMutations(){return F(this,mr).resumePausedMutations()}getQueryCache(){return F(this,et)}getMutationCache(){return F(this,mr)}getDefaultOptions(){return F(this,vr)}setDefaultOptions(t){he(this,vr,t)}setQueryDefaults(t,e){F(this,ts).set(Oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ts).values()];let n={};return e.forEach(r=>{ko(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){F(this,ns).set(Oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,ns).values()];let n={};return e.forEach(r=>{ko(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...F(this,vr).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nd(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,vr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,et).clear(),F(this,mr).clear()}},et=new WeakMap,mr=new WeakMap,vr=new WeakMap,ts=new WeakMap,ns=new WeakMap,yr=new WeakMap,rs=new WeakMap,is=new WeakMap,Ug),Tt,Ie,ss,gt,ri,os,Cn,Wo,as,ls,ii,si,_r,oi,ai,Qs,Ho,Ef,Xo,Of,Yo,kf,Go,Pf,qo,Af,Ko,Df,Qo,Rf,ru,Ry,Vg,MS=(Vg=class extends Ps{constructor(e,n){super();ye(this,ai);ye(this,Ho);ye(this,Xo);ye(this,Yo);ye(this,Go);ye(this,qo);ye(this,Ko);ye(this,Qo);ye(this,ru);ye(this,Tt,void 0);ye(this,Ie,void 0);ye(this,ss,void 0);ye(this,gt,void 0);ye(this,ri,void 0);ye(this,os,void 0);ye(this,Cn,void 0);ye(this,Wo,void 0);ye(this,as,void 0);ye(this,ls,void 0);ye(this,ii,void 0);ye(this,si,void 0);ye(this,_r,void 0);ye(this,oi,void 0);he(this,Ie,void 0),he(this,ss,void 0),he(this,gt,void 0),he(this,oi,new Set),he(this,Tt,e),this.options=n,he(this,Cn,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ie).addObserver(this),qp(F(this,Ie),this.options)&&Ce(this,ai,Qs).call(this),Ce(this,Go,Pf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mf(F(this,Ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mf(F(this,Ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,qo,Af).call(this),Ce(this,Ko,Df).call(this),F(this,Ie).removeObserver(this)}setOptions(e,n){const r=this.options,s=F(this,Ie);if(this.options=F(this,Tt).defaultQueryOptions(e),Dl(r,this.options)||F(this,Tt).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ie),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),Ce(this,Qo,Rf).call(this);const d=this.hasListeners();d&&Kp(F(this,Ie),s,this.options,r)&&Ce(this,ai,Qs).call(this),this.updateResult(n),d&&(F(this,Ie)!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&Ce(this,Ho,Ef).call(this);const y=Ce(this,Xo,Of).call(this);d&&(F(this,Ie)!==s||this.options.enabled!==r.enabled||y!==F(this,_r))&&Ce(this,Yo,kf).call(this,y)}getOptimisticResult(e){const n=F(this,Tt).getQueryCache().build(F(this,Tt),e),r=this.createResult(n,e);return LS(this,r)&&(he(this,gt,r),he(this,os,this.options),he(this,ri,F(this,Ie).state)),r}getCurrentResult(){return F(this,gt)}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(F(this,oi).add(r),e[r])})}),n}getCurrentQuery(){return F(this,Ie)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Tt).defaultQueryOptions(e),r=F(this,Tt).getQueryCache().build(F(this,Tt),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ce(this,ai,Qs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,gt)))}createResult(e,n){var C;const r=F(this,Ie),s=this.options,d=F(this,gt),y=F(this,ri),l=F(this,os),h=e!==r?e.state:F(this,ss),{state:p}=e;let{error:o,errorUpdatedAt:u,fetchStatus:a,status:c}=p,g=!1,f;if(n._optimisticResults){const S=this.hasListeners(),T=!S&&qp(e,n),I=S&&Kp(e,r,n,s);(T||I)&&(a=Eu(e.options.networkMode)?"fetching":"paused",p.dataUpdatedAt||(c="pending")),n._optimisticResults==="isRestoring"&&(a="idle")}if(n.select&&typeof p.data<"u")if(d&&p.data===(y==null?void 0:y.data)&&n.select===F(this,Wo))f=F(this,as);else try{he(this,Wo,n.select),f=n.select(p.data),f=Tf(d==null?void 0:d.data,f,n),he(this,as,f),he(this,Cn,null)}catch(S){he(this,Cn,S)}else f=p.data;if(typeof n.placeholderData<"u"&&typeof f>"u"&&c==="pending"){let S;if(d!=null&&d.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))S=d.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((C=F(this,ls))==null?void 0:C.state.data,F(this,ls)):n.placeholderData,n.select&&typeof S<"u")try{S=n.select(S),he(this,Cn,null)}catch(T){he(this,Cn,T)}typeof S<"u"&&(c="success",f=Tf(d==null?void 0:d.data,S,n),g=!0)}F(this,Cn)&&(o=F(this,Cn),f=F(this,as),u=Date.now(),c="error");const m=a==="fetching",v=c==="pending",_=c==="error",w=v&&m;return{status:c,fetchStatus:a,isPending:v,isSuccess:c==="success",isError:_,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:p.dataUpdatedAt,error:o,errorUpdatedAt:u,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:_&&p.dataUpdatedAt===0,isPaused:a==="paused",isPlaceholderData:g,isRefetchError:_&&p.dataUpdatedAt!==0,isStale:rd(e,n),refetch:this.refetch}}updateResult(e){const n=F(this,gt),r=this.createResult(F(this,Ie),this.options);if(he(this,ri,F(this,Ie).state),he(this,os,this.options),Dl(r,n))return;F(this,ri).data!==void 0&&he(this,ls,F(this,Ie)),he(this,gt,r);const s={},d=()=>{if(!n)return!0;const{notifyOnChangeProps:y}=this.options,l=typeof y=="function"?y():y;if(l==="all"||!l&&!F(this,oi).size)return!0;const i=new Set(l??F(this,oi));return this.options.throwOnError&&i.add("error"),Object.keys(F(this,gt)).some(h=>{const p=h;return F(this,gt)[p]!==n[p]&&i.has(p)})};(e==null?void 0:e.listeners)!==!1&&d()&&(s.listeners=!0),Ce(this,ru,Ry).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,Go,Pf).call(this)}},Tt=new WeakMap,Ie=new WeakMap,ss=new WeakMap,gt=new WeakMap,ri=new WeakMap,os=new WeakMap,Cn=new WeakMap,Wo=new WeakMap,as=new WeakMap,ls=new WeakMap,ii=new WeakMap,si=new WeakMap,_r=new WeakMap,oi=new WeakMap,ai=new WeakSet,Qs=function(e){Ce(this,Qo,Rf).call(this);let n=F(this,Ie).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xt)),n},Ho=new WeakSet,Ef=function(){if(Ce(this,qo,Af).call(this),ys||F(this,gt).isStale||!Sf(this.options.staleTime))return;const n=Ty(F(this,gt).dataUpdatedAt,this.options.staleTime)+1;he(this,ii,setTimeout(()=>{F(this,gt).isStale||this.updateResult()},n))},Xo=new WeakSet,Of=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ie)):this.options.refetchInterval)??!1},Yo=new WeakSet,kf=function(e){Ce(this,Ko,Df).call(this),he(this,_r,e),!(ys||this.options.enabled===!1||!Sf(F(this,_r))||F(this,_r)===0)&&he(this,si,setInterval(()=>{(this.options.refetchIntervalInBackground||Rl.isFocused())&&Ce(this,ai,Qs).call(this)},F(this,_r)))},Go=new WeakSet,Pf=function(){Ce(this,Ho,Ef).call(this),Ce(this,Yo,kf).call(this,Ce(this,Xo,Of).call(this))},qo=new WeakSet,Af=function(){F(this,ii)&&(clearTimeout(F(this,ii)),he(this,ii,void 0))},Ko=new WeakSet,Df=function(){F(this,si)&&(clearInterval(F(this,si)),he(this,si,void 0))},Qo=new WeakSet,Rf=function(){const e=F(this,Tt).getQueryCache().build(F(this,Tt),this.options);if(e===F(this,Ie))return;const n=F(this,Ie);he(this,Ie,e),he(this,ss,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ru=new WeakSet,Ry=function(e){nt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,gt))}),F(this,Tt).getQueryCache().notify({query:F(this,Ie),type:"observerResultsUpdated"})})},Vg);function FS(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qp(t,e){return FS(t,e)||t.state.dataUpdatedAt>0&&Mf(t,e,e.refetchOnMount)}function Mf(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&rd(t,e)}return!1}function Kp(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&rd(t,n)}function rd(t,e){return t.isStaleByTime(e.staleTime)}function LS(t,e){return!Dl(t.getCurrentResult(),e)}var wr,yt,Ht,zn,us,Za,Zo,Ff,Wg,IS=(Wg=class extends Ps{constructor(n,r){super();ye(this,us);ye(this,Zo);ye(this,wr,void 0);ye(this,yt,void 0);ye(this,Ht,void 0);ye(this,zn,void 0);he(this,yt,void 0),he(this,wr,n),this.setOptions(r),this.bindMethods(),Ce(this,us,Za).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,wr).defaultMutationOptions(n),Dl(r,this.options)||F(this,wr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Ht),observer:this}),(s=F(this,Ht))==null||s.setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,Ht))==null||n.removeObserver(this)}onMutationUpdate(n){Ce(this,us,Za).call(this),Ce(this,Zo,Ff).call(this,n)}getCurrentResult(){return F(this,yt)}reset(){he(this,Ht,void 0),Ce(this,us,Za).call(this),Ce(this,Zo,Ff).call(this)}mutate(n,r){var s;return he(this,zn,r),(s=F(this,Ht))==null||s.removeObserver(this),he(this,Ht,F(this,wr).getMutationCache().build(F(this,wr),this.options)),F(this,Ht).addObserver(this),F(this,Ht).execute(n)}},wr=new WeakMap,yt=new WeakMap,Ht=new WeakMap,zn=new WeakMap,us=new WeakSet,Za=function(){var r;const n=((r=F(this,Ht))==null?void 0:r.state)??Dy();he(this,yt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zo=new WeakSet,Ff=function(n){nt.batch(()=>{var r,s,d,y,l,i,h,p;F(this,zn)&&this.hasListeners()&&((n==null?void 0:n.type)==="success"?((s=(r=F(this,zn)).onSuccess)==null||s.call(r,n.data,F(this,yt).variables,F(this,yt).context),(y=(d=F(this,zn)).onSettled)==null||y.call(d,n.data,null,F(this,yt).variables,F(this,yt).context)):(n==null?void 0:n.type)==="error"&&((i=(l=F(this,zn)).onError)==null||i.call(l,n.error,F(this,yt).variables,F(this,yt).context),(p=(h=F(this,zn)).onSettled)==null||p.call(h,void 0,n.error,F(this,yt).variables,F(this,yt).context))),this.listeners.forEach(o=>{o(F(this,yt))})})},Wg),My=k.createContext(void 0),Ou=t=>{const e=k.useContext(My);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jS=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),k.createElement(My.Provider,{value:t},e)),Fy=k.createContext(!1),NS=()=>k.useContext(Fy);Fy.Provider;function BS(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zS=k.createContext(BS()),$S=()=>k.useContext(zS);function Ly(t,e){return typeof t=="function"?t(...e):!!t}var US=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},VS=t=>{k.useEffect(()=>{t.clearReset()},[t])},WS=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Ly(n,[t.error,r]),HS=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},XS=(t,e)=>t.isLoading&&t.isFetching&&!e,YS=(t,e,n)=>(t==null?void 0:t.suspense)&&XS(e,n),GS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function qS(t,e,n){const r=Ou(n),s=NS(),d=$S(),y=r.defaultQueryOptions(t);y._optimisticResults=s?"isRestoring":"optimistic",HS(y),US(y,d),VS(d);const[l]=k.useState(()=>new e(r,y)),i=l.getOptimisticResult(y);if(k.useSyncExternalStore(k.useCallback(h=>{const p=s?()=>{}:l.subscribe(nt.batchCalls(h));return l.updateResult(),p},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(y,{listeners:!1})},[y,l]),YS(y,i,s))throw GS(y,l,d);if(WS({result:i,errorResetBoundary:d,throwOnError:y.throwOnError,query:l.getCurrentQuery()}))throw i.error;return y.notifyOnChangeProps?i:l.trackResult(i)}function Iy(t,e){return qS(t,MS,e)}function jy(t,e){const n=Ou(e),[r]=k.useState(()=>new IS(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(y=>r.subscribe(nt.batchCalls(y)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=k.useCallback((y,l)=>{r.mutate(y,l).catch(KS)},[r]);if(s.error&&Ly(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:d,mutateAsync:s.mutate}}function KS(){}const Po={publications:["publications"],publication:t=>["publication",t]},QS=()=>Iy({queryKey:Po.publications,queryFn:async()=>(await Tu.get("/publication")).data}),ZS=t=>Iy({queryKey:Po.publication(t),queryFn:async()=>(await Tu.get("/publication/"+t)).data}),JS=()=>{const t=Ou();return jy({mutationKey:Po.publications,mutationFn:async e=>{const n=new FormData;return n.append("title",e.title),n.append("file",e.file),(await Tu.post("/publication",n)).data},onSettled:()=>{t.invalidateQueries({queryKey:Po.publications})}})};function Ny(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Ny(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function By(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Ny(t))&&(r&&(r+=" "),r+=e);return r}const Qp=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Zp=By,id=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:d}=e,y=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],o=d==null?void 0:d[h];if(p===null)return null;const u=Qp(p)||Qp(o);return s[h][u]}),l=n&&Object.entries(n).reduce((h,p)=>{let[o,u]=p;return u===void 0||(h[o]=u),h},{}),i=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:o,className:u,...a}=p;return Object.entries(a).every(c=>{let[g,f]=c;return Array.isArray(f)?f.includes({...d,...l}[g]):{...d,...l}[g]===f})?[...h,o,u]:h},[]);return Zp(t,y,i,n==null?void 0:n.class,n==null?void 0:n.className)};function eb(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=zy(e))&&(r&&(r+=" "),r+=n);return r}function zy(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=zy(t[r]))&&(n&&(n+=" "),n+=e);return n}var sd="-";function tb(t){var e=rb(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function d(l){var i=l.split(sd);return i[0]===""&&i.length!==1&&i.shift(),$y(i,e)||nb(l)}function y(l,i){var h=n[l]||[];return i&&s[l]?[].concat(h,s[l]):h}return{getClassGroupId:d,getConflictingClassGroupIds:y}}function $y(t,e){var y;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?$y(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var d=t.join(sd);return(y=e.validators.find(function(l){var i=l.validator;return i(d)}))==null?void 0:y.classGroupId}}var Jp=/^\[(.+)\]$/;function nb(t){if(Jp.test(t)){var e=Jp.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function rb(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=sb(Object.entries(t.classGroups),n);return s.forEach(function(d){var y=d[0],l=d[1];Lf(l,r,y,e)}),r}function Lf(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var d=s===""?e:eg(e,s);d.classGroupId=n;return}if(typeof s=="function"){if(ib(s)){Lf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(y){var l=y[0],i=y[1];Lf(i,eg(e,l),n,r)})})}function eg(t,e){var n=t;return e.split(sd).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ib(t){return t.isThemeGetter}function sb(t,e){return e?t.map(function(n){var r=n[0],s=n[1],d=s.map(function(y){return typeof y=="string"?e+y:typeof y=="object"?Object.fromEntries(Object.entries(y).map(function(l){var i=l[0],h=l[1];return[e+i,h]})):y});return[r,d]}):t}function ob(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(d,y){n.set(d,y),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(y){var l=n.get(y);if(l!==void 0)return l;if((l=r.get(y))!==void 0)return s(y,l),l},set:function(y,l){n.has(y)?n.set(y,l):s(y,l)}}}var Uy="!";function ab(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(y){for(var l=[],i=0,h=0,p,o=0;o<y.length;o++){var u=y[o];if(i===0){if(u===r&&(n||y.slice(o,o+s)===e)){l.push(y.slice(h,o)),h=o+s;continue}if(u==="/"){p=o;continue}}u==="["?i++:u==="]"&&i--}var a=l.length===0?y:y.substring(h),c=a.startsWith(Uy),g=c?a.substring(1):a,f=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:c,baseClassName:g,maybePostfixModifierPosition:f}}}function lb(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function ub(t){return{cache:ob(t.cacheSize),splitModifiers:ab(t),...tb(t)}}var cb=/\s+/;function fb(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,d=new Set;return t.trim().split(cb).map(function(y){var l=n(y),i=l.modifiers,h=l.hasImportantModifier,p=l.baseClassName,o=l.maybePostfixModifierPosition,u=r(o?p.substring(0,o):p),a=!!o;if(!u){if(!o)return{isTailwindClass:!1,originalClassName:y};if(u=r(p),!u)return{isTailwindClass:!1,originalClassName:y};a=!1}var c=lb(i).join(":"),g=h?c+Uy:c;return{isTailwindClass:!0,modifierId:g,classGroupId:u,originalClassName:y,hasPostfixModifier:a}}).reverse().filter(function(y){if(!y.isTailwindClass)return!0;var l=y.modifierId,i=y.classGroupId,h=y.hasPostfixModifier,p=l+i;return d.has(p)?!1:(d.add(p),s(i,h).forEach(function(o){return d.add(l+o)}),!0)}).reverse().map(function(y){return y.originalClassName}).join(" ")}function hb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,d,y=l;function l(h){var p=e[0],o=e.slice(1),u=o.reduce(function(a,c){return c(a)},p());return r=ub(u),s=r.cache.get,d=r.cache.set,y=i,i(h)}function i(h){var p=s(h);if(p)return p;var o=fb(h,r);return d(h,o),o}return function(){return y(eb.apply(null,arguments))}}function Ne(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var Vy=/^\[(?:([a-z-]+):)?(.+)\]$/i,db=/^\d+\/\d+$/,pb=new Set(["px","full","screen"]),gb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vb=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function on(t){return Qr(t)||pb.has(t)||db.test(t)||If(t)}function If(t){return _i(t,"length",Sb)}function yb(t){return _i(t,"size",Wy)}function _b(t){return _i(t,"position",Wy)}function wb(t){return _i(t,"url",bb)}function Pa(t){return _i(t,"number",Qr)}function Qr(t){return!Number.isNaN(Number(t))}function xb(t){return t.endsWith("%")&&Qr(t.slice(0,-1))}function Ws(t){return tg(t)||_i(t,"number",tg)}function Ee(t){return Vy.test(t)}function Hs(){return!0}function or(t){return gb.test(t)}function Cb(t){return _i(t,"",Tb)}function _i(t,e,n){var r=Vy.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Sb(t){return mb.test(t)}function Wy(){return!1}function bb(t){return t.startsWith("url(")}function tg(t){return Number.isInteger(Number(t))}function Tb(t){return vb.test(t)}function Eb(){var t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),d=Ne("borderRadius"),y=Ne("borderSpacing"),l=Ne("borderWidth"),i=Ne("contrast"),h=Ne("grayscale"),p=Ne("hueRotate"),o=Ne("invert"),u=Ne("gap"),a=Ne("gradientColorStops"),c=Ne("gradientColorStopPositions"),g=Ne("inset"),f=Ne("margin"),m=Ne("opacity"),v=Ne("padding"),_=Ne("saturate"),w=Ne("scale"),x=Ne("sepia"),C=Ne("skew"),S=Ne("space"),T=Ne("translate"),I=function(){return["auto","contain","none"]},z=function(){return["auto","hidden","clip","visible","scroll"]},q=function(){return["auto",Ee,e]},V=function(){return[Ee,e]},Q=function(){return["",on]},X=function(){return["auto",Qr,Ee]},ee=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ne=function(){return["solid","dashed","dotted","double","none"]},ue=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},W=function(){return["start","end","center","between","around","evenly","stretch"]},b=function(){return["","0",Ee]},P=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},A=function(){return[Qr,Pa]},R=function(){return[Qr,Ee]};return{cacheSize:500,theme:{colors:[Hs],spacing:[on],blur:["none","",or,Ee],brightness:A(),borderColor:[t],borderRadius:["none","","full",or,Ee],borderSpacing:V(),borderWidth:Q(),contrast:A(),grayscale:b(),hueRotate:R(),invert:b(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[xb,If],inset:q(),margin:q(),opacity:A(),padding:V(),saturate:A(),scale:A(),sepia:b(),skew:R(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[or]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ee(),[Ee])}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:b()}],shrink:[{shrink:b()}],order:[{order:["first","last","none",Ws]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ws]},Ee]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ws]},Ee]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal"].concat(W())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(W(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(W(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ee,e]}],"min-w":[{"min-w":["min","max","fit",Ee,on]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[or]},or,Ee]}],h:[{h:[Ee,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ee,on]}],"max-h":[{"max-h":[Ee,e,"min","max","fit"]}],"font-size":[{text:["base",or,If]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pa]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Qr,Pa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ee,on]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ne(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",on]}],"underline-offset":[{"underline-offset":["auto",Ee,on]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ee(),[_b])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[c]}],"gradient-via-pos":[{via:[c]}],"gradient-to-pos":[{to:[c]}],"gradient-from":[{from:[a]}],"gradient-via":[{via:[a]}],"gradient-to":[{to:[a]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(ne(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(ne())}],"outline-offset":[{"outline-offset":[Ee,on]}],"outline-w":[{outline:[on]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[on]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",or,Cb]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":ue()}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",or,Ee]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[o]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[o]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[y]}],"border-spacing-x":[{"border-spacing-x":[y]}],"border-spacing-y":[{"border-spacing-y":[y]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ws,Ee]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[on,Pa]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Ob=hb(Eb);function ht(...t){return Ob(By(t))}const kb=id("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hy=k.forwardRef(({className:t,variant:e,...n},r)=>J.jsx("div",{ref:r,role:"alert",className:ht(kb({variant:e}),t),...n}));Hy.displayName="Alert";const Xy=k.forwardRef(({className:t,...e},n)=>J.jsx("h5",{ref:n,className:ht("mb-1 font-medium leading-none tracking-tight",t),...e}));Xy.displayName="AlertTitle";const Yy=k.forwardRef(({className:t,...e},n)=>J.jsx("div",{ref:n,className:ht("text-sm [&_p]:leading-relaxed",t),...e}));Yy.displayName="AlertDescription";function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Le.apply(this,arguments)}function Pb(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gy(...t){return e=>t.forEach(n=>Pb(n,e))}function Fn(...t){return k.useCallback(Gy(...t),t)}const As=k.forwardRef((t,e)=>{const{children:n,...r}=t,s=k.Children.toArray(n),d=s.find(Db);if(d){const y=d.props.children,l=s.map(i=>i===d?k.Children.count(y)>1?k.Children.only(null):k.isValidElement(y)?y.props.children:null:i);return k.createElement(jf,Le({},r,{ref:e}),k.isValidElement(y)?k.cloneElement(y,void 0,l):null)}return k.createElement(jf,Le({},r,{ref:e}),n)});As.displayName="Slot";const jf=k.forwardRef((t,e)=>{const{children:n,...r}=t;return k.isValidElement(n)?k.cloneElement(n,{...Rb(r,n.props),ref:e?Gy(e,n.ref):n.ref}):k.Children.count(n)>1?k.Children.only(null):null});jf.displayName="SlotClone";const Ab=({children:t})=>k.createElement(k.Fragment,null,t);function Db(t){return k.isValidElement(t)&&t.type===Ab}function Rb(t,e){const n={...e};for(const r in e){const s=t[r],d=e[r];/^on[A-Z]/.test(r)?s&&d?n[r]=(...l)=>{d(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...d}:r==="className"&&(n[r]=[s,d].filter(Boolean).join(" "))}return{...t,...n}}const Mb=id("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ir=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},d)=>{const y=r?As:"button";return J.jsx(y,{className:ht(Mb({variant:e,size:n,className:t})),ref:d,...s})});Ir.displayName="Button";var aa=t=>t.type==="checkbox",Bi=t=>t instanceof Date,wt=t=>t==null;const qy=t=>typeof t=="object";var it=t=>!wt(t)&&!Array.isArray(t)&&qy(t)&&!Bi(t),Ky=t=>it(t)&&t.target?aa(t.target)?t.target.checked:t.target.value:t,Fb=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Qy=(t,e)=>t.has(Fb(e)),Lb=t=>{const e=t.constructor&&t.constructor.prototype;return it(e)&&e.hasOwnProperty("isPrototypeOf")},od=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(od&&(t instanceof Blob||t instanceof FileList))&&(n||it(t)))if(e=n?[]:{},!n&&!Lb(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ln(t[r]));else return t;return e}var la=t=>Array.isArray(t)?t.filter(Boolean):[],qe=t=>t===void 0,de=(t,e,n)=>{if(!e||!it(t))return n;const r=la(e.split(/[,[\].]+?/)).reduce((s,d)=>wt(s)?s:s[d],t);return qe(r)||r===t?qe(t[e])?n:t[e]:r},Sr=t=>typeof t=="boolean";const Fl={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},In={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zy=ze.createContext(null),ku=()=>ze.useContext(Zy),Ib=t=>{const{children:e,...n}=t;return ze.createElement(Zy.Provider,{value:n},e)};var Jy=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const d in t)Object.defineProperty(s,d,{get:()=>{const y=d;return e._proxyFormState[y]!==hn.all&&(e._proxyFormState[y]=!r||hn.all),n&&(n[y]=!0),t[y]}});return s},Yt=t=>it(t)&&!Object.keys(t).length,e0=(t,e,n,r)=>{n(t);const{name:s,...d}=t;return Yt(d)||Object.keys(d).length>=Object.keys(e).length||Object.keys(d).find(y=>e[y]===(!r||hn.all))},Ja=t=>Array.isArray(t)?t:[t],t0=(t,e,n)=>!t||!e||t===e||Ja(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ad(t){const e=ze.useRef(t);e.current=t,ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function jb(t){const e=ku(),{control:n=e.control,disabled:r,name:s,exact:d}=t||{},[y,l]=ze.useState(n._formState),i=ze.useRef(!0),h=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=ze.useRef(s);return p.current=s,ad({disabled:r,next:o=>i.current&&t0(p.current,o.name,d)&&e0(o,h.current,n._updateFormState)&&l({...n._formState,...o}),subject:n._subjects.state}),ze.useEffect(()=>(i.current=!0,h.current.isValid&&n._updateValid(!0),()=>{i.current=!1}),[n]),Jy(y,n,h.current,!1)}var En=t=>typeof t=="string",n0=(t,e,n,r,s)=>En(t)?(r&&e.watch.add(t),de(n,t,s)):Array.isArray(t)?t.map(d=>(r&&e.watch.add(d),de(n,d))):(r&&(e.watchAll=!0),n);function Nb(t){const e=ku(),{control:n=e.control,name:r,defaultValue:s,disabled:d,exact:y}=t||{},l=ze.useRef(r);l.current=r,ad({disabled:d,subject:n._subjects.values,next:p=>{t0(l.current,p.name,y)&&h(ln(n0(l.current,n._names,p.values||n._formValues,!1,s)))}});const[i,h]=ze.useState(n._getWatch(r,s));return ze.useEffect(()=>n._removeUnmounted()),i}var ld=t=>/^\w*$/.test(t),r0=t=>la(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Me(t,e,n){let r=-1;const s=ld(e)?[e]:r0(e),d=s.length,y=d-1;for(;++r<d;){const l=s[r];let i=n;if(r!==y){const h=t[l];i=it(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}t[l]=i,t=t[l]}return t}function Bb(t){const e=ku(),{name:n,disabled:r,control:s=e.control,shouldUnregister:d}=t,y=Qy(s._names.array,n),l=Nb({control:s,name:n,defaultValue:de(s._formValues,n,de(s._defaultValues,n,t.defaultValue)),exact:!0}),i=jb({control:s,name:n}),h=ze.useRef(s.register(n,{...t.rules,value:l}));return h.current=s.register(n,t.rules),ze.useEffect(()=>{const p=s._options.shouldUnregister||d,o=(u,a)=>{const c=de(s._fields,u);c&&(c._f.mount=a)};if(o(n,!0),p){const u=ln(de(s._options.defaultValues,n));Me(s._defaultValues,n,u),qe(de(s._formValues,n))&&Me(s._formValues,n,u)}return()=>{(y?p&&!s._state.action:p)?s.unregister(n):o(n,!1)}},[n,s,y,d]),ze.useEffect(()=>{de(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n})},[r,n,s]),{field:{name:n,value:l,...Sr(r)?{disabled:r}:{},onChange:ze.useCallback(p=>h.current.onChange({target:{value:Ky(p),name:n},type:Fl.CHANGE}),[n]),onBlur:ze.useCallback(()=>h.current.onBlur({target:{value:de(s._formValues,n),name:n},type:Fl.BLUR}),[n,s]),ref:p=>{const o=de(s._fields,n);o&&p&&(o._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:u=>p.setCustomValidity(u),reportValidity:()=>p.reportValidity()})}},formState:i,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(i.errors,n)},isDirty:{enumerable:!0,get:()=>!!de(i.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!de(i.touchedFields,n)},error:{enumerable:!0,get:()=>de(i.errors,n)}})}}const zb=t=>t.render(Bb(t));var i0=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{};const Nf=(t,e,n)=>{for(const r of n||Object.keys(t)){const s=de(t,r);if(s){const{_f:d,...y}=s;if(d&&e(d.name)){if(d.ref.focus){d.ref.focus();break}else if(d.refs&&d.refs[0].focus){d.refs[0].focus();break}}else it(y)&&Nf(y,e)}}};var ng=t=>({isOnSubmit:!t||t===hn.onSubmit,isOnBlur:t===hn.onBlur,isOnChange:t===hn.onChange,isOnAll:t===hn.all,isOnTouch:t===hn.onTouched}),rg=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),$b=(t,e,n)=>{const r=la(de(t,n));return Me(r,"root",e[n]),Me(t,n,r),t},ud=t=>t.type==="file",br=t=>typeof t=="function",Ll=t=>{if(!od)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},el=t=>En(t),cd=t=>t.type==="radio",Il=t=>t instanceof RegExp;const ig={value:!1,isValid:!1},sg={value:!0,isValid:!0};var s0=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qe(t[0].attributes.value)?qe(t[0].value)||t[0].value===""?sg:{value:t[0].value,isValid:!0}:sg:ig}return ig};const og={isValid:!1,value:null};var o0=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,og):og;function ag(t,e,n="validate"){if(el(t)||Array.isArray(t)&&t.every(el)||Sr(t)&&!t)return{type:n,message:el(t)?t:"",ref:e}}var Ci=t=>it(t)&&!Il(t)?t:{value:t,message:""},lg=async(t,e,n,r,s)=>{const{ref:d,refs:y,required:l,maxLength:i,minLength:h,min:p,max:o,pattern:u,validate:a,name:c,valueAsNumber:g,mount:f,disabled:m}=t._f,v=de(e,c);if(!f||m)return{};const _=y?y[0]:d,w=V=>{r&&_.reportValidity&&(_.setCustomValidity(Sr(V)?"":V||""),_.reportValidity())},x={},C=cd(d),S=aa(d),T=C||S,I=(g||ud(d))&&qe(d.value)&&qe(v)||Ll(d)&&d.value===""||v===""||Array.isArray(v)&&!v.length,z=i0.bind(null,c,n,x),q=(V,Q,X,ee=In.maxLength,ne=In.minLength)=>{const ue=V?Q:X;x[c]={type:V?ee:ne,message:ue,ref:d,...z(V?ee:ne,ue)}};if(s?!Array.isArray(v)||!v.length:l&&(!T&&(I||wt(v))||Sr(v)&&!v||S&&!s0(y).isValid||C&&!o0(y).isValid)){const{value:V,message:Q}=el(l)?{value:!!l,message:l}:Ci(l);if(V&&(x[c]={type:In.required,message:Q,ref:_,...z(In.required,Q)},!n))return w(Q),x}if(!I&&(!wt(p)||!wt(o))){let V,Q;const X=Ci(o),ee=Ci(p);if(!wt(v)&&!isNaN(v)){const ne=d.valueAsNumber||v&&+v;wt(X.value)||(V=ne>X.value),wt(ee.value)||(Q=ne<ee.value)}else{const ne=d.valueAsDate||new Date(v),ue=P=>new Date(new Date().toDateString()+" "+P),W=d.type=="time",b=d.type=="week";En(X.value)&&v&&(V=W?ue(v)>ue(X.value):b?v>X.value:ne>new Date(X.value)),En(ee.value)&&v&&(Q=W?ue(v)<ue(ee.value):b?v<ee.value:ne<new Date(ee.value))}if((V||Q)&&(q(!!V,X.message,ee.message,In.max,In.min),!n))return w(x[c].message),x}if((i||h)&&!I&&(En(v)||s&&Array.isArray(v))){const V=Ci(i),Q=Ci(h),X=!wt(V.value)&&v.length>+V.value,ee=!wt(Q.value)&&v.length<+Q.value;if((X||ee)&&(q(X,V.message,Q.message),!n))return w(x[c].message),x}if(u&&!I&&En(v)){const{value:V,message:Q}=Ci(u);if(Il(V)&&!v.match(V)&&(x[c]={type:In.pattern,message:Q,ref:d,...z(In.pattern,Q)},!n))return w(Q),x}if(a){if(br(a)){const V=await a(v,e),Q=ag(V,_);if(Q&&(x[c]={...Q,...z(In.validate,Q.message)},!n))return w(Q.message),x}else if(it(a)){let V={};for(const Q in a){if(!Yt(V)&&!n)break;const X=ag(await a[Q](v,e),_,Q);X&&(V={...X,...z(Q,X.message)},w(X.message),n&&(x[c]=V))}if(!Yt(V)&&(x[c]={ref:_,...V},!n))return x}}return w(!0),x};function Ub(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=qe(t)?r++:t[e[r++]];return t}function Vb(t){for(const e in t)if(t.hasOwnProperty(e)&&!qe(t[e]))return!1;return!0}function lt(t,e){const n=Array.isArray(e)?e:ld(e)?[e]:r0(e),r=n.length===1?t:Ub(t,n),s=n.length-1,d=n[s];return r&&delete r[d],s!==0&&(it(r)&&Yt(r)||Array.isArray(r)&&Vb(r))&&lt(t,n.slice(0,-1)),t}function hc(){let t=[];return{get observers(){return t},next:s=>{for(const d of t)d.next&&d.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(d=>d!==s)}}),unsubscribe:()=>{t=[]}}}var jl=t=>wt(t)||!qy(t);function Zr(t,e){if(jl(t)||jl(e))return t===e;if(Bi(t)&&Bi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const d=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const y=e[s];if(Bi(d)&&Bi(y)||it(d)&&it(y)||Array.isArray(d)&&Array.isArray(y)?!Zr(d,y):d!==y)return!1}}return!0}var a0=t=>t.type==="select-multiple",Wb=t=>cd(t)||aa(t),dc=t=>Ll(t)&&t.isConnected,l0=t=>{for(const e in t)if(br(t[e]))return!0;return!1};function Nl(t,e={}){const n=Array.isArray(t);if(it(t)||n)for(const r in t)Array.isArray(t[r])||it(t[r])&&!l0(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Nl(t[r],e[r])):wt(t[r])||(e[r]=!0);return e}function u0(t,e,n){const r=Array.isArray(t);if(it(t)||r)for(const s in t)Array.isArray(t[s])||it(t[s])&&!l0(t[s])?qe(e)||jl(n[s])?n[s]=Array.isArray(t[s])?Nl(t[s],[]):{...Nl(t[s])}:u0(t[s],wt(e)?{}:e[s],n[s]):n[s]=!Zr(t[s],e[s]);return n}var pc=(t,e)=>u0(t,e,Nl(e)),c0=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>qe(t)?t:e?t===""?NaN:t&&+t:n&&En(t)?new Date(t):r?r(t):t;function gc(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return ud(e)?e.files:cd(e)?o0(t.refs).value:a0(e)?[...e.selectedOptions].map(({value:n})=>n):aa(e)?s0(t.refs).value:c0(qe(e.value)?t.ref.value:e.value,t)}var Hb=(t,e,n,r)=>{const s={};for(const d of t){const y=de(e,d);y&&Me(s,d,y._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Xs=t=>qe(t)?t:Il(t)?t.source:it(t)?Il(t.value)?t.value.source:t.value:t,Xb=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ug(t,e,n){const r=de(t,n);if(r||ld(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const d=s.join("."),y=de(e,d),l=de(t,d);if(y&&!Array.isArray(y)&&n!==d)return{name:n};if(l&&l.type)return{name:d,error:l};s.pop()}return{name:n}}var Yb=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Gb=(t,e)=>!la(de(t,e)).length&&lt(t,e);const qb={mode:hn.onSubmit,reValidateMode:hn.onChange,shouldFocusError:!0};function Kb(t={},e){let n={...qb,...t},r={submitCount:0,isDirty:!1,isLoading:br(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},d=it(n.defaultValues)||it(n.values)?ln(n.defaultValues||n.values)||{}:{},y=n.shouldUnregister?{}:ln(d),l={action:!1,mount:!1,watch:!1},i={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const o={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:hc(),array:hc(),state:hc()},a=t.resetOptions&&t.resetOptions.keepDirtyValues,c=ng(n.mode),g=ng(n.reValidateMode),f=n.criteriaMode===hn.all,m=E=>M=>{clearTimeout(p),p=setTimeout(E,M)},v=async E=>{if(o.isValid||E){const M=n.resolver?Yt((await I()).errors):await q(s,!0);M!==r.isValid&&u.state.next({isValid:M})}},_=E=>o.isValidating&&u.state.next({isValidating:E}),w=(E,M=[],N,oe,G=!0,L=!0)=>{if(oe&&N){if(l.action=!0,L&&Array.isArray(de(s,E))){const se=N(de(s,E),oe.argA,oe.argB);G&&Me(s,E,se)}if(L&&Array.isArray(de(r.errors,E))){const se=N(de(r.errors,E),oe.argA,oe.argB);G&&Me(r.errors,E,se),Gb(r.errors,E)}if(o.touchedFields&&L&&Array.isArray(de(r.touchedFields,E))){const se=N(de(r.touchedFields,E),oe.argA,oe.argB);G&&Me(r.touchedFields,E,se)}o.dirtyFields&&(r.dirtyFields=pc(d,y)),u.state.next({name:E,isDirty:Q(E,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(y,E,M)},x=(E,M)=>{Me(r.errors,E,M),u.state.next({errors:r.errors})},C=(E,M,N,oe)=>{const G=de(s,E);if(G){const L=de(y,E,qe(N)?de(d,E):N);qe(L)||oe&&oe.defaultChecked||M?Me(y,E,M?L:gc(G._f)):ne(E,L),l.mount&&v()}},S=(E,M,N,oe,G)=>{let L=!1,se=!1;const ve={name:E};if(!N||oe){o.isDirty&&(se=r.isDirty,r.isDirty=ve.isDirty=Q(),L=se!==ve.isDirty);const _e=Zr(de(d,E),M);se=de(r.dirtyFields,E),_e?lt(r.dirtyFields,E):Me(r.dirtyFields,E,!0),ve.dirtyFields=r.dirtyFields,L=L||o.dirtyFields&&se!==!_e}if(N){const _e=de(r.touchedFields,E);_e||(Me(r.touchedFields,E,N),ve.touchedFields=r.touchedFields,L=L||o.touchedFields&&_e!==N)}return L&&G&&u.state.next(ve),L?ve:{}},T=(E,M,N,oe)=>{const G=de(r.errors,E),L=o.isValid&&Sr(M)&&r.isValid!==M;if(t.delayError&&N?(h=m(()=>x(E,N)),h(t.delayError)):(clearTimeout(p),h=null,N?Me(r.errors,E,N):lt(r.errors,E)),(N?!Zr(G,N):G)||!Yt(oe)||L){const se={...oe,...L&&Sr(M)?{isValid:M}:{},errors:r.errors,name:E};r={...r,...se},u.state.next(se)}_(!1)},I=async E=>n.resolver(y,n.context,Hb(E||i.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),z=async E=>{const{errors:M}=await I(E);if(E)for(const N of E){const oe=de(M,N);oe?Me(r.errors,N,oe):lt(r.errors,N)}else r.errors=M;return M},q=async(E,M,N={valid:!0})=>{for(const oe in E){const G=E[oe];if(G){const{_f:L,...se}=G;if(L){const ve=i.array.has(L.name),_e=await lg(G,y,f,n.shouldUseNativeValidation&&!M,ve);if(_e[L.name]&&(N.valid=!1,M))break;!M&&(de(_e,L.name)?ve?$b(r.errors,_e,L.name):Me(r.errors,L.name,_e[L.name]):lt(r.errors,L.name))}se&&await q(se,M,N)}}return N.valid},V=()=>{for(const E of i.unMount){const M=de(s,E);M&&(M._f.refs?M._f.refs.every(N=>!dc(N)):!dc(M._f.ref))&&j(E)}i.unMount=new Set},Q=(E,M)=>(E&&M&&Me(y,E,M),!Zr(A(),d)),X=(E,M,N)=>n0(E,i,{...l.mount?y:qe(M)?d:En(E)?{[E]:M}:M},N,M),ee=E=>la(de(l.mount?y:d,E,t.shouldUnregister?de(d,E,[]):[])),ne=(E,M,N={})=>{const oe=de(s,E);let G=M;if(oe){const L=oe._f;L&&(!L.disabled&&Me(y,E,c0(M,L)),G=Ll(L.ref)&&wt(M)?"":M,a0(L.ref)?[...L.ref.options].forEach(se=>se.selected=G.includes(se.value)):L.refs?aa(L.ref)?L.refs.length>1?L.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(G)?!!G.find(ve=>ve===se.value):G===se.value)):L.refs[0]&&(L.refs[0].checked=!!G):L.refs.forEach(se=>se.checked=se.value===G):ud(L.ref)?L.ref.value="":(L.ref.value=G,L.ref.type||u.values.next({name:E,values:{...y}})))}(N.shouldDirty||N.shouldTouch)&&S(E,G,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&P(E)},ue=(E,M,N)=>{for(const oe in M){const G=M[oe],L=`${E}.${oe}`,se=de(s,L);(i.array.has(E)||!jl(G)||se&&!se._f)&&!Bi(G)?ue(L,G,N):ne(L,G,N)}},W=(E,M,N={})=>{const oe=de(s,E),G=i.array.has(E),L=ln(M);Me(y,E,L),G?(u.array.next({name:E,values:{...y}}),(o.isDirty||o.dirtyFields)&&N.shouldDirty&&u.state.next({name:E,dirtyFields:pc(d,y),isDirty:Q(E,L)})):oe&&!oe._f&&!wt(L)?ue(E,L,N):ne(E,L,N),rg(E,i)&&u.state.next({...r}),u.values.next({name:E,values:{...y}}),!l.mount&&e()},b=async E=>{const M=E.target;let N=M.name,oe=!0;const G=de(s,N),L=()=>M.type?gc(G._f):Ky(E);if(G){let se,ve;const _e=L(),Ae=E.type===Fl.BLUR||E.type===Fl.FOCUS_OUT,De=!Xb(G._f)&&!n.resolver&&!de(r.errors,N)&&!G._f.deps||Yb(Ae,de(r.touchedFields,N),r.isSubmitted,g,c),Je=rg(N,i,Ae);Me(y,N,_e),Ae?(G._f.onBlur&&G._f.onBlur(E),h&&h(0)):G._f.onChange&&G._f.onChange(E);const Ue=S(N,_e,Ae,!1),Ln=!Yt(Ue)||Je;if(!Ae&&u.values.next({name:N,type:E.type,values:{...y}}),De)return o.isValid&&v(),Ln&&u.state.next({name:N,...Je?{}:Ue});if(!Ae&&Je&&u.state.next({...r}),_(!0),n.resolver){const{errors:rr}=await I([N]),$t=ug(r.errors,s,N),ca=ug(rr,s,$t.name||N);se=ca.error,N=ca.name,ve=Yt(rr)}else se=(await lg(G,y,f,n.shouldUseNativeValidation))[N],oe=Number.isNaN(_e)||_e===de(y,N,_e),oe&&(se?ve=!1:o.isValid&&(ve=await q(s,!0)));oe&&(G._f.deps&&P(G._f.deps),T(N,ve,se,Ue))}},P=async(E,M={})=>{let N,oe;const G=Ja(E);if(_(!0),n.resolver){const L=await z(qe(E)?E:G);N=Yt(L),oe=E?!G.some(se=>de(L,se)):N}else E?(oe=(await Promise.all(G.map(async L=>{const se=de(s,L);return await q(se&&se._f?{[L]:se}:se)}))).every(Boolean),!(!oe&&!r.isValid)&&v()):oe=N=await q(s);return u.state.next({...!En(E)||o.isValid&&N!==r.isValid?{}:{name:E},...n.resolver||!E?{isValid:N}:{},errors:r.errors,isValidating:!1}),M.shouldFocus&&!oe&&Nf(s,L=>L&&de(r.errors,L),E?G:i.mount),oe},A=E=>{const M={...d,...l.mount?y:{}};return qe(E)?M:En(E)?de(M,E):E.map(N=>de(M,N))},R=(E,M)=>({invalid:!!de((M||r).errors,E),isDirty:!!de((M||r).dirtyFields,E),isTouched:!!de((M||r).touchedFields,E),error:de((M||r).errors,E)}),U=E=>{E&&Ja(E).forEach(M=>lt(r.errors,M)),u.state.next({errors:E?r.errors:{}})},D=(E,M,N)=>{const oe=(de(s,E,{_f:{}})._f||{}).ref;Me(r.errors,E,{...M,ref:oe}),u.state.next({name:E,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&oe&&oe.focus&&oe.focus()},O=(E,M)=>br(E)?u.values.subscribe({next:N=>E(X(void 0,M),N)}):X(E,M,!0),j=(E,M={})=>{for(const N of E?Ja(E):i.mount)i.mount.delete(N),i.array.delete(N),M.keepValue||(lt(s,N),lt(y,N)),!M.keepError&&lt(r.errors,N),!M.keepDirty&&lt(r.dirtyFields,N),!M.keepTouched&&lt(r.touchedFields,N),!n.shouldUnregister&&!M.keepDefaultValue&&lt(d,N);u.values.next({values:{...y}}),u.state.next({...r,...M.keepDirty?{isDirty:Q()}:{}}),!M.keepIsValid&&v()},B=({disabled:E,name:M,field:N,fields:oe})=>{if(Sr(E)){const G=E?void 0:de(y,M,gc(N?N._f:de(oe,M)._f));Me(y,M,G),S(M,G,!1,!1,!0)}},K=(E,M={})=>{let N=de(s,E);const oe=Sr(M.disabled);return Me(s,E,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:E}},name:E,mount:!0,...M}}),i.mount.add(E),N?B({field:N,disabled:M.disabled,name:E}):C(E,!0,M.value),{...oe?{disabled:M.disabled}:{},...n.progressive?{required:!!M.required,min:Xs(M.min),max:Xs(M.max),minLength:Xs(M.minLength),maxLength:Xs(M.maxLength),pattern:Xs(M.pattern)}:{},name:E,onChange:b,onBlur:b,ref:G=>{if(G){K(E,M),N=de(s,E);const L=qe(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,se=Wb(L),ve=N._f.refs||[];if(se?ve.find(_e=>_e===L):L===N._f.ref)return;Me(s,E,{_f:{...N._f,...se?{refs:[...ve.filter(dc),L,...Array.isArray(de(d,E))?[{}]:[]],ref:{type:L.type,name:E}}:{ref:L}}}),C(E,!1,void 0,L)}else N=de(s,E,{}),N._f&&(N._f.mount=!1),(n.shouldUnregister||M.shouldUnregister)&&!(Qy(i.array,E)&&l.action)&&i.unMount.add(E)}}},H=()=>n.shouldFocusError&&Nf(s,E=>E&&de(r.errors,E),i.mount),re=(E,M)=>async N=>{N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let oe=ln(y);if(u.state.next({isSubmitting:!0}),n.resolver){const{errors:G,values:L}=await I();r.errors=G,oe=L}else await q(s);lt(r.errors,"root"),Yt(r.errors)?(u.state.next({errors:{}}),await E(oe,N)):(M&&await M({...r.errors},N),H(),setTimeout(H)),u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ae=(E,M={})=>{de(s,E)&&(qe(M.defaultValue)?W(E,de(d,E)):(W(E,M.defaultValue),Me(d,E,M.defaultValue)),M.keepTouched||lt(r.touchedFields,E),M.keepDirty||(lt(r.dirtyFields,E),r.isDirty=M.defaultValue?Q(E,de(d,E)):Q()),M.keepError||(lt(r.errors,E),o.isValid&&v()),u.state.next({...r}))},fe=(E,M={})=>{const N=E?ln(E):d,oe=ln(N),G=E&&!Yt(E)?oe:d;if(M.keepDefaultValues||(d=N),!M.keepValues){if(M.keepDirtyValues||a)for(const L of i.mount)de(r.dirtyFields,L)?Me(G,L,de(y,L)):W(L,de(G,L));else{if(od&&qe(E))for(const L of i.mount){const se=de(s,L);if(se&&se._f){const ve=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Ll(ve)){const _e=ve.closest("form");if(_e){_e.reset();break}}}}s={}}y=t.shouldUnregister?M.keepDefaultValues?ln(d):{}:ln(G),u.array.next({values:{...G}}),u.values.next({values:{...G}})}i={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!o.isValid||!!M.keepIsValid,l.watch=!!t.shouldUnregister,u.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!Zr(E,d)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:M.keepDirtyValues?r.dirtyFields:M.keepDefaultValues&&E?pc(d,E):{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Y=(E,M)=>fe(br(E)?E(y):E,M);return{control:{register:K,unregister:j,getFieldState:R,handleSubmit:re,setError:D,_executeSchema:I,_getWatch:X,_getDirty:Q,_updateValid:v,_removeUnmounted:V,_updateFieldArray:w,_updateDisabledField:B,_getFieldArray:ee,_reset:fe,_resetDefaultValues:()=>br(n.defaultValues)&&n.defaultValues().then(E=>{Y(E,n.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_subjects:u,_proxyFormState:o,get _fields(){return s},get _formValues(){return y},get _state(){return l},set _state(E){l=E},get _defaultValues(){return d},get _names(){return i},set _names(E){i=E},get _formState(){return r},set _formState(E){r=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:P,register:K,handleSubmit:re,watch:O,setValue:W,getValues:A,reset:Y,resetField:ae,clearErrors:U,unregister:j,setError:D,setFocus:(E,M={})=>{const N=de(s,E),oe=N&&N._f;if(oe){const G=oe.refs?oe.refs[0]:oe.ref;G.focus&&(G.focus(),M.shouldSelect&&G.select())}},getFieldState:R}}function f0(t={}){const e=ze.useRef(),n=ze.useRef(),[r,s]=ze.useState({isDirty:!1,isValidating:!1,isLoading:br(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:br(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Kb(t,()=>s(y=>({...y}))),formState:r});const d=e.current.control;return d._options=t,ad({subject:d._subjects.state,next:y=>{e0(y,d._proxyFormState,d._updateFormState,!0)&&s({...d._formState})}}),ze.useEffect(()=>{t.values&&!Zr(t.values,n.current)?(d._reset(t.values,d._options.resetOptions),n.current=t.values):d._resetDefaultValues()},[t.values,d]),ze.useEffect(()=>{d._state.mount||(d._updateValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),e.current.formState=Jy(r,d),e.current}const Qb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rn=Qb.reduce((t,e)=>{const n=k.forwardRef((r,s)=>{const{asChild:d,...y}=r,l=d?As:e;return k.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),k.createElement(l,Le({},y,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Zb(t,e){t&&ia.flushSync(()=>t.dispatchEvent(e))}const Jb=k.forwardRef((t,e)=>k.createElement(rn.label,Le({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),h0=Jb,e1=id("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d0=k.forwardRef(({className:t,...e},n)=>J.jsx(h0,{ref:n,className:ht(e1(),t),...e}));d0.displayName=h0.displayName;const p0=Ib,g0=k.createContext({}),Bl=({...t})=>J.jsx(g0.Provider,{value:{name:t.name},children:J.jsx(zb,{...t})}),Pu=()=>{const t=k.useContext(g0),e=k.useContext(m0),{getFieldState:n,formState:r}=ku(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:d}=e;return{id:d,name:t.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...s}},m0=k.createContext({}),Ao=k.forwardRef(({className:t,...e},n)=>{const r=k.useId();return J.jsx(m0.Provider,{value:{id:r},children:J.jsx("div",{ref:n,className:ht("space-y-2",t),...e})})});Ao.displayName="FormItem";const Do=k.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Pu();return J.jsx(d0,{ref:n,className:ht(r&&"text-destructive",t),htmlFor:s,...e})});Do.displayName="FormLabel";const Ro=k.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:d}=Pu();return J.jsx(As,{ref:e,id:r,"aria-describedby":n?`${s} ${d}`:`${s}`,"aria-invalid":!!n,...t})});Ro.displayName="FormControl";const t1=k.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Pu();return J.jsx("p",{ref:n,id:r,className:ht("text-sm text-muted-foreground",t),...e})});t1.displayName="FormDescription";const Mo=k.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:d}=Pu(),y=s?String(s==null?void 0:s.message):e;return y?J.jsx("p",{ref:r,id:d,className:ht("text-sm font-medium text-destructive",t),...n,children:y}):null});Mo.displayName="FormMessage";const zl=k.forwardRef(({className:t,type:e,...n},r)=>J.jsx("input",{type:e,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));zl.displayName="Input";var cg=function(t,e,n){if(t&&"reportValidity"in t){var r=de(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},v0=function(t,e){var n=function(s){var d=e.fields[s];d&&d.ref&&"reportValidity"in d.ref?cg(d.ref,s,t):d.refs&&d.refs.forEach(function(y){return cg(y,s,t)})};for(var r in e.fields)n(r)},n1=function(t,e){e.shouldUseNativeValidation&&v0(t,e);var n={};for(var r in t){var s=de(e.fields,r),d=Object.assign(t[r]||{},{ref:s&&s.ref});if(i1(e.names||Object.keys(t),r)){var y=Object.assign({},r1(de(n,r)));Me(y,"root",d),Me(n,r,y)}else Me(n,r,d)}return n},r1=function(t){return Array.isArray(t)?t.filter(Boolean):[]},i1=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},s1=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,d=r.message,y=r.path.join(".");if(!n[y])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[y]={message:l.message,type:l.code}}else n[y]={message:d,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(o){return t.push(o)})}),e){var i=n[y].types,h=i&&i[r.code];n[y]=i0(y,e,n,s,h?[].concat(h,r.message):r.message)}t.shift()}return n},y0=function(t,e,n){return n===void 0&&(n={}),function(r,s,d){try{return Promise.resolve(function(y,l){try{var i=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(h){return d.shouldUseNativeValidation&&v0({},d),{errors:{},values:n.raw?r:h}})}catch(h){return l(h)}return i&&i.then?i.then(void 0,l):i}(0,function(y){if(function(l){return l.errors!=null}(y))return{values:{},errors:n1(s1(y.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw y}))}catch(y){return Promise.reject(y)}}},o1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wi=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:y,children:l,...i},h)=>k.createElement("svg",{ref:h,...o1,width:s,height:s,stroke:r,strokeWidth:y?Number(d)*24/Number(s):d,className:`lucide lucide-${a1(t)}`,...i},[...e.map(([p,o])=>k.createElement(p,o)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},l1=wi("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),u1=wi("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),c1=wi("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),f1=wi("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_0=wi("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),h1=wi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),d1=wi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Re;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const d={};for(const y of s)d[y]=y;return d},t.getValidEnumValues=s=>{const d=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),y={};for(const l of d)y[l]=s[l];return t.objectValues(y)},t.objectValues=s=>t.objectKeys(s).map(function(d){return s[d]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const d=[];for(const y in s)Object.prototype.hasOwnProperty.call(s,y)&&d.push(y);return d},t.find=(s,d)=>{for(const y of s)if(d(y))return y},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,d=" | "){return s.map(y=>typeof y=="string"?`'${y}'`:y).join(d)}t.joinValues=r,t.jsonStringifyReplacer=(s,d)=>typeof d=="bigint"?d.toString():d})(Re||(Re={}));var fg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(fg||(fg={}));const pe=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yr=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},ce=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(d){return d.message},r={_errors:[]},s=d=>{for(const y of d.issues)if(y.code==="invalid_union")y.unionErrors.map(s);else if(y.code==="invalid_return_type")s(y.returnTypeError);else if(y.code==="invalid_arguments")s(y.argumentsError);else if(y.path.length===0)r._errors.push(n(y));else{let l=r,i=0;for(;i<y.path.length;){const h=y.path[i];i===y.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(n(y))):l[h]=l[h]||{_errors:[]},l=l[h],i++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pn.create=t=>new Pn(t);const $l=(t,e)=>{let n;switch(t.code){case ce.invalid_type:t.received===pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Re.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${Re.joinValues(t.keys,", ")}`;break;case ce.invalid_union:n="Invalid input";break;case ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Re.joinValues(t.options)}`;break;case ce.invalid_enum_value:n=`Invalid enum value. Expected ${Re.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:n="Invalid function arguments";break;case ce.invalid_return_type:n="Invalid function return type";break;case ce.invalid_date:n="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Re.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ce.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ce.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ce.custom:n="Invalid input";break;case ce.invalid_intersection_types:n="Intersection results could not be merged";break;case ce.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:n="Number must be finite";break;default:n=e.defaultError,Re.assertNever(t)}return{message:n}};let p1=$l;function Bf(){return p1}const zf=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,d=[...n,...s.path||[]],y={...s,path:d};let l="";const i=r.filter(h=>!!h).slice().reverse();for(const h of i)l=h(y,{data:e,defaultError:l}).message;return{...s,path:d,message:s.message||l}};function me(t,e){const n=zf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Bf(),$l].filter(r=>!!r)});t.common.issues.push(n)}class Ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return be;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ct.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:d,value:y}=s;if(d.status==="aborted"||y.status==="aborted")return be;d.status==="dirty"&&e.dirty(),y.status==="dirty"&&e.dirty(),d.value!=="__proto__"&&(typeof y.value<"u"||s.alwaysSet)&&(r[d.value]=y.value)}return{status:e.value,value:r}}}const be=Object.freeze({status:"aborted"}),g1=t=>({status:"dirty",value:t}),Dt=t=>({status:"valid",value:t}),hg=t=>t.status==="aborted",dg=t=>t.status==="dirty",Ul=t=>t.status==="valid",$f=t=>typeof Promise<"u"&&t instanceof Promise;var we;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(we||(we={}));class Dn{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pg=(t,e)=>{if(Ul(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pn(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(y,l)=>y.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:n??l.defaultError},description:s}}class Te{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Yr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ct,ctx:{common:e.parent.common,data:e.data,parsedType:Yr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if($f(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yr(e)},d=this._parseSync({data:e,path:s.path,parent:s});return pg(s,d)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yr(e)},s=this._parse({data:e,path:r.path,parent:r}),d=await($f(s)?s:Promise.resolve(s));return pg(r,d)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,d)=>{const y=e(s),l=()=>d.addIssue({code:ce.custom,...r(s)});return typeof Promise<"u"&&y instanceof Promise?y.then(i=>i?!0:(l(),!1)):y?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qn({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mr.create(this,this._def)}nullable(){return Cs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return An.create(this,this._def)}promise(){return Io.create(this,this._def)}or(e){return Hl.create([this,e],this._def)}and(e){return Xl.create(this,e,this._def)}transform(e){return new Qn({...Se(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ql({...Se(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new O1({typeName:xe.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Yf({...Se(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Au.create(this,e)}readonly(){return qf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const m1=/^c[^\s-]{8,}$/i,v1=/^[a-z][a-z0-9]*$/,y1=/^[0-9A-HJKMNP-TV-Z]{26}$/,_1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w1=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mc;const C1=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,S1=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,b1=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function T1(t,e){return!!((e==="v4"||!e)&&C1.test(t)||(e==="v6"||!e)&&S1.test(t))}class Vn extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const d=this._getOrReturnCtx(e);return me(d,{code:ce.invalid_type,expected:pe.string,received:d.parsedType}),be}const r=new Ct;let s;for(const d of this._def.checks)if(d.kind==="min")e.data.length<d.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ce.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),r.dirty());else if(d.kind==="max")e.data.length>d.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ce.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),r.dirty());else if(d.kind==="length"){const y=e.data.length>d.value,l=e.data.length<d.value;(y||l)&&(s=this._getOrReturnCtx(e,s),y?me(s,{code:ce.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):l&&me(s,{code:ce.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),r.dirty())}else if(d.kind==="email")w1.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="emoji")mc||(mc=new RegExp(x1,"u")),mc.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="uuid")_1.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="cuid")m1.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="cuid2")v1.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="ulid")y1.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:ce.invalid_string,message:d.message}),r.dirty());else if(d.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:ce.invalid_string,message:d.message}),r.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:ce.invalid_string,message:d.message}),r.dirty())):d.kind==="trim"?e.data=e.data.trim():d.kind==="includes"?e.data.includes(d.value,d.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:ce.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),r.dirty()):d.kind==="toLowerCase"?e.data=e.data.toLowerCase():d.kind==="toUpperCase"?e.data=e.data.toUpperCase():d.kind==="startsWith"?e.data.startsWith(d.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:ce.invalid_string,validation:{startsWith:d.value},message:d.message}),r.dirty()):d.kind==="endsWith"?e.data.endsWith(d.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:ce.invalid_string,validation:{endsWith:d.value},message:d.message}),r.dirty()):d.kind==="datetime"?b1(d).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:ce.invalid_string,validation:"datetime",message:d.message}),r.dirty()):d.kind==="ip"?T1(e.data,d.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:ce.invalid_string,message:d.message}),r.dirty()):Re.assertNever(d);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ce.invalid_string,...we.errToObj(r)})}_addCheck(e){return new Vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...we.errToObj(e)})}url(e){return this._addCheck({kind:"url",...we.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...we.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...we.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...we.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...we.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...we.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...we.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...we.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...we.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...we.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...we.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...we.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...we.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...we.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...we.errToObj(n)})}nonempty(e){return this.min(1,we.errToObj(e))}trim(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vn.create=t=>{var e;return new Vn({checks:[],typeName:xe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function E1(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,d=parseInt(t.toFixed(s).replace(".","")),y=parseInt(e.toFixed(s).replace(".",""));return d%y/Math.pow(10,s)}class _s extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const d=this._getOrReturnCtx(e);return me(d,{code:ce.invalid_type,expected:pe.number,received:d.parsedType}),be}let r;const s=new Ct;for(const d of this._def.checks)d.kind==="int"?Re.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:ce.invalid_type,expected:"integer",received:"float",message:d.message}),s.dirty()):d.kind==="min"?(d.inclusive?e.data<d.value:e.data<=d.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),s.dirty()):d.kind==="max"?(d.inclusive?e.data>d.value:e.data>=d.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),s.dirty()):d.kind==="multipleOf"?E1(e.data,d.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.not_multiple_of,multipleOf:d.value,message:d.message}),s.dirty()):d.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:ce.not_finite,message:d.message}),s.dirty()):Re.assertNever(d);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,we.toString(n))}gt(e,n){return this.setLimit("min",e,!1,we.toString(n))}lte(e,n){return this.setLimit("max",e,!0,we.toString(n))}lt(e,n){return this.setLimit("max",e,!1,we.toString(n))}setLimit(e,n,r,s){return new _s({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:we.toString(s)}]})}_addCheck(e){return new _s({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:we.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:we.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_s.create=t=>new _s({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class ws extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pe.bigint){const d=this._getOrReturnCtx(e);return me(d,{code:ce.invalid_type,expected:pe.bigint,received:d.parsedType}),be}let r;const s=new Ct;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?e.data<d.value:e.data<=d.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),s.dirty()):d.kind==="max"?(d.inclusive?e.data>d.value:e.data>=d.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),s.dirty()):d.kind==="multipleOf"?e.data%d.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:ce.not_multiple_of,multipleOf:d.value,message:d.message}),s.dirty()):Re.assertNever(d);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,we.toString(n))}gt(e,n){return this.setLimit("min",e,!1,we.toString(n))}lte(e,n){return this.setLimit("max",e,!0,we.toString(n))}lt(e,n){return this.setLimit("max",e,!1,we.toString(n))}setLimit(e,n,r,s){return new ws({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:we.toString(s)}]})}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:we.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ws.create=t=>{var e;return new ws({checks:[],typeName:xe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class Uf extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.boolean,received:r.parsedType}),be}return Dt(e.data)}}Uf.create=t=>new Uf({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Fo extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const d=this._getOrReturnCtx(e);return me(d,{code:ce.invalid_type,expected:pe.date,received:d.parsedType}),be}if(isNaN(e.data.getTime())){const d=this._getOrReturnCtx(e);return me(d,{code:ce.invalid_date}),be}const r=new Ct;let s;for(const d of this._def.checks)d.kind==="min"?e.data.getTime()<d.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ce.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),r.dirty()):d.kind==="max"?e.data.getTime()>d.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ce.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),r.dirty()):Re.assertNever(d);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:we.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:we.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Fo.create=t=>new Fo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate,...Se(t)});class Vf extends Te{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.symbol,received:r.parsedType}),be}return Dt(e.data)}}Vf.create=t=>new Vf({typeName:xe.ZodSymbol,...Se(t)});class Vl extends Te{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.undefined,received:r.parsedType}),be}return Dt(e.data)}}Vl.create=t=>new Vl({typeName:xe.ZodUndefined,...Se(t)});class Wl extends Te{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.null,received:r.parsedType}),be}return Dt(e.data)}}Wl.create=t=>new Wl({typeName:xe.ZodNull,...Se(t)});class Lo extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return Dt(e.data)}}Lo.create=t=>new Lo({typeName:xe.ZodAny,...Se(t)});class Xi extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dt(e.data)}}Xi.create=t=>new Xi({typeName:xe.ZodUnknown,...Se(t)});class jr extends Te{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:ce.invalid_type,expected:pe.never,received:n.parsedType}),be}}jr.create=t=>new jr({typeName:xe.ZodNever,...Se(t)});class Wf extends Te{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.void,received:r.parsedType}),be}return Dt(e.data)}}Wf.create=t=>new Wf({typeName:xe.ZodVoid,...Se(t)});class An extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==pe.array)return me(n,{code:ce.invalid_type,expected:pe.array,received:n.parsedType}),be;if(s.exactLength!==null){const y=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(y||l)&&(me(n,{code:y?ce.too_big:ce.too_small,minimum:l?s.exactLength.value:void 0,maximum:y?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(me(n,{code:ce.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(me(n,{code:ce.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((y,l)=>s.type._parseAsync(new Dn(n,y,n.path,l)))).then(y=>Ct.mergeArray(r,y));const d=[...n.data].map((y,l)=>s.type._parseSync(new Dn(n,y,n.path,l)));return Ct.mergeArray(r,d)}get element(){return this._def.type}min(e,n){return new An({...this._def,minLength:{value:e,message:we.toString(n)}})}max(e,n){return new An({...this._def,maxLength:{value:e,message:we.toString(n)}})}length(e,n){return new An({...this._def,exactLength:{value:e,message:we.toString(n)}})}nonempty(e){return this.min(1,e)}}An.create=(t,e)=>new An({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Se(e)});function Ei(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mr.create(Ei(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof An?new An({...t._def,type:Ei(t.element)}):t instanceof Mr?Mr.create(Ei(t.unwrap())):t instanceof Cs?Cs.create(Ei(t.unwrap())):t instanceof Kn?Kn.create(t.items.map(e=>Ei(e))):t}class Ye extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Re.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==pe.object){const h=this._getOrReturnCtx(e);return me(h,{code:ce.invalid_type,expected:pe.object,received:h.parsedType}),be}const{status:r,ctx:s}=this._processInputParams(e),{shape:d,keys:y}=this._getCached(),l=[];if(!(this._def.catchall instanceof jr&&this._def.unknownKeys==="strip"))for(const h in s.data)y.includes(h)||l.push(h);const i=[];for(const h of y){const p=d[h],o=s.data[h];i.push({key:{status:"valid",value:h},value:p._parse(new Dn(s,o,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof jr){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of l)i.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(h==="strict")l.length>0&&(me(s,{code:ce.unrecognized_keys,keys:l}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of l){const o=s.data[p];i.push({key:{status:"valid",value:p},value:h._parse(new Dn(s,o,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of i){const o=await p.key;h.push({key:o,value:await p.value,alwaysSet:p.alwaysSet})}return h}).then(h=>Ct.mergeObjectSync(r,h)):Ct.mergeObjectSync(r,i)}get shape(){return this._def.shape()}strict(e){return we.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,d,y,l;const i=(y=(d=(s=this._def).errorMap)===null||d===void 0?void 0:d.call(s,n,r).message)!==null&&y!==void 0?y:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=we.errToObj(e).message)!==null&&l!==void 0?l:i}:{message:i}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Re.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Ei(this)}partial(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Re.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let d=this.shape[r];for(;d instanceof Mr;)d=d._def.innerType;n[r]=d}}),new Ye({...this._def,shape:()=>n})}keyof(){return w0(Re.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:jr.create(),typeName:xe.ZodObject,...Se(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:jr.create(),typeName:xe.ZodObject,...Se(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:jr.create(),typeName:xe.ZodObject,...Se(e)});class Hl extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(d){for(const l of d)if(l.result.status==="valid")return l.result;for(const l of d)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const y=d.map(l=>new Pn(l.ctx.common.issues));return me(n,{code:ce.invalid_union,unionErrors:y}),be}if(n.common.async)return Promise.all(r.map(async d=>{const y={...n,common:{...n.common,issues:[]},parent:null};return{result:await d._parseAsync({data:n.data,path:n.path,parent:y}),ctx:y}})).then(s);{let d;const y=[];for(const i of r){const h={...n,common:{...n.common,issues:[]},parent:null},p=i._parseSync({data:n.data,path:n.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!d&&(d={result:p,ctx:h}),h.common.issues.length&&y.push(h.common.issues)}if(d)return n.common.issues.push(...d.ctx.common.issues),d.result;const l=y.map(i=>new Pn(i));return me(n,{code:ce.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}Hl.create=(t,e)=>new Hl({options:t,typeName:xe.ZodUnion,...Se(e)});const tl=t=>t instanceof Gl?tl(t.schema):t instanceof Qn?tl(t.innerType()):t instanceof ql?[t.value]:t instanceof gi?t.options:t instanceof Kl?Object.keys(t.enum):t instanceof Ql?tl(t._def.innerType):t instanceof Vl?[void 0]:t instanceof Wl?[null]:null;class fd extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.object)return me(n,{code:ce.invalid_type,expected:pe.object,received:n.parsedType}),be;const r=this.discriminator,s=n.data[r],d=this.optionsMap.get(s);return d?n.common.async?d._parseAsync({data:n.data,path:n.path,parent:n}):d._parseSync({data:n.data,path:n.path,parent:n}):(me(n,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const d of n){const y=tl(d.shape[e]);if(!y)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of y){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,d)}}return new fd({typeName:xe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Se(r)})}}function Hf(t,e){const n=Yr(t),r=Yr(e);if(t===e)return{valid:!0,data:t};if(n===pe.object&&r===pe.object){const s=Re.objectKeys(e),d=Re.objectKeys(t).filter(l=>s.indexOf(l)!==-1),y={...t,...e};for(const l of d){const i=Hf(t[l],e[l]);if(!i.valid)return{valid:!1};y[l]=i.data}return{valid:!0,data:y}}else if(n===pe.array&&r===pe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let d=0;d<t.length;d++){const y=t[d],l=e[d],i=Hf(y,l);if(!i.valid)return{valid:!1};s.push(i.data)}return{valid:!0,data:s}}else return n===pe.date&&r===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xl extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(d,y)=>{if(hg(d)||hg(y))return be;const l=Hf(d.value,y.value);return l.valid?((dg(d)||dg(y))&&n.dirty(),{status:n.value,value:l.data}):(me(r,{code:ce.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([d,y])=>s(d,y)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xl.create=(t,e,n)=>new Xl({left:t,right:e,typeName:xe.ZodIntersection,...Se(n)});class Kn extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return me(r,{code:ce.invalid_type,expected:pe.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return me(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const d=[...r.data].map((y,l)=>{const i=this._def.items[l]||this._def.rest;return i?i._parse(new Dn(r,y,r.path,l)):null}).filter(y=>!!y);return r.common.async?Promise.all(d).then(y=>Ct.mergeArray(n,y)):Ct.mergeArray(n,d)}get items(){return this._def.items}rest(e){return new Kn({...this._def,rest:e})}}Kn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kn({items:t,typeName:xe.ZodTuple,rest:null,...Se(e)})};class Yl extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return me(r,{code:ce.invalid_type,expected:pe.object,received:r.parsedType}),be;const s=[],d=this._def.keyType,y=this._def.valueType;for(const l in r.data)s.push({key:d._parse(new Dn(r,l,r.path,l)),value:y._parse(new Dn(r,r.data[l],r.path,l))});return r.common.async?Ct.mergeObjectAsync(n,s):Ct.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new Yl({keyType:e,valueType:n,typeName:xe.ZodRecord,...Se(r)}):new Yl({keyType:Vn.create(),valueType:e,typeName:xe.ZodRecord,...Se(n)})}}class Xf extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return me(r,{code:ce.invalid_type,expected:pe.map,received:r.parsedType}),be;const s=this._def.keyType,d=this._def.valueType,y=[...r.data.entries()].map(([l,i],h)=>({key:s._parse(new Dn(r,l,r.path,[h,"key"])),value:d._parse(new Dn(r,i,r.path,[h,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const i of y){const h=await i.key,p=await i.value;if(h.status==="aborted"||p.status==="aborted")return be;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(h.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const i of y){const h=i.key,p=i.value;if(h.status==="aborted"||p.status==="aborted")return be;(h.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(h.value,p.value)}return{status:n.value,value:l}}}}Xf.create=(t,e,n)=>new Xf({valueType:e,keyType:t,typeName:xe.ZodMap,...Se(n)});class xs extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return me(r,{code:ce.invalid_type,expected:pe.set,received:r.parsedType}),be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(me(r,{code:ce.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(me(r,{code:ce.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const d=this._def.valueType;function y(i){const h=new Set;for(const p of i){if(p.status==="aborted")return be;p.status==="dirty"&&n.dirty(),h.add(p.value)}return{status:n.value,value:h}}const l=[...r.data.values()].map((i,h)=>d._parse(new Dn(r,i,r.path,h)));return r.common.async?Promise.all(l).then(i=>y(i)):y(l)}min(e,n){return new xs({...this._def,minSize:{value:e,message:we.toString(n)}})}max(e,n){return new xs({...this._def,maxSize:{value:e,message:we.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xs.create=(t,e)=>new xs({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet,...Se(e)});class ao extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.function)return me(n,{code:ce.invalid_type,expected:pe.function,received:n.parsedType}),be;function r(l,i){return zf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bf(),$l].filter(h=>!!h),issueData:{code:ce.invalid_arguments,argumentsError:i}})}function s(l,i){return zf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bf(),$l].filter(h=>!!h),issueData:{code:ce.invalid_return_type,returnTypeError:i}})}const d={errorMap:n.common.contextualErrorMap},y=n.data;if(this._def.returns instanceof Io){const l=this;return Dt(async function(...i){const h=new Pn([]),p=await l._def.args.parseAsync(i,d).catch(a=>{throw h.addIssue(r(i,a)),h}),o=await Reflect.apply(y,this,p);return await l._def.returns._def.type.parseAsync(o,d).catch(a=>{throw h.addIssue(s(o,a)),h})})}else{const l=this;return Dt(function(...i){const h=l._def.args.safeParse(i,d);if(!h.success)throw new Pn([r(i,h.error)]);const p=Reflect.apply(y,this,h.data),o=l._def.returns.safeParse(p,d);if(!o.success)throw new Pn([s(p,o.error)]);return o.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ao({...this._def,args:Kn.create(e).rest(Xi.create())})}returns(e){return new ao({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ao({args:e||Kn.create([]).rest(Xi.create()),returns:n||Xi.create(),typeName:xe.ZodFunction,...Se(r)})}}class Gl extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gl.create=(t,e)=>new Gl({getter:t,typeName:xe.ZodLazy,...Se(e)});class ql extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:ce.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}ql.create=(t,e)=>new ql({value:t,typeName:xe.ZodLiteral,...Se(e)});function w0(t,e){return new gi({values:t,typeName:xe.ZodEnum,...Se(e)})}class gi extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{expected:Re.joinValues(r),received:n.parsedType,code:ce.invalid_type}),be}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{received:n.data,code:ce.invalid_enum_value,options:r}),be}return Dt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return gi.create(e)}exclude(e){return gi.create(this.options.filter(n=>!e.includes(n)))}}gi.create=w0;class Kl extends Te{_parse(e){const n=Re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const s=Re.objectValues(n);return me(r,{expected:Re.joinValues(s),received:r.parsedType,code:ce.invalid_type}),be}if(n.indexOf(e.data)===-1){const s=Re.objectValues(n);return me(r,{received:r.data,code:ce.invalid_enum_value,options:s}),be}return Dt(e.data)}get enum(){return this._def.values}}Kl.create=(t,e)=>new Kl({values:t,typeName:xe.ZodNativeEnum,...Se(e)});class Io extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.promise&&n.common.async===!1)return me(n,{code:ce.invalid_type,expected:pe.promise,received:n.parsedType}),be;const r=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return Dt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Io.create=(t,e)=>new Io({type:t,typeName:xe.ZodPromise,...Se(e)});class Qn extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,d={addIssue:y=>{me(r,y),y.fatal?n.abort():n.dirty()},get path(){return r.path}};if(d.addIssue=d.addIssue.bind(d),s.type==="preprocess"){const y=s.transform(r.data,d);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(y).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:y,path:r.path,parent:r})}if(s.type==="refinement"){const y=l=>{const i=s.refinement(l,d);if(r.common.async)return Promise.resolve(i);if(i instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),y(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),y(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const y=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ul(y))return y;const l=s.transform(y.value,d);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(y=>Ul(y)?Promise.resolve(s.transform(y.value,d)).then(l=>({status:n.value,value:l})):y);Re.assertNever(s)}}Qn.create=(t,e,n)=>new Qn({schema:t,typeName:xe.ZodEffects,effect:e,...Se(n)});Qn.createWithPreprocess=(t,e,n)=>new Qn({schema:e,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects,...Se(n)});class Mr extends Te{_parse(e){return this._getType(e)===pe.undefined?Dt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:xe.ZodOptional,...Se(e)});class Cs extends Te{_parse(e){return this._getType(e)===pe.null?Dt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cs.create=(t,e)=>new Cs({innerType:t,typeName:xe.ZodNullable,...Se(e)});class Ql extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ql.create=(t,e)=>new Ql({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class Yf extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return $f(s)?s.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yf.create=(t,e)=>new Yf({innerType:t,typeName:xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Gf extends Te{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return me(r,{code:ce.invalid_type,expected:pe.nan,received:r.parsedType}),be}return{status:"valid",value:e.data}}}Gf.create=t=>new Gf({typeName:xe.ZodNaN,...Se(t)});class O1 extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Au extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?be:d.status==="dirty"?(n.dirty(),g1(d.value)):this._def.out._parseAsync({data:d.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Au({in:e,out:n,typeName:xe.ZodPipeline})}}class qf extends Te{_parse(e){const n=this._def.innerType._parse(e);return Ul(n)&&(n.value=Object.freeze(n.value)),n}}qf.create=(t,e)=>new qf({innerType:t,typeName:xe.ZodReadonly,...Se(e)});const k1=(t,e={},n)=>t?Lo.create().superRefine((r,s)=>{var d,y;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,i=(y=(d=l.fatal)!==null&&d!==void 0?d:n)!==null&&y!==void 0?y:!0,h=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...h,fatal:i})}}):Lo.create();Ye.lazycreate;var xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));const P1=(t,e={message:`Input not instance of ${t.name}`})=>k1(n=>n instanceof t,e),Kf=Vn.create;_s.create;Gf.create;ws.create;Uf.create;Fo.create;Vf.create;Vl.create;Wl.create;Lo.create;Xi.create;jr.create;Wf.create;An.create;const x0=Ye.create;Ye.strictCreate;Hl.create;fd.create;Xl.create;Kn.create;Yl.create;Xf.create;xs.create;ao.create;Gl.create;ql.create;gi.create;Kl.create;Io.create;Qn.create;Mr.create;Cs.create;Qn.createWithPreprocess;Au.create;const A1=x0({title:Kf().min(1),file:P1(File)}),D1=t=>{var s;const e=JS(),n=f0({mode:"onChange",resolver:y0(A1),defaultValues:{title:""}}),r=d=>{console.log(d),e.mutate(d,{onSuccess:()=>{t.onRequestClose()}})};return J.jsxs(p0,{...n,children:[e.isError?J.jsxs(Hy,{variant:"destructive",children:[J.jsx(l1,{className:"w-4 h-4"}),J.jsx(Xy,{children:"Error"}),J.jsx(Yy,{children:(s=e.error)==null?void 0:s.message})]}):null,J.jsxs("form",{onSubmit:n.handleSubmit(r),className:"space-y-8",children:[J.jsx(Bl,{control:n.control,name:"title",render:({field:d})=>J.jsxs(Ao,{children:[J.jsx(Do,{children:"Title"}),J.jsx(Ro,{children:J.jsx(zl,{type:"text",...d})}),J.jsx(Mo,{})]})}),J.jsx(Bl,{control:n.control,name:"file",render:({field:{onChange:d},...y})=>J.jsxs(Ao,{children:[J.jsx(Do,{children:"File"}),J.jsx(Ro,{children:J.jsx(zl,{type:"file",...y,onChange:l=>{var i;return d((i=l.target.files)==null?void 0:i[0])}})}),J.jsx(Mo,{})]})}),J.jsx(Ir,{type:"submit",disabled:e.isPending,children:e.status==="pending"?J.jsxs(J.Fragment,{children:[J.jsx(_0,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating"]}):J.jsx(J.Fragment,{children:"Create"})})]})]})},R1={page:t=>["page",t]},M1=(t,e)=>{const n=Ou();return jy({mutationKey:R1.page(e),mutationFn:async r=>(await Tu.put(`/publication/${t}/page/${e}`,r)).data,onSettled:()=>{n.invalidateQueries({queryKey:Po.publication(t)})}})};var Zl={};const F1={},L1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),vc=k_(L1);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=vc,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=r.document,e.jsdomImplForWrapper=vc.implForWrapper,e.nodeCanvas=vc.Canvas,e.window=r,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function l(a,c){if(this.__eventListeners[a]){var g=this.__eventListeners[a];c?g[g.indexOf(c)]=!1:e.util.array.fill(g,!1)}}function i(a,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function h(a,c){var g=(function(){c.apply(this,arguments),this.off(a,g)}).bind(this);this.on(a,g)}function p(a,c){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,c);return this}function o(a,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)l.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)l.call(this,g,a[g]);else l.call(this,a,c);return this}function u(a,c){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var f=0,m=g.length;f<m;f++)g[f]&&g[f].call(this,c||{});return this.__eventListeners[a]=g.filter(function(v){return v!==!1}),this}e.Observable={fire:u,on:i,once:p,off:o}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var l=0,i=arguments.length;l<i;l++)this._onObjectAdded(arguments[l]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(l,i,h){var p=this._objects;return h?p[i]=l:p.splice(i,0,l),this._onObjectAdded&&this._onObjectAdded(l),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var l=this._objects,i,h=!1,p=0,o=arguments.length;p<o;p++)i=l.indexOf(arguments[p]),i!==-1&&(h=!0,l.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[p]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(l,i){for(var h=this.getObjects(),p=0,o=h.length;p<o;p++)l.call(i,h[p],p,h);return this},getObjects:function(l){return typeof l>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===l})},item:function(l){return this._objects[l]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(l,i){return this._objects.indexOf(l)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(l,!0)}):!1},complexity:function(){return this._objects.reduce(function(l,i){return l+=i.complexity?i.complexity():0,l},0)}},e.CommonMethods={_setOptions:function(l){for(var i in l)this.set(i,l[i])},_initGradient:function(l,i){l&&l.colorStops&&!(l instanceof e.Gradient)&&this.set(i,new e.Gradient(l))},_initPattern:function(l,i,h){l&&l.source&&!(l instanceof e.Pattern)?this.set(i,new e.Pattern(l,h)):h&&h()},_setObject:function(l){for(var i in l)this._set(i,l[i])},set:function(l,i){return typeof l=="object"?this._setObject(l):this._set(l,i),this},_set:function(l,i){this[l]=i},toggle:function(l){var i=this.get(l);return typeof i=="boolean"&&this.set(l,!i),this},get:function(l){return this[l]}},function(l){var i=Math.sqrt,h=Math.atan2,p=Math.pow,o=Math.PI/180,u=Math.PI/2;e.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var c=a/u;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var c=a/u,g=1;switch(a<0&&(g=-1),c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,c){var g=a.indexOf(c);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,c){return Math.floor(Math.random()*(c-a+1))+a},degreesToRadians:function(a){return a*o},radiansToDegrees:function(a){return a/o},rotatePoint:function(a,c,g){var f=new e.Point(a.x-c.x,a.y-c.y),m=e.util.rotateVector(f,g);return new e.Point(m.x,m.y).addEquals(c)},rotateVector:function(a,c){var g=e.util.sin(c),f=e.util.cos(c),m=a.x*f-a.y*g,v=a.x*g+a.y*f;return{x:m,y:v}},createVector:function(a,c){return new e.Point(c.x-a.x,c.y-a.y)},calcAngleBetweenVectors:function(a,c){return Math.acos((a.x*c.x+a.y*c.y)/(Math.hypot(a.x,a.y)*Math.hypot(c.x,c.y)))},getHatVector:function(a){return new e.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,c,g){var f=e.util.createVector(a,c),m=e.util.createVector(a,g),v=e.util.calcAngleBetweenVectors(f,m),_=e.util.calcAngleBetweenVectors(e.util.rotateVector(f,v),m),w=v*(_===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(f,w)),angle:v}},projectStrokeOnPoints:function(a,c,g){var f=[],m=c.strokeWidth/2,v=c.strokeUniform?new e.Point(1/c.scaleX,1/c.scaleY):new e.Point(1,1),_=function(w){var x=m/Math.hypot(w.x,w.y);return new e.Point(w.x*x*v.x,w.y*x*v.y)};return a.length<=1||a.forEach(function(w,x){var C=new e.Point(w.x,w.y),S,T;x===0?(T=a[x+1],S=g?_(e.util.createVector(T,C)).addEquals(C):a[a.length-1]):x===a.length-1?(S=a[x-1],T=g?_(e.util.createVector(S,C)).addEquals(C):a[0]):(S=a[x-1],T=a[x+1]);var I=e.util.getBisector(C,S,T),z=I.vector,q=I.angle,V,Q;if(c.strokeLineJoin==="miter"&&(V=-m/Math.sin(q/2),Q=new e.Point(z.x*V*v.x,z.y*V*v.y),Math.hypot(Q.x,Q.y)/m<=c.strokeMiterLimit)){f.push(C.add(Q)),f.push(C.subtract(Q));return}V=-m*Math.SQRT2,Q=new e.Point(z.x*V*v.x,z.y*V*v.y),f.push(C.add(Q)),f.push(C.subtract(Q))}),f},transformPoint:function(a,c,g){return g?new e.Point(c[0]*a.x+c[2]*a.y,c[1]*a.x+c[3]*a.y):new e.Point(c[0]*a.x+c[2]*a.y+c[4],c[1]*a.x+c[3]*a.y+c[5])},makeBoundingBoxFromPoints:function(a,c){if(c)for(var g=0;g<a.length;g++)a[g]=e.util.transformPoint(a[g],c);var f=[a[0].x,a[1].x,a[2].x,a[3].x],m=e.util.array.min(f),v=e.util.array.max(f),_=v-m,w=[a[0].y,a[1].y,a[2].y,a[3].y],x=e.util.array.min(w),C=e.util.array.max(w),S=C-x;return{left:m,top:x,width:_,height:S}},invertTransform:function(a){var c=1/(a[0]*a[3]-a[1]*a[2]),g=[c*a[3],-c*a[1],-c*a[2],c*a[0]],f=e.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-f.x,g[5]=-f.y,g},toFixed:function(a,c){return parseFloat(Number(a).toFixed(c))},parseUnit:function(a,c){var g=/\D{0,2}$/.exec(a),f=parseFloat(a);switch(c||(c=e.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return f*e.DPI/25.4;case"cm":return f*e.DPI/2.54;case"in":return f*e.DPI;case"pt":return f*e.DPI/72;case"pc":return f*e.DPI/72*12;case"em":return f*c;default:return f}},falseFunction:function(){return!1},getKlass:function(a,c){return a=e.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),e.util.resolveNamespace(c)[a]},getSvgAttributes:function(a){var c=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(a){if(!a)return e;var c=a.split("."),g=c.length,f,m=l||e.window;for(f=0;f<g;++f)m=m[c[f]];return m},loadImage:function(a,c,g,f){if(!a){c&&c.call(g,a);return}var m=e.util.createImage(),v=function(){c&&c.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=v,m.onerror=function(){e.log("Error loading "+m.src),c&&c.call(g,null,!0),m=m.onload=m.onerror=null},a.indexOf("data")!==0&&f!==void 0&&f!==null&&(m.crossOrigin=f),a.substring(0,14)==="data:image/svg"&&(m.onload=null,e.util.loadImageInDom(m,v)),m.src=a},loadImageInDom:function(a,c){var g=e.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),e.document.querySelector("body").appendChild(g),a.onload=function(){c(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,c,g,f){a=a||[];var m=[],v=0,_=a.length;function w(){++v===_&&c&&c(m.filter(function(x){return x}))}if(!_){c&&c(m);return}a.forEach(function(x,C){if(!x||!x.type){w();return}var S=e.util.getKlass(x.type,g);S.fromObject(x,function(T,I){I||(m[C]=T),f&&f(x,T,I),w()})})},enlivenObjectEnlivables:function(a,c,g){var f=e.Object.ENLIVEN_PROPS.filter(function(m){return!!a[m]});e.util.enlivenObjects(f.map(function(m){return a[m]}),function(m){var v={};f.forEach(function(_,w){v[_]=m[w],c&&(c[_]=m[w])}),g&&g(v)})},enlivenPatterns:function(a,c){a=a||[];function g(){++m===v&&c&&c(f)}var f=[],m=0,v=a.length;if(!v){c&&c(f);return}a.forEach(function(_,w){_&&_.source?new e.Pattern(_,function(x){f[w]=x,g()}):(f[w]=_,g())})},groupSVGElements:function(a,c,g){var f;return a&&a.length===1?(typeof g<"u"&&(a[0].sourcePath=g),a[0]):(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),f=new e.Group(a,c),typeof g<"u"&&(f.sourcePath=g),f)},populateWithProperties:function(a,c,g){if(g&&Array.isArray(g))for(var f=0,m=g.length;f<m;f++)g[f]in a&&(c[g[f]]=a[g[f]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(a){var c=e.util.createCanvasElement();return c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0),c},toDataURL:function(a,c,g){return a.toDataURL("image/"+c,g)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(a,c,g){return[a[0]*c[0]+a[2]*c[1],a[1]*c[0]+a[3]*c[1],a[0]*c[2]+a[2]*c[3],a[1]*c[2]+a[3]*c[3],g?0:a[0]*c[4]+a[2]*c[5]+a[4],g?0:a[1]*c[4]+a[3]*c[5]+a[5]]},qrDecompose:function(a){var c=h(a[1],a[0]),g=p(a[0],2)+p(a[1],2),f=i(g),m=(a[0]*a[3]-a[2]*a[1])/f,v=h(a[0]*a[2]+a[1]*a[3],g);return{angle:c/o,scaleX:f,scaleY:m,skewX:v/o,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return e.iMatrix.concat();var c=e.util.degreesToRadians(a.angle),g=e.util.cos(c),f=e.util.sin(c);return[g,f,-f,g,0,0]},calcDimensionsMatrix:function(a){var c=typeof a.scaleX>"u"?1:a.scaleX,g=typeof a.scaleY>"u"?1:a.scaleY,f=[a.flipX?-c:c,0,0,a.flipY?-g:g,0,0],m=e.util.multiplyTransformMatrices,v=e.util.degreesToRadians;return a.skewX&&(f=m(f,[1,0,Math.tan(v(a.skewX)),1],!0)),a.skewY&&(f=m(f,[1,Math.tan(v(a.skewY)),0,1],!0)),f},composeMatrix:function(a){var c=[1,0,0,1,a.translateX||0,a.translateY||0],g=e.util.multiplyTransformMatrices;return a.angle&&(c=g(c,e.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(c=g(c,e.util.calcDimensionsMatrix(a))),c},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,c,g,f){f>0&&(c>f?c-=f:c=0,g>f?g-=f:g=0);var m=!0,v,_,w=a.getImageData(c,g,f*2||1,f*2||1),x=w.data.length;for(v=3;v<x&&(_=w.data[v],m=_<=0,m!==!1);v+=4);return w=null,m},parsePreserveAspectRatioAttribute:function(a){var c="meet",g="Mid",f="Mid",m=a.split(" "),v;return m&&m.length&&(c=m.pop(),c!=="meet"&&c!=="slice"?(v=c,c="meet"):m.length&&(v=m.pop())),g=v!=="none"?v.slice(1,4):"none",f=v!=="none"?v.slice(5,8):"none",{meetOrSlice:c,alignX:g,alignY:f}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?e.charWidthsCache[a]&&delete e.charWidthsCache[a]:e.charWidthsCache={}},limitDimsByArea:function(a,c){var g=Math.sqrt(c*a),f=Math.floor(c/g);return{x:Math.floor(g),y:f}},capValue:function(a,c,g){return Math.max(a,Math.min(c,g))},findScaleToFit:function(a,c){return Math.min(c.width/a.width,c.height/a.height)},findScaleToCover:function(a,c){return Math.max(c.width/a.width,c.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(c){return e.util.toFixed(c,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,c){var g=e.util.invertTransform(c),f=e.util.multiplyTransformMatrices(g,a.calcOwnMatrix());e.util.applyTransformToObject(a,f)},addTransformToObject:function(a,c){e.util.applyTransformToObject(a,e.util.multiplyTransformMatrices(c,a.calcOwnMatrix()))},applyTransformToObject:function(a,c){var g=e.util.qrDecompose(c),f=new e.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(a,c,g){var f=a/2,m=c/2,v=[{x:-f,y:-m},{x:f,y:-m},{x:-f,y:m},{x:f,y:m}],_=e.util.calcDimensionsMatrix(g),w=e.util.makeBoundingBoxFromPoints(v,_);return{x:w.width,y:w.height}},mergeClipPaths:function(a,c){var g=a,f=c;g.inverted&&!f.inverted&&(g=c,f=a),e.util.applyTransformToObject(f,e.util.multiplyTransformMatrices(e.util.invertTransform(g.calcTransformMatrix()),f.calcTransformMatrix()));var m=g.inverted&&f.inverted;return m&&(g.inverted=f.inverted=!1),new e.Group([g],{clipPath:f,inverted:m})},hasStyleChanged:function(a,c,g){return g=g||!1,a.fill!==c.fill||a.stroke!==c.stroke||a.strokeWidth!==c.strokeWidth||a.fontSize!==c.fontSize||a.fontFamily!==c.fontFamily||a.fontWeight!==c.fontWeight||a.fontStyle!==c.fontStyle||a.textBackgroundColor!==c.textBackgroundColor||a.deltaY!==c.deltaY||g&&(a.overline!==c.overline||a.underline!==c.underline||a.linethrough!==c.linethrough)},stylesToArray:function(g,c){for(var g=e.util.object.clone(g,!0),f=c.split(`
`),m=-1,v={},_=[],w=0;w<f.length;w++){if(!g[w]){m+=f[w].length;continue}for(var x=0;x<f[w].length;x++){m++;var C=g[w][x];if(C&&Object.keys(C).length>0){var S=e.util.hasStyleChanged(v,C,!0);S?_.push({start:m,end:m+1,style:C}):_[_.length-1].end++}v=C||{}}}return _},stylesFromArray:function(a,c){if(!Array.isArray(a))return a;for(var g=c.split(`
`),f=-1,m=0,v={},_=0;_<g.length;_++)for(var w=0;w<g[_].length;w++)f++,a[m]&&a[m].start<=f&&f<a[m].end&&(v[_]=v[_]||{},v[_][w]=Object.assign({},a[m].style),f===a[m].end-1&&m++);return v}}}(t),function(){var l=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function p(b,P,A,R,U,D,O,j,B,K,H){var re=e.util.cos(b),ae=e.util.sin(b),fe=e.util.cos(P),Y=e.util.sin(P),$=A*U*fe-R*D*Y+O,Z=R*U*fe+A*D*Y+j,te=K+B*(-A*U*ae-R*D*re),E=H+B*(-R*U*ae+A*D*re),M=$+B*(A*U*Y+R*D*fe),N=Z+B*(R*U*Y-A*D*fe);return["C",te,E,M,N,$,Z]}function o(b,P,A,R,U,D,O){var j=Math.PI,B=O*j/180,K=e.util.sin(B),H=e.util.cos(B),re=0,ae=0;A=Math.abs(A),R=Math.abs(R);var fe=-H*b*.5-K*P*.5,Y=-H*P*.5+K*b*.5,$=A*A,Z=R*R,te=Y*Y,E=fe*fe,M=$*Z-$*te-Z*E,N=0;if(M<0){var oe=Math.sqrt(1-M/($*Z));A*=oe,R*=oe}else N=(U===D?-1:1)*Math.sqrt(M/($*te+Z*E));var G=N*A*Y/R,L=-N*R*fe/A,se=H*G-K*L+b*.5,ve=K*G+H*L+P*.5,_e=u(1,0,(fe-G)/A,(Y-L)/R),Ae=u((fe-G)/A,(Y-L)/R,(-fe-G)/A,(-Y-L)/R);D===0&&Ae>0?Ae-=2*j:D===1&&Ae<0&&(Ae+=2*j);for(var De=Math.ceil(Math.abs(Ae/j*2)),Je=[],Ue=Ae/De,Ln=8/3*Math.sin(Ue/4)*Math.sin(Ue/4)/Math.sin(Ue/2),rr=_e+Ue,$t=0;$t<De;$t++)Je[$t]=p(_e,rr,H,K,A,R,se,ve,Ln,re,ae),re=Je[$t][5],ae=Je[$t][6],_e=rr,rr+=Ue;return Je}function u(b,P,A,R){var U=Math.atan2(P,b),D=Math.atan2(R,A);return D>=U?D-U:2*Math.PI-(U-D)}function a(b,P,A,R,U,D,O,j){var B;if(e.cachesBoundsOfCurve&&(B=l.call(arguments),e.boundsOfCurveCache[B]))return e.boundsOfCurveCache[B];var K=Math.sqrt,H=Math.min,re=Math.max,ae=Math.abs,fe=[],Y=[[],[]],$,Z,te,E,M,N,oe,G;Z=6*b-12*A+6*U,$=-3*b+9*A-9*U+3*O,te=3*A-3*b;for(var L=0;L<2;++L){if(L>0&&(Z=6*P-12*R+6*D,$=-3*P+9*R-9*D+3*j,te=3*R-3*P),ae($)<1e-12){if(ae(Z)<1e-12)continue;E=-te/Z,0<E&&E<1&&fe.push(E);continue}oe=Z*Z-4*te*$,!(oe<0)&&(G=K(oe),M=(-Z+G)/(2*$),0<M&&M<1&&fe.push(M),N=(-Z-G)/(2*$),0<N&&N<1&&fe.push(N))}for(var se,ve,_e=fe.length,Ae=_e,De;_e--;)E=fe[_e],De=1-E,se=De*De*De*b+3*De*De*E*A+3*De*E*E*U+E*E*E*O,Y[0][_e]=se,ve=De*De*De*P+3*De*De*E*R+3*De*E*E*D+E*E*E*j,Y[1][_e]=ve;Y[0][Ae]=b,Y[1][Ae]=P,Y[0][Ae+1]=O,Y[1][Ae+1]=j;var Je=[{x:H.apply(null,Y[0]),y:H.apply(null,Y[1])},{x:re.apply(null,Y[0]),y:re.apply(null,Y[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[B]=Je),Je}function c(b,P,A){for(var R=A[1],U=A[2],D=A[3],O=A[4],j=A[5],B=A[6],K=A[7],H=o(B-b,K-P,R,U,O,j,D),re=0,ae=H.length;re<ae;re++)H[re][1]+=b,H[re][2]+=P,H[re][3]+=b,H[re][4]+=P,H[re][5]+=b,H[re][6]+=P;return H}function g(b){var P=0,A=0,R=b.length,U=0,D=0,O,j,B,K=[],H,re,ae;for(j=0;j<R;++j){switch(B=!1,O=b[j].slice(0),O[0]){case"l":O[0]="L",O[1]+=P,O[2]+=A;case"L":P=O[1],A=O[2];break;case"h":O[1]+=P;case"H":O[0]="L",O[2]=A,P=O[1];break;case"v":O[1]+=A;case"V":O[0]="L",A=O[1],O[1]=P,O[2]=A;break;case"m":O[0]="M",O[1]+=P,O[2]+=A;case"M":P=O[1],A=O[2],U=O[1],D=O[2];break;case"c":O[0]="C",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A,O[5]+=P,O[6]+=A;case"C":re=O[3],ae=O[4],P=O[5],A=O[6];break;case"s":O[0]="S",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A;case"S":H==="C"?(re=2*P-re,ae=2*A-ae):(re=P,ae=A),P=O[3],A=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=re,O[2]=ae,re=O[3],ae=O[4];break;case"q":O[0]="Q",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A;case"Q":re=O[1],ae=O[2],P=O[3],A=O[4];break;case"t":O[0]="T",O[1]+=P,O[2]+=A;case"T":H==="Q"?(re=2*P-re,ae=2*A-ae):(re=P,ae=A),O[0]="Q",P=O[1],A=O[2],O[1]=re,O[2]=ae,O[3]=P,O[4]=A;break;case"a":O[0]="A",O[6]+=P,O[7]+=A;case"A":B=!0,K=K.concat(c(P,A,O)),P=O[6],A=O[7];break;case"z":case"Z":P=U,A=D;break}B||K.push(O),H=O[0]}return K}function f(b,P,A,R){return Math.sqrt((A-b)*(A-b)+(R-P)*(R-P))}function m(b){return b*b*b}function v(b){return 3*b*b*(1-b)}function _(b){return 3*b*(1-b)*(1-b)}function w(b){return(1-b)*(1-b)*(1-b)}function x(b,P,A,R,U,D,O,j){return function(B){var K=m(B),H=v(B),re=_(B),ae=w(B);return{x:O*K+U*H+A*re+b*ae,y:j*K+D*H+R*re+P*ae}}}function C(b,P,A,R,U,D,O,j){return function(B){var K=1-B,H=3*K*K*(A-b)+6*K*B*(U-A)+3*B*B*(O-U),re=3*K*K*(R-P)+6*K*B*(D-R)+3*B*B*(j-D);return Math.atan2(re,H)}}function S(b){return b*b}function T(b){return 2*b*(1-b)}function I(b){return(1-b)*(1-b)}function z(b,P,A,R,U,D){return function(O){var j=S(O),B=T(O),K=I(O);return{x:U*j+A*B+b*K,y:D*j+R*B+P*K}}}function q(b,P,A,R,U,D){return function(O){var j=1-O,B=2*j*(A-b)+2*O*(U-A),K=2*j*(R-P)+2*O*(D-R);return Math.atan2(K,B)}}function V(b,P,A){var R={x:P,y:A},U,D=0,O;for(O=1;O<=100;O+=1)U=b(O/100),D+=f(R.x,R.y,U.x,U.y),R=U;return D}function Q(b,P){for(var A=0,R=0,U=b.iterator,D={x:b.x,y:b.y},O,j,B=.01,K=b.angleFinder,H;R<P&&B>1e-4;)O=U(A),H=A,j=f(D.x,D.y,O.x,O.y),j+R>P?(A-=B,B/=2):(D=O,A+=B,R+=j);return O.angle=K(H),O}function X(b){for(var P=0,A=b.length,R,U=0,D=0,O=0,j=0,B=[],K,H,re,ae=0;ae<A;ae++){switch(R=b[ae],H={x:U,y:D,command:R[0]},R[0]){case"M":H.length=0,O=U=R[1],j=D=R[2];break;case"L":H.length=f(U,D,R[1],R[2]),U=R[1],D=R[2];break;case"C":K=x(U,D,R[1],R[2],R[3],R[4],R[5],R[6]),re=C(U,D,R[1],R[2],R[3],R[4],R[5],R[6]),H.iterator=K,H.angleFinder=re,H.length=V(K,U,D),U=R[5],D=R[6];break;case"Q":K=z(U,D,R[1],R[2],R[3],R[4]),re=q(U,D,R[1],R[2],R[3],R[4]),H.iterator=K,H.angleFinder=re,H.length=V(K,U,D),U=R[3],D=R[4];break;case"Z":case"z":H.destX=O,H.destY=j,H.length=f(U,D,O,j),U=O,D=j;break}P+=H.length,B.push(H)}return B.push({length:P,x:U,y:D}),B}function ee(b,P,A){A||(A=X(b));for(var R=0;P-A[R].length>0&&R<A.length-2;)P-=A[R].length,R++;var U=A[R],D=P/U.length,O=U.command,j=b[R],B;switch(O){case"M":return{x:U.x,y:U.y,angle:0};case"Z":case"z":return B=new e.Point(U.x,U.y).lerp(new e.Point(U.destX,U.destY),D),B.angle=Math.atan2(U.destY-U.y,U.destX-U.x),B;case"L":return B=new e.Point(U.x,U.y).lerp(new e.Point(j[1],j[2]),D),B.angle=Math.atan2(j[2]-U.y,j[1]-U.x),B;case"C":return Q(U,P);case"Q":return Q(U,P)}}function ne(b){var P=[],A=[],R,U,D=e.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",j="("+O+")"+e.commaWsp,B="([01])"+e.commaWsp+"?",K=j+"?"+j+"?"+j+B+B+j+"?("+O+")",H=new RegExp(K,"g"),re,ae,fe;if(!b||!b.match)return P;fe=b.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Y=0,$,Z=fe.length;Y<Z;Y++){R=fe[Y],ae=R.slice(1).trim(),A.length=0;var te=R.charAt(0);if($=[te],te.toLowerCase()==="a")for(var E;E=H.exec(ae);)for(var M=1;M<E.length;M++)A.push(E[M]);else for(;re=D.exec(ae);)A.push(re[0]);for(var M=0,N=A.length;M<N;M++)U=parseFloat(A[M]),isNaN(U)||$.push(U);var oe=i[te.toLowerCase()],G=h[te]||te;if($.length-1>oe)for(var L=1,se=$.length;L<se;L+=oe)P.push([te].concat($.slice(L,L+oe))),te=G;else P.push($)}return P}function ue(b,P){var A=[],R,U=new e.Point(b[0].x,b[0].y),D=new e.Point(b[1].x,b[1].y),O=b.length,j=1,B=0,K=O>2;for(P=P||0,K&&(j=b[2].x<D.x?-1:b[2].x===D.x?0:1,B=b[2].y<D.y?-1:b[2].y===D.y?0:1),A.push(["M",U.x-j*P,U.y-B*P]),R=1;R<O;R++){if(!U.eq(D)){var H=U.midPointFrom(D);A.push(["Q",U.x,U.y,H.x,H.y])}U=b[R],R+1<b.length&&(D=b[R+1])}return K&&(j=U.x>b[R-2].x?1:U.x===b[R-2].x?0:-1,B=U.y>b[R-2].y?1:U.y===b[R-2].y?0:-1),A.push(["L",U.x+j*P,U.y+B*P]),A}function W(b,P,A){return A&&(P=e.util.multiplyTransformMatrices(P,[1,0,0,1,-A.x,-A.y])),b.map(function(R){for(var U=R.slice(0),D={},O=1;O<R.length-1;O+=2)D.x=R[O],D.y=R[O+1],D=e.util.transformPoint(D,P),U[O]=D.x,U[O+1]=D.y;return U})}e.util.joinPath=function(b){return b.map(function(P){return P.join(" ")}).join(" ")},e.util.parsePath=ne,e.util.makePathSimpler=g,e.util.getSmoothPathFromPoints=ue,e.util.getPathSegmentsInfo=X,e.util.getBoundsOfCurve=a,e.util.getPointOnPath=ee,e.util.transformPath=W}(),function(){var l=Array.prototype.slice;function i(a,c){for(var g=l.call(arguments,2),f=[],m=0,v=a.length;m<v;m++)f[m]=g.length?a[m][c].apply(a[m],g):a[m][c].call(a[m]);return f}function h(a,c){return u(a,c,function(g,f){return g>=f})}function p(a,c){return u(a,c,function(g,f){return g<f})}function o(a,c){for(var g=a.length;g--;)a[g]=c;return a}function u(a,c,g){if(!(!a||a.length===0)){var f=a.length-1,m=c?a[f][c]:a[f];if(c)for(;f--;)g(a[f][c],m)&&(m=a[f][c]);else for(;f--;)g(a[f],m)&&(m=a[f]);return m}}e.util.array={fill:o,invoke:i,min:p,max:h}}(),function(){function l(h,p,o){if(o)if(!e.isLikelyNode&&p instanceof Element)h=p;else if(p instanceof Array){h=[];for(var u=0,a=p.length;u<a;u++)h[u]=l({},p[u],o)}else if(p&&typeof p=="object")for(var c in p)c==="canvas"||c==="group"?h[c]=null:p.hasOwnProperty(c)&&(h[c]=l({},p[c],o));else h=p;else for(var c in p)h[c]=p[c];return h}function i(h,p){return l({},h,p)}e.util.object={extend:l,clone:i},e.util.object.extend(e.util,e.Observable)}(),function(){function l(u){return u.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})}function i(u,a){return u.charAt(0).toUpperCase()+(a?u.slice(1):u.slice(1).toLowerCase())}function h(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(u){var a=0,c,g=[];for(a=0,c;a<u.length;a++)(c=o(u,a))!==!1&&g.push(c);return g}function o(u,a){var c=u.charCodeAt(a);if(isNaN(c))return"";if(c<55296||c>57343)return u.charAt(a);if(55296<=c&&c<=56319){if(u.length<=a+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(a)+u.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var f=u.charCodeAt(a-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:l,capitalize:i,escapeXml:h,graphemeSplit:p}}(),function(){var l=Array.prototype.slice,i=function(){},h=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),p=function(c,g,f){for(var m in g)m in c.prototype&&typeof c.prototype[m]=="function"&&(g[m]+"").indexOf("callSuper")>-1?c.prototype[m]=function(v){return function(){var _=this.constructor.superclass;this.constructor.superclass=f;var w=g[v].apply(this,arguments);if(this.constructor.superclass=_,v!=="initialize")return w}}(m):c.prototype[m]=g[m],h&&(g.toString!==Object.prototype.toString&&(c.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=g.valueOf))};function o(){}function u(c){for(var g=null,f=this;f.constructor.superclass;){var m=f.constructor.superclass.prototype[c];if(f[c]!==m){g=m;break}f=f.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,l.call(arguments,1)):g.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function a(){var c=null,g=l.call(arguments,0);typeof g[0]=="function"&&(c=g.shift());function f(){this.initialize.apply(this,arguments)}f.superclass=c,f.subclasses=[],c&&(o.prototype=c.prototype,f.prototype=new o,c.subclasses.push(f));for(var m=0,v=g.length;m<v;m++)p(f,g[m],c);return f.prototype.initialize||(f.prototype.initialize=i),f.prototype.constructor=f,f.prototype.callSuper=u,f}e.util.createClass=a}(),function(){var l=!!e.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];e.util.addListener=function(p,o,u,a){p&&p.addEventListener(o,u,l?!1:a)},e.util.removeListener=function(p,o,u,a){p&&p.removeEventListener(o,u,l?!1:a)};function h(p){var o=p.changedTouches;return o&&o[0]?o[0]:p}e.util.getPointer=function(p){var o=p.target,u=e.util.getScrollLeftTop(o),a=h(p);return{x:a.clientX+u.left,y:a.clientY+u.top}},e.util.isTouchEvent=function(p){return i.indexOf(p.type)>-1||p.pointerType==="touch"}}(),function(){function l(a,c){var g=a.style;if(!g)return a;if(typeof c=="string")return a.style.cssText+=";"+c,c.indexOf("opacity")>-1?u(a,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var f in c)if(f==="opacity")u(a,c[f]);else{var m=f==="float"||f==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":f;g.setProperty(m,c[f])}return a}var i=e.document.createElement("div"),h=typeof i.style.opacity=="string",p=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(a){return a};h?u=function(a,c){return a.style.opacity=c,a}:p&&(u=function(a,c){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),o.test(g.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",g.filter=g.filter.replace(o,c)):g.filter+=" alpha(opacity="+c*100+")",a}),e.util.setStyle=l}(),function(){var l=Array.prototype.slice;function i(w){return typeof w=="string"?e.document.getElementById(w):w}var h,p=function(w){return l.call(w,0)};try{h=p(e.document.childNodes)instanceof Array}catch{}h||(p=function(w){for(var x=new Array(w.length),C=w.length;C--;)x[C]=w[C];return x});function o(w,x){var C=e.document.createElement(w);for(var S in x)S==="class"?C.className=x[S]:S==="for"?C.htmlFor=x[S]:C.setAttribute(S,x[S]);return C}function u(w,x){w&&(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=(w.className?" ":"")+x)}function a(w,x,C){return typeof x=="string"&&(x=o(x,C)),w.parentNode&&w.parentNode.replaceChild(x,w),x.appendChild(w),x}function c(w){for(var x=0,C=0,S=e.document.documentElement,T=e.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===e.document?(x=T.scrollLeft||S.scrollLeft||0,C=T.scrollTop||S.scrollTop||0):(x+=w.scrollLeft||0,C+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:x,top:C}}function g(w){var x,C=w&&w.ownerDocument,S={left:0,top:0},T={left:0,top:0},I,z={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return T;for(var q in z)T[z[q]]+=parseInt(f(w,q),10)||0;return x=C.documentElement,typeof w.getBoundingClientRect<"u"&&(S=w.getBoundingClientRect()),I=c(w),{left:S.left+I.left-(x.clientLeft||0)+T.left,top:S.top+I.top-(x.clientTop||0)+T.top}}var f;e.document.defaultView&&e.document.defaultView.getComputedStyle?f=function(w,x){var C=e.document.defaultView.getComputedStyle(w,null);return C?C[x]:void 0}:f=function(w,x){var C=w.style[x];return!C&&w.currentStyle&&(C=w.currentStyle[x]),C},function(){var w=e.document.documentElement.style,x="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function C(T){return typeof T.onselectstart<"u"&&(T.onselectstart=e.util.falseFunction),x?T.style[x]="none":typeof T.unselectable=="string"&&(T.unselectable="on"),T}function S(T){return typeof T.onselectstart<"u"&&(T.onselectstart=null),x?T.style[x]="":typeof T.unselectable=="string"&&(T.unselectable=""),T}e.util.makeElementUnselectable=C,e.util.makeElementSelectable=S}();function m(w){var x=e.jsdomImplForWrapper(w);return x._canvas||x._image}function v(w){if(e.isLikelyNode){var x=e.jsdomImplForWrapper(w);x&&(x._image=null,x._canvas=null,x._currentSrc=null,x._attributes=null,x._classList=null)}}function _(w,x){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=x}e.util.setImageSmoothing=_,e.util.getById=i,e.util.toArray=p,e.util.addClass=u,e.util.makeElement=o,e.util.wrapElement=a,e.util.getScrollLeftTop=c,e.util.getElementOffset=g,e.util.getNodeCanvas=m,e.util.cleanUpJsdomNode=v}(),function(){function l(p,o){return p+(/\?/.test(p)?"&":"?")+o}function i(){}function h(p,o){o||(o={});var u=o.method?o.method.toUpperCase():"GET",a=o.onComplete||function(){},c=new e.window.XMLHttpRequest,g=o.body||o.parameters;return c.onreadystatechange=function(){c.readyState===4&&(a(c),c.onreadystatechange=i)},u==="GET"&&(g=null,typeof o.parameters=="string"&&(p=l(p,o.parameters))),c.open(u,p,!0),(u==="POST"||u==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(g),c}e.util.request=h}(),e.log=console.log,e.warn=console.warn,function(){var l=e.util.object.extend,i=e.util.object.clone,h=[];e.util.object.extend(h,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(v){v.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var v=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===m});return v.forEach(function(_){_.cancel()}),v},cancelByTarget:function(m){var v=this.findAnimationsByTarget(m);return v.forEach(function(_){_.cancel()}),v},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(v){return v.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(v){return v.target===m}):[]}});function p(){return!1}function o(m,v,_,w){return-_*Math.cos(m/w*(Math.PI/2))+_+v}function u(m){m||(m={});var v=!1,_,w=function(){var x=e.runningAnimations.indexOf(_);return x>-1&&e.runningAnimations.splice(x,1)[0]};return _=l(i(m),{cancel:function(){return v=!0,w()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(_),g(function(x){var C=x||+new Date,S=m.duration||500,T=C+S,I,z=m.onChange||p,q=m.abort||p,V=m.onComplete||p,Q=m.easing||o,X="startValue"in m?m.startValue.length>0:!1,ee="startValue"in m?m.startValue:0,ne="endValue"in m?m.endValue:100,ue=m.byValue||(X?ee.map(function(W,b){return ne[b]-ee[b]}):ne-ee);m.onStart&&m.onStart(),function W(b){I=b||+new Date;var P=I>T?S:I-C,A=P/S,R=X?ee.map(function(D,O){return Q(P,ee[O],ue[O],S)}):Q(P,ee,ue,S),U=Math.abs(X?(R[0]-ee[0])/ue[0]:(R-ee)/ue);if(_.currentValue=X?R.slice():R,_.completionRate=U,_.durationRate=A,!v){if(q(R,U,A)){w();return}if(I>T){_.currentValue=X?ne.slice():ne,_.completionRate=1,_.durationRate=1,z(X?ne.slice():ne,1,1),V(ne,1,1),w();return}else z(R,U,A),g(W)}}(C)}),_.cancel}var a=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(m){return e.window.setTimeout(m,1e3/60)},c=e.window.cancelAnimationFrame||e.window.clearTimeout;function g(){return a.apply(e.window,arguments)}function f(){return c.apply(e.window,arguments)}e.util.animate=u,e.util.requestAnimFrame=g,e.util.cancelAnimFrame=f,e.runningAnimations=h}(),function(){function l(h,p,o){var u="rgba("+parseInt(h[0]+o*(p[0]-h[0]),10)+","+parseInt(h[1]+o*(p[1]-h[1]),10)+","+parseInt(h[2]+o*(p[2]-h[2]),10);return u+=","+(h&&p?parseFloat(h[3]+o*(p[3]-h[3])):1),u+=")",u}function i(h,p,o,u){var a=new e.Color(h).getSource(),c=new e.Color(p).getSource(),g=u.onComplete,f=u.onChange;return u=u||{},e.util.animate(e.util.object.extend(u,{duration:o||500,startValue:a,endValue:c,byValue:c,easing:function(m,v,_,w){var x=u.colorEasing?u.colorEasing(m,w):1-Math.cos(m/w*(Math.PI/2));return l(v,_,x)},onComplete:function(m,v,_){if(g)return g(l(c,c,0),v,_)},onChange:function(m,v,_){if(f){if(Array.isArray(m))return f(l(m,m,0),v,_);f(m,v,_)}}}))}e.util.animateColor=i}(),function(){function l(b,P,A,R){return b<Math.abs(P)?(b=P,R=A/4):P===0&&b===0?R=A/(2*Math.PI)*Math.asin(1):R=A/(2*Math.PI)*Math.asin(P/b),{a:b,c:P,p:A,s:R}}function i(b,P,A){return b.a*Math.pow(2,10*(P-=1))*Math.sin((P*A-b.s)*(2*Math.PI)/b.p)}function h(b,P,A,R){return A*((b=b/R-1)*b*b+1)+P}function p(b,P,A,R){return b/=R/2,b<1?A/2*b*b*b+P:A/2*((b-=2)*b*b+2)+P}function o(b,P,A,R){return A*(b/=R)*b*b*b+P}function u(b,P,A,R){return-A*((b=b/R-1)*b*b*b-1)+P}function a(b,P,A,R){return b/=R/2,b<1?A/2*b*b*b*b+P:-A/2*((b-=2)*b*b*b-2)+P}function c(b,P,A,R){return A*(b/=R)*b*b*b*b+P}function g(b,P,A,R){return A*((b=b/R-1)*b*b*b*b+1)+P}function f(b,P,A,R){return b/=R/2,b<1?A/2*b*b*b*b*b+P:A/2*((b-=2)*b*b*b*b+2)+P}function m(b,P,A,R){return-A*Math.cos(b/R*(Math.PI/2))+A+P}function v(b,P,A,R){return A*Math.sin(b/R*(Math.PI/2))+P}function _(b,P,A,R){return-A/2*(Math.cos(Math.PI*b/R)-1)+P}function w(b,P,A,R){return b===0?P:A*Math.pow(2,10*(b/R-1))+P}function x(b,P,A,R){return b===R?P+A:A*(-Math.pow(2,-10*b/R)+1)+P}function C(b,P,A,R){return b===0?P:b===R?P+A:(b/=R/2,b<1?A/2*Math.pow(2,10*(b-1))+P:A/2*(-Math.pow(2,-10*--b)+2)+P)}function S(b,P,A,R){return-A*(Math.sqrt(1-(b/=R)*b)-1)+P}function T(b,P,A,R){return A*Math.sqrt(1-(b=b/R-1)*b)+P}function I(b,P,A,R){return b/=R/2,b<1?-A/2*(Math.sqrt(1-b*b)-1)+P:A/2*(Math.sqrt(1-(b-=2)*b)+1)+P}function z(b,P,A,R){var U=1.70158,D=0,O=A;if(b===0)return P;if(b/=R,b===1)return P+A;D||(D=R*.3);var j=l(O,A,D,U);return-i(j,b,R)+P}function q(b,P,A,R){var U=1.70158,D=0,O=A;if(b===0)return P;if(b/=R,b===1)return P+A;D||(D=R*.3);var j=l(O,A,D,U);return j.a*Math.pow(2,-10*b)*Math.sin((b*R-j.s)*(2*Math.PI)/j.p)+j.c+P}function V(b,P,A,R){var U=1.70158,D=0,O=A;if(b===0)return P;if(b/=R/2,b===2)return P+A;D||(D=R*(.3*1.5));var j=l(O,A,D,U);return b<1?-.5*i(j,b,R)+P:j.a*Math.pow(2,-10*(b-=1))*Math.sin((b*R-j.s)*(2*Math.PI)/j.p)*.5+j.c+P}function Q(b,P,A,R,U){return U===void 0&&(U=1.70158),A*(b/=R)*b*((U+1)*b-U)+P}function X(b,P,A,R,U){return U===void 0&&(U=1.70158),A*((b=b/R-1)*b*((U+1)*b+U)+1)+P}function ee(b,P,A,R,U){return U===void 0&&(U=1.70158),b/=R/2,b<1?A/2*(b*b*(((U*=1.525)+1)*b-U))+P:A/2*((b-=2)*b*(((U*=1.525)+1)*b+U)+2)+P}function ne(b,P,A,R){return A-ue(R-b,0,A,R)+P}function ue(b,P,A,R){return(b/=R)<1/2.75?A*(7.5625*b*b)+P:b<2/2.75?A*(7.5625*(b-=1.5/2.75)*b+.75)+P:b<2.5/2.75?A*(7.5625*(b-=2.25/2.75)*b+.9375)+P:A*(7.5625*(b-=2.625/2.75)*b+.984375)+P}function W(b,P,A,R){return b<R/2?ne(b*2,0,A,R)*.5+P:ue(b*2-R,0,A,R)*.5+A*.5+P}e.util.ease={easeInQuad:function(b,P,A,R){return A*(b/=R)*b+P},easeOutQuad:function(b,P,A,R){return-A*(b/=R)*(b-2)+P},easeInOutQuad:function(b,P,A,R){return b/=R/2,b<1?A/2*b*b+P:-A/2*(--b*(b-2)-1)+P},easeInCubic:function(b,P,A,R){return A*(b/=R)*b*b+P},easeOutCubic:h,easeInOutCubic:p,easeInQuart:o,easeOutQuart:u,easeInOutQuart:a,easeInQuint:c,easeOutQuint:g,easeInOutQuint:f,easeInSine:m,easeOutSine:v,easeInOutSine:_,easeInExpo:w,easeOutExpo:x,easeInOutExpo:C,easeInCirc:S,easeOutCirc:T,easeInOutCirc:I,easeInElastic:z,easeOutElastic:q,easeInOutElastic:V,easeInBack:Q,easeOutBack:X,easeInOutBack:ee,easeInBounce:ne,easeOutBounce:ue,easeInOutBounce:W}}(),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.util.object.clone,o=i.util.toFixed,u=i.util.parseUnit,a=i.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],f=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",x="clip-path";i.svgValidTagNamesRegEx=T(c),i.svgViewBoxElementsRegEx=T(g),i.svgInvalidAncestorsRegEx=T(f),i.svgValidParentsRegEx=T(m),i.cssRules={},i.gradientDefs={},i.clipPaths={};function C(D){return D in v?v[D]:D}function S(D,O,j,B){var K=Array.isArray(O),H;if((D==="fill"||D==="stroke")&&O==="none")O="";else{if(D==="strokeUniform")return O==="non-scaling-stroke";if(D==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(D==="transformMatrix")j&&j.transformMatrix?O=a(j.transformMatrix,i.parseTransformAttribute(O)):O=i.parseTransformAttribute(O);else if(D==="visible")O=O!=="none"&&O!=="hidden",j&&j.visible===!1&&(O=!1);else if(D==="opacity")O=parseFloat(O),j&&typeof j.opacity<"u"&&(O*=j.opacity);else if(D==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(D==="charSpacing")H=u(O,B)/B*1e3;else if(D==="paintFirst"){var re=O.indexOf("fill"),ae=O.indexOf("stroke"),O="fill";(re>-1&&ae>-1&&ae<re||re===-1&&ae>-1)&&(O="stroke")}else{if(D==="href"||D==="xlink:href"||D==="font")return O;if(D==="imageSmoothing")return O==="optimizeQuality";H=K?O.map(u):u(O,B)}}return!K&&isNaN(H)?O:H}function T(D){return new RegExp("^("+D.join("|")+")\\b","i")}function I(D){for(var O in _)if(!(typeof D[_[O]]>"u"||D[O]==="")){if(typeof D[O]>"u"){if(!i.Object.prototype[O])continue;D[O]=i.Object.prototype[O]}if(D[O].indexOf("url(")!==0){var j=new i.Color(D[O]);D[O]=j.setAlpha(o(j.getAlpha()*D[_[O]],2)).toRgba()}}return D}function z(D,O){var j,B=[],K,H,re;for(H=0,re=O.length;H<re;H++)j=O[H],K=D.getElementsByTagName(j),B=B.concat(Array.prototype.slice.call(K));return B}i.parseTransformAttribute=function(){function D(L,se){var ve=i.util.cos(se[0]),_e=i.util.sin(se[0]),Ae=0,De=0;se.length===3&&(Ae=se[1],De=se[2]),L[0]=ve,L[1]=_e,L[2]=-_e,L[3]=ve,L[4]=Ae-(ve*Ae-_e*De),L[5]=De-(_e*Ae+ve*De)}function O(L,se){var ve=se[0],_e=se.length===2?se[1]:se[0];L[0]=ve,L[3]=_e}function j(L,se,ve){L[ve]=Math.tan(i.util.degreesToRadians(se[0]))}function B(L,se){L[4]=se[0],se.length===2&&(L[5]=se[1])}var K=i.iMatrix,H=i.reNum,re=i.commaWsp,ae="(?:(skewX)\\s*\\(\\s*("+H+")\\s*\\))",fe="(?:(skewY)\\s*\\(\\s*("+H+")\\s*\\))",Y="(?:(rotate)\\s*\\(\\s*("+H+")(?:"+re+"("+H+")"+re+"("+H+"))?\\s*\\))",$="(?:(scale)\\s*\\(\\s*("+H+")(?:"+re+"("+H+"))?\\s*\\))",Z="(?:(translate)\\s*\\(\\s*("+H+")(?:"+re+"("+H+"))?\\s*\\))",te="(?:(matrix)\\s*\\(\\s*("+H+")"+re+"("+H+")"+re+"("+H+")"+re+"("+H+")"+re+"("+H+")"+re+"("+H+")\\s*\\))",E="(?:"+te+"|"+Z+"|"+$+"|"+Y+"|"+ae+"|"+fe+")",M="(?:"+E+"(?:"+re+"*"+E+")*)",N="^\\s*(?:"+M+"?)\\s*$",oe=new RegExp(N),G=new RegExp(E,"g");return function(L){var se=K.concat(),ve=[];if(!L||L&&!oe.test(L))return se;L.replace(G,function(Ae){var De=new RegExp(E).exec(Ae).filter(function(Ln){return!!Ln}),Je=De[1],Ue=De.slice(2).map(parseFloat);switch(Je){case"translate":B(se,Ue);break;case"rotate":Ue[0]=i.util.degreesToRadians(Ue[0]),D(se,Ue);break;case"scale":O(se,Ue);break;case"skewX":j(se,Ue,2);break;case"skewY":j(se,Ue,1);break;case"matrix":se=Ue;break}ve.push(se.concat()),se=K.concat()});for(var _e=ve[0];ve.length>1;)ve.shift(),_e=i.util.multiplyTransformMatrices(_e,ve[0]);return _e}}();function q(D,O){var j,B;D.replace(/;\s*$/,"").split(";").forEach(function(K){var H=K.split(":");j=H[0].trim().toLowerCase(),B=H[1].trim(),O[j]=B})}function V(D,O){var j,B;for(var K in D)typeof D[K]>"u"||(j=K.toLowerCase(),B=D[K],O[j]=B)}function Q(D,O){var j={};for(var B in i.cssRules[O])if(X(D,B.split(" ")))for(var K in i.cssRules[O][B])j[K]=i.cssRules[O][B][K];return j}function X(D,O){var j,B=!0;return j=ne(D,O.pop()),j&&O.length&&(B=ee(D,O)),j&&B&&O.length===0}function ee(D,O){for(var j,B=!0;D.parentNode&&D.parentNode.nodeType===1&&O.length;)B&&(j=O.pop()),D=D.parentNode,B=ne(D,j);return O.length===0}function ne(D,O){var j=D.nodeName,B=D.getAttribute("class"),K=D.getAttribute("id"),H,re;if(H=new RegExp("^"+j,"i"),O=O.replace(H,""),K&&O.length&&(H=new RegExp("#"+K+"(?![a-zA-Z\\-]+)","i"),O=O.replace(H,"")),B&&O.length)for(B=B.split(" "),re=B.length;re--;)H=new RegExp("\\."+B[re]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(H,"");return O.length===0}function ue(D,O){var j;if(D.getElementById&&(j=D.getElementById(O)),j)return j;var B,K,H,re=D.getElementsByTagName("*");for(K=0,H=re.length;K<H;K++)if(B=re[K],O===B.getAttribute("id"))return B}function W(D){for(var O=z(D,["use","svg:use"]),j=0;O.length&&j<O.length;){var B=O[j],K=B.getAttribute("xlink:href")||B.getAttribute("href");if(K===null)return;var H=K.slice(1),re=B.getAttribute("x")||0,ae=B.getAttribute("y")||0,fe=ue(D,H).cloneNode(!0),Y=(fe.getAttribute("transform")||"")+" translate("+re+", "+ae+")",$,Z=O.length,te,E,M,N,oe=i.svgNS;if(P(fe),/^svg$/i.test(fe.nodeName)){var G=fe.ownerDocument.createElementNS(oe,"g");for(E=0,M=fe.attributes,N=M.length;E<N;E++)te=M.item(E),G.setAttributeNS(oe,te.nodeName,te.nodeValue);for(;fe.firstChild;)G.appendChild(fe.firstChild);fe=G}for(E=0,M=B.attributes,N=M.length;E<N;E++)te=M.item(E),!(te.nodeName==="x"||te.nodeName==="y"||te.nodeName==="xlink:href"||te.nodeName==="href")&&(te.nodeName==="transform"?Y=te.nodeValue+" "+Y:fe.setAttribute(te.nodeName,te.nodeValue));fe.setAttribute("transform",Y),fe.setAttribute("instantiated_by_use","1"),fe.removeAttribute("id"),$=B.parentNode,$.replaceChild(fe,B),O.length===Z&&j++}}var b=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function P(D){if(!i.svgViewBoxElementsRegEx.test(D.nodeName))return{};var O=D.getAttribute("viewBox"),j=1,B=1,K=0,H=0,re,ae,fe,Y,$=D.getAttribute("width"),Z=D.getAttribute("height"),te=D.getAttribute("x")||0,E=D.getAttribute("y")||0,M=D.getAttribute("preserveAspectRatio")||"",N=!O||!(O=O.match(b)),oe=!$||!Z||$==="100%"||Z==="100%",G=N&&oe,L={},se="",ve=0,_e=0;if(L.width=0,L.height=0,L.toBeParsed=G,N&&(te||E)&&D.parentNode&&D.parentNode.nodeName!=="#document"&&(se=" translate("+u(te)+" "+u(E)+") ",fe=(D.getAttribute("transform")||"")+se,D.setAttribute("transform",fe),D.removeAttribute("x"),D.removeAttribute("y")),G)return L;if(N)return L.width=u($),L.height=u(Z),L;if(K=-parseFloat(O[1]),H=-parseFloat(O[2]),re=parseFloat(O[3]),ae=parseFloat(O[4]),L.minX=K,L.minY=H,L.viewBoxWidth=re,L.viewBoxHeight=ae,oe?(L.width=re,L.height=ae):(L.width=u($),L.height=u(Z),j=L.width/re,B=L.height/ae),M=i.util.parsePreserveAspectRatioAttribute(M),M.alignX!=="none"&&(M.meetOrSlice==="meet"&&(B=j=j>B?B:j),M.meetOrSlice==="slice"&&(B=j=j>B?j:B),ve=L.width-re*j,_e=L.height-ae*j,M.alignX==="Mid"&&(ve/=2),M.alignY==="Mid"&&(_e/=2),M.alignX==="Min"&&(ve=0),M.alignY==="Min"&&(_e=0)),j===1&&B===1&&K===0&&H===0&&te===0&&E===0)return L;if((te||E)&&D.parentNode.nodeName!=="#document"&&(se=" translate("+u(te)+" "+u(E)+") "),fe=se+" matrix("+j+" 0 0 "+B+" "+(K*j+ve)+" "+(H*B+_e)+") ",D.nodeName==="svg"){for(Y=D.ownerDocument.createElementNS(i.svgNS,"g");D.firstChild;)Y.appendChild(D.firstChild);D.appendChild(Y)}else Y=D,Y.removeAttribute("x"),Y.removeAttribute("y"),fe=Y.getAttribute("transform")+fe;return Y.setAttribute("transform",fe),L}function A(D,O){for(;D&&(D=D.parentNode);)if(D.nodeName&&O.test(D.nodeName.replace("svg:",""))&&!D.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(D,O,j,B){if(D){W(D);var K=i.Object.__uid++,H,re,ae=P(D),fe=i.util.toArray(D.getElementsByTagName("*"));if(ae.crossOrigin=B&&B.crossOrigin,ae.svgUid=K,fe.length===0&&i.isLikelyNode){fe=D.selectNodes('//*[name(.)!="svg"]');var Y=[];for(H=0,re=fe.length;H<re;H++)Y[H]=fe[H];fe=Y}var $=fe.filter(function(te){return P(te),i.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))&&!A(te,i.svgInvalidAncestorsRegEx)});if(!$||$&&!$.length){O&&O([],{});return}var Z={};fe.filter(function(te){return te.nodeName.replace("svg:","")==="clipPath"}).forEach(function(te){var E=te.getAttribute("id");Z[E]=i.util.toArray(te.getElementsByTagName("*")).filter(function(M){return i.svgValidTagNamesRegEx.test(M.nodeName.replace("svg:",""))})}),i.gradientDefs[K]=i.getGradientDefs(D),i.cssRules[K]=i.getCSSRules(D),i.clipPaths[K]=Z,i.parseElements($,function(te,E){O&&(O(te,ae,E,fe),delete i.gradientDefs[K],delete i.cssRules[K],delete i.clipPaths[K])},p(ae),j,B)}};function R(D,O){var j=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],B="xlink:href",K=O.getAttribute(B).slice(1),H=ue(D,K);if(H&&H.getAttribute(B)&&R(D,H),j.forEach(function(ae){H&&!O.hasAttribute(ae)&&H.hasAttribute(ae)&&O.setAttribute(ae,H.getAttribute(ae))}),!O.children.length)for(var re=H.cloneNode(!0);re.firstChild;)O.appendChild(re.firstChild);O.removeAttribute(B)}var U=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(D,O){var j=D.match(U);if(j){var B=j[1],K=j[3],H=j[4],re=j[5],ae=j[6];B&&(O.fontStyle=B),K&&(O.fontWeight=isNaN(parseFloat(K))?K:parseFloat(K)),H&&(O.fontSize=u(H)),ae&&(O.fontFamily=ae),re&&(O.lineHeight=re==="normal"?1:re)}},getGradientDefs:function(D){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],j=z(D,O),B,K=0,H={};for(K=j.length;K--;)B=j[K],B.getAttribute("xlink:href")&&R(D,B),H[B.getAttribute("id")]=B;return H},parseAttributes:function(D,O,j){if(D){var B,K={},H,re;typeof j>"u"&&(j=D.getAttribute("svgUid")),D.parentNode&&i.svgValidParentsRegEx.test(D.parentNode.nodeName)&&(K=i.parseAttributes(D.parentNode,O,j));var ae=O.reduce(function(M,N){return B=D.getAttribute(N),B&&(M[N]=B),M},{}),fe=h(Q(D,j),i.parseStyleAttribute(D));ae=h(ae,fe),fe[x]&&D.setAttribute(x,fe[x]),H=re=K.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ae[w]&&(ae[w]=H=u(ae[w],re));var Y,$,Z={};for(var te in ae)Y=C(te),$=S(Y,ae[te],K,H),Z[Y]=$;Z&&Z.font&&i.parseFontDeclaration(Z.font,Z);var E=h(K,Z);return i.svgValidParentsRegEx.test(D.nodeName)?E:I(E)}},parseElements:function(D,O,j,B,K){new i.ElementsParser(D,O,j,B,K).parse()},parseStyleAttribute:function(D){var O={},j=D.getAttribute("style");return j&&(typeof j=="string"?q(j,O):V(j,O)),O},parsePointsAttribute:function(D){if(!D)return null;D=D.replace(/,/g," ").trim(),D=D.split(/\s+/);var O=[],j,B;for(j=0,B=D.length;j<B;j+=2)O.push({x:parseFloat(D[j]),y:parseFloat(D[j+1])});return O},getCSSRules:function(D){var O=D.getElementsByTagName("style"),j,B,K={},H;for(j=0,B=O.length;j<B;j++){var re=O[j].textContent;re=re.replace(/\/\*[\s\S]*?\*\//g,""),re.trim()!==""&&(H=re.split("}"),H=H.filter(function(ae){return ae.trim()}),H.forEach(function(ae){var fe=ae.split("{"),Y={},$=fe[1].trim(),Z=$.split(";").filter(function(N){return N.trim()});for(j=0,B=Z.length;j<B;j++){var te=Z[j].split(":"),E=te[0].trim(),M=te[1].trim();Y[E]=M}ae=fe[0].trim(),ae.split(",").forEach(function(N){N=N.replace(/^svg/i,"").trim(),N!==""&&(K[N]?i.util.object.extend(K[N],Y):K[N]=i.util.object.clone(Y))})}))}return K},loadSVGFromURL:function(D,O,j,B){D=D.replace(/^\n\s*/,"").trim(),new i.util.request(D,{method:"get",onComplete:K});function K(H){var re=H.responseXML;if(!re||!re.documentElement)return O&&O(null),!1;i.parseSVGDocument(re.documentElement,function(ae,fe,Y,$){O&&O(ae,fe,Y,$)},j,B)}},loadSVGFromString:function(D,O,j,B){var K=new i.window.DOMParser,H=K.parseFromString(D.trim(),"text/xml");i.parseSVGDocument(H.documentElement,function(re,ae,fe,Y){O(re,ae,fe,Y)},j,B)}})}(t),e.ElementsParser=function(l,i,h,p,o,u){this.elements=l,this.callback=i,this.options=h,this.reviver=p,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(l){l.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},l.createObjects=function(){var i=this;this.elements.forEach(function(h,p){h.setAttribute("svgUid",i.svgUid),i.createObject(h,p)})},l.findTag=function(i){return e[e.util.string.capitalize(i.tagName.replace("svg:",""))]},l.createObject=function(i,h){var p=this.findTag(i);if(p&&p.fromElement)try{p.fromElement(i,this.createCallback(h,i),this.options)}catch(o){e.log(o)}else this.checkIfDone()},l.createCallback=function(i,h){var p=this;return function(o){var u;p.resolveGradient(o,h,"fill"),p.resolveGradient(o,h,"stroke"),o instanceof e.Image&&o._originalElement&&(u=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(u),p.resolveClipPath(o,h),p.reviver&&p.reviver(h,o),p.instances[i]=o,p.checkIfDone()}},l.extractPropertyDefinition=function(i,h,p){var o=i[h],u=this.regexUrl;if(u.test(o)){u.lastIndex=0;var a=u.exec(o)[1];return u.lastIndex=0,e[p][this.svgUid][a]}},l.resolveGradient=function(i,h,p){var o=this.extractPropertyDefinition(i,p,"gradientDefs");if(o){var u=h.getAttribute(p+"-opacity"),a=e.Gradient.fromElement(o,i,u,this.options);i.set(p,a)}},l.createClipPathCallback=function(i,h){return function(p){p._removeTransformMatrix(),p.fillRule=p.clipRule,h.push(p)}},l.resolveClipPath=function(i,h){var p=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,u,a,c,g,f;if(p){c=[],a=e.util.invertTransform(i.calcTransformMatrix());for(var m=p[0].parentNode,v=h;v.parentNode&&v.getAttribute("clip-path")!==i.clipPath;)v=v.parentNode;v.parentNode.appendChild(m);for(var _=0;_<p.length;_++)o=p[_],u=this.findTag(o),u.fromElement(o,this.createClipPathCallback(i,c),this.options);c.length===1?p=c[0]:p=new e.Group(c),g=e.util.multiplyTransformMatrices(a,p.calcTransformMatrix()),p.clipPath&&this.resolveClipPath(p,v);var f=e.util.qrDecompose(g);p.flipX=!1,p.flipY=!1,p.set("scaleX",f.scaleX),p.set("scaleY",f.scaleY),p.angle=f.angle,p.skewX=f.skewX,p.skewY=0,p.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),i.clipPath=p}else delete i.clipPath},l.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(l){var i=l.fabric||(l.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(p,o){this.x=p,this.y=o}h.prototype={type:"point",constructor:h,add:function(p){return new h(this.x+p.x,this.y+p.y)},addEquals:function(p){return this.x+=p.x,this.y+=p.y,this},scalarAdd:function(p){return new h(this.x+p,this.y+p)},scalarAddEquals:function(p){return this.x+=p,this.y+=p,this},subtract:function(p){return new h(this.x-p.x,this.y-p.y)},subtractEquals:function(p){return this.x-=p.x,this.y-=p.y,this},scalarSubtract:function(p){return new h(this.x-p,this.y-p)},scalarSubtractEquals:function(p){return this.x-=p,this.y-=p,this},multiply:function(p){return new h(this.x*p,this.y*p)},multiplyEquals:function(p){return this.x*=p,this.y*=p,this},divide:function(p){return new h(this.x/p,this.y/p)},divideEquals:function(p){return this.x/=p,this.y/=p,this},eq:function(p){return this.x===p.x&&this.y===p.y},lt:function(p){return this.x<p.x&&this.y<p.y},lte:function(p){return this.x<=p.x&&this.y<=p.y},gt:function(p){return this.x>p.x&&this.y>p.y},gte:function(p){return this.x>=p.x&&this.y>=p.y},lerp:function(p,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(p.x-this.x)*o,this.y+(p.y-this.y)*o)},distanceFrom:function(p){var o=this.x-p.x,u=this.y-p.y;return Math.sqrt(o*o+u*u)},midPointFrom:function(p){return this.lerp(p)},min:function(p){return new h(Math.min(this.x,p.x),Math.min(this.y,p.y))},max:function(p){return new h(Math.max(this.x,p.x),Math.max(this.y,p.y))},toString:function(){return this.x+","+this.y},setXY:function(p,o){return this.x=p,this.y=o,this},setX:function(p){return this.x=p,this},setY:function(p){return this.y=p,this},setFromPoint:function(p){return this.x=p.x,this.y=p.y,this},swap:function(p){var o=this.x,u=this.y;this.x=p.x,this.y=p.y,p.x=o,p.y=u},clone:function(){return new h(this.x,this.y)}}}(t),function(l){var i=l.fabric||(l.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(p){this.status=p,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(p){return this.points.push(p),this},appendPoints:function(p){return this.points=this.points.concat(p),this}},i.Intersection.intersectLineLine=function(p,o,u,a){var c,g=(a.x-u.x)*(p.y-u.y)-(a.y-u.y)*(p.x-u.x),f=(o.x-p.x)*(p.y-u.y)-(o.y-p.y)*(p.x-u.x),m=(a.y-u.y)*(o.x-p.x)-(a.x-u.x)*(o.y-p.y);if(m!==0){var v=g/m,_=f/m;0<=v&&v<=1&&0<=_&&_<=1?(c=new h("Intersection"),c.appendPoint(new i.Point(p.x+v*(o.x-p.x),p.y+v*(o.y-p.y)))):c=new h}else g===0||f===0?c=new h("Coincident"):c=new h("Parallel");return c},i.Intersection.intersectLinePolygon=function(p,o,u){var a=new h,c=u.length,g,f,m,v;for(v=0;v<c;v++)g=u[v],f=u[(v+1)%c],m=h.intersectLineLine(p,o,g,f),a.appendPoints(m.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(p,o){var u=new h,a=p.length,c;for(c=0;c<a;c++){var g=p[c],f=p[(c+1)%a],m=h.intersectLinePolygon(g,f,o);u.appendPoints(m.points)}return u.points.length>0&&(u.status="Intersection"),u},i.Intersection.intersectPolygonRectangle=function(p,o,u){var a=o.min(u),c=o.max(u),g=new i.Point(c.x,a.y),f=new i.Point(a.x,c.y),m=h.intersectLinePolygon(a,g,p),v=h.intersectLinePolygon(g,c,p),_=h.intersectLinePolygon(c,f,p),w=h.intersectLinePolygon(f,a,p),x=new h;return x.appendPoints(m.points),x.appendPoints(v.points),x.appendPoints(_.points),x.appendPoints(w.points),x.points.length>0&&(x.status="Intersection"),x}}(t),function(l){var i=l.fabric||(l.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var u;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(u=[255,255,255,0]),u||(u=h.sourceFromHex(o)),u||(u=h.sourceFromRgb(o)),u||(u=h.sourceFromHsl(o)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(o,u,a){o/=255,u/=255,a/=255;var c,g,f,m=i.util.array.max([o,u,a]),v=i.util.array.min([o,u,a]);if(f=(m+v)/2,m===v)c=g=0;else{var _=m-v;switch(g=f>.5?_/(2-m-v):_/(m+v),m){case o:c=(u-a)/_+(u<a?6:0);break;case u:c=(a-o)/_+2;break;case a:c=(o-u)/_+4;break}c/=6}return[Math.round(c*360),Math.round(g*100),Math.round(f*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),u=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var o=this.getSource(),u=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),u,a,c;return u=o[0].toString(16),u=u.length===1?"0"+u:u,a=o[1].toString(16),a=a.length===1?"0"+a:a,c=o[2].toString(16),c=c.length===1?"0"+c:c,u.toUpperCase()+a.toUpperCase()+c.toUpperCase()},toHexa:function(){var o=this.getSource(),u;return u=Math.round(o[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var u=this.getSource();return u[3]=o,this.setSource(u),this},toGrayscale:function(){var o=this.getSource(),u=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),a=o[3];return this.setSource([u,u,u,a]),this},toBlackWhite:function(o){var u=this.getSource(),a=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),c=u[3];return o=o||127,a=Number(a)<Number(o)?0:255,this.setSource([a,a,a,c]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var u=[],a=this.getAlpha(),c=.5,g=this.getSource(),f=o.getSource(),m;for(m=0;m<3;m++)u.push(Math.round(g[m]*(1-c)+f[m]*c));return u[3]=a,this.setSource(u),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function p(o,u,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(u-o)*6*a:a<1/2?u:a<2/3?o+(u-o)*(2/3-a)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var u=o.match(h.reRGBa);if(u){var a=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),c=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(a,10),parseInt(c,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var u=o.match(h.reHSLa);if(u){var a=(parseFloat(u[1])%360+360)%360/360,c=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1),f,m,v;if(c===0)f=m=v=g;else{var _=g<=.5?g*(c+1):g+c-g*c,w=g*2-_;f=p(w,_,a+1/3),m=p(w,_,a),v=p(w,_,a-1/3)}return[Math.round(f*255),Math.round(m*255),Math.round(v*255),u[4]?parseFloat(u[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var u=o.slice(o.indexOf("#")+1),a=u.length===3||u.length===4,c=u.length===8||u.length===4,g=a?u.charAt(0)+u.charAt(0):u.substring(0,2),f=a?u.charAt(1)+u.charAt(1):u.substring(2,4),m=a?u.charAt(2)+u.charAt(2):u.substring(4,6),v=c?a?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(f,16),parseInt(m,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var u=new h;return u.setSource(o),u}}(t),function(l){var i=l.fabric||(l.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],p=["ns","nesw","ew","nwse"],o={},u="left",a="top",c="right",g="bottom",f="center",m={top:g,bottom:a,left:c,right:u,center:f},v=i.util.radiansToDegrees,_=Math.sign||function(Y){return(Y>0)-(Y<0)||+Y};function w(Y,$){var Z=Y.angle+v(Math.atan2($.y,$.x))+360;return Math.round(Z%360/45)}function x(Y,$){var Z=$.transform.target,te=Z.canvas,E=i.util.object.clone($);E.target=Z,te&&te.fire("object:"+Y,E),Z.fire(Y,$)}function C(Y,$){var Z=$.canvas,te=Z.uniScaleKey,E=Y[te];return Z.uniformScaling&&!E||!Z.uniformScaling&&E}function S(Y){return Y.originX===f&&Y.originY===f}function T(Y,$,Z){var te=Y.lockScalingX,E=Y.lockScalingY;return!!(te&&E||!$&&(te||E)&&Z||te&&$==="x"||E&&$==="y")}function I(Y,$,Z){var te="not-allowed",E=C(Y,Z),M="";if($.x!==0&&$.y===0?M="x":$.x===0&&$.y!==0&&(M="y"),T(Z,M,E))return te;var N=w(Z,$);return h[N]+"-resize"}function z(Y,$,Z){var te="not-allowed";if($.x!==0&&Z.lockSkewingY||$.y!==0&&Z.lockSkewingX)return te;var E=w(Z,$)%4;return p[E]+"-resize"}function q(Y,$,Z){return Y[Z.canvas.altActionKey]?o.skewCursorStyleHandler(Y,$,Z):o.scaleCursorStyleHandler(Y,$,Z)}function V(Y,$,Z){var te=Y[Z.canvas.altActionKey];if($.x===0)return te?"skewX":"scaleY";if($.y===0)return te?"skewY":"scaleX"}function Q(Y,$,Z){return Z.lockRotation?"not-allowed":$.cursorStyle}function X(Y,$,Z,te){return{e:Y,transform:$,pointer:{x:Z,y:te}}}function ee(Y){return function($,Z,te,E){var M=Z.target,N=M.getCenterPoint(),oe=M.translateToOriginPoint(N,Z.originX,Z.originY),G=Y($,Z,te,E);return M.setPositionByOrigin(oe,Z.originX,Z.originY),G}}function ne(Y,$){return function(Z,te,E,M){var N=$(Z,te,E,M);return N&&x(Y,X(Z,te,E,M)),N}}function ue(Y,$,Z,te,E){var M=Y.target,N=M.controls[Y.corner],oe=M.canvas.getZoom(),G=M.padding/oe,L=M.toLocalPoint(new i.Point(te,E),$,Z);return L.x>=G&&(L.x-=G),L.x<=-G&&(L.x+=G),L.y>=G&&(L.y-=G),L.y<=G&&(L.y+=G),L.x-=N.offsetX,L.y-=N.offsetY,L}function W(Y){return Y.flipX!==Y.flipY}function b(Y,$,Z,te,E){if(Y[$]!==0){var M=Y._getTransformedDimensions()[te],N=E/M*Y[Z];Y.set(Z,N)}}function P(Y,$,Z,te){var E=$.target,M=E._getTransformedDimensions(0,E.skewY),N=ue($,$.originX,$.originY,Z,te),oe=Math.abs(N.x*2)-M.x,G=E.skewX,L;oe<2?L=0:(L=v(Math.atan2(oe/E.scaleX,M.y/E.scaleY)),$.originX===u&&$.originY===g&&(L=-L),$.originX===c&&$.originY===a&&(L=-L),W(E)&&(L=-L));var se=G!==L;if(se){var ve=E._getTransformedDimensions().y;E.set("skewX",L),b(E,"skewY","scaleY","y",ve)}return se}function A(Y,$,Z,te){var E=$.target,M=E._getTransformedDimensions(E.skewX,0),N=ue($,$.originX,$.originY,Z,te),oe=Math.abs(N.y*2)-M.y,G=E.skewY,L;oe<2?L=0:(L=v(Math.atan2(oe/E.scaleY,M.x/E.scaleX)),$.originX===u&&$.originY===g&&(L=-L),$.originX===c&&$.originY===a&&(L=-L),W(E)&&(L=-L));var se=G!==L;if(se){var ve=E._getTransformedDimensions().x;E.set("skewY",L),b(E,"skewX","scaleX","x",ve)}return se}function R(Y,$,Z,te){var E=$.target,M=E.skewX,N,oe=$.originY;if(E.lockSkewingX)return!1;if(M===0){var G=ue($,f,f,Z,te);G.x>0?N=u:N=c}else M>0&&(N=oe===a?u:c),M<0&&(N=oe===a?c:u),W(E)&&(N=N===u?c:u);$.originX=N;var L=ne("skewing",ee(P));return L(Y,$,Z,te)}function U(Y,$,Z,te){var E=$.target,M=E.skewY,N,oe=$.originX;if(E.lockSkewingY)return!1;if(M===0){var G=ue($,f,f,Z,te);G.y>0?N=a:N=g}else M>0&&(N=oe===u?a:g),M<0&&(N=oe===u?g:a),W(E)&&(N=N===a?g:a);$.originY=N;var L=ne("skewing",ee(A));return L(Y,$,Z,te)}function D(Y,$,Z,te){var E=$,M=E.target,N=M.translateToOriginPoint(M.getCenterPoint(),E.originX,E.originY);if(M.lockRotation)return!1;var oe=Math.atan2(E.ey-N.y,E.ex-N.x),G=Math.atan2(te-N.y,Z-N.x),L=v(G-oe+E.theta),se=!0;if(M.snapAngle>0){var ve=M.snapAngle,_e=M.snapThreshold||ve,Ae=Math.ceil(L/ve)*ve,De=Math.floor(L/ve)*ve;Math.abs(L-De)<_e?L=De:Math.abs(L-Ae)<_e&&(L=Ae)}return L<0&&(L=360+L),L%=360,se=M.angle!==L,M.angle=L,se}function O(Y,$,Z,te,E){E=E||{};var M=$.target,N=M.lockScalingX,oe=M.lockScalingY,G=E.by,L,se,ve,_e,Ae=C(Y,M),De=T(M,G,Ae),Je,Ue,Ln=$.gestureScale;if(De)return!1;if(Ln)se=$.scaleX*Ln,ve=$.scaleY*Ln;else{if(L=ue($,$.originX,$.originY,Z,te),Je=G!=="y"?_(L.x):1,Ue=G!=="x"?_(L.y):1,$.signX||($.signX=Je),$.signY||($.signY=Ue),M.lockScalingFlip&&($.signX!==Je||$.signY!==Ue))return!1;if(_e=M._getTransformedDimensions(),Ae&&!G){var rr=Math.abs(L.x)+Math.abs(L.y),$t=$.original,ca=Math.abs(_e.x*$t.scaleX/M.scaleX)+Math.abs(_e.y*$t.scaleY/M.scaleY),Cd=rr/ca;se=$t.scaleX*Cd,ve=$t.scaleY*Cd}else se=Math.abs(L.x*M.scaleX/_e.x),ve=Math.abs(L.y*M.scaleY/_e.y);S($)&&(se*=2,ve*=2),$.signX!==Je&&G!=="y"&&($.originX=m[$.originX],se*=-1,$.signX=Je),$.signY!==Ue&&G!=="x"&&($.originY=m[$.originY],ve*=-1,$.signY=Ue)}var T_=M.scaleX,E_=M.scaleY;return G?(G==="x"&&M.set("scaleX",se),G==="y"&&M.set("scaleY",ve)):(!N&&M.set("scaleX",se),!oe&&M.set("scaleY",ve)),T_!==M.scaleX||E_!==M.scaleY}function j(Y,$,Z,te){return O(Y,$,Z,te)}function B(Y,$,Z,te){return O(Y,$,Z,te,{by:"x"})}function K(Y,$,Z,te){return O(Y,$,Z,te,{by:"y"})}function H(Y,$,Z,te){return Y[$.target.canvas.altActionKey]?o.skewHandlerX(Y,$,Z,te):o.scalingY(Y,$,Z,te)}function re(Y,$,Z,te){return Y[$.target.canvas.altActionKey]?o.skewHandlerY(Y,$,Z,te):o.scalingX(Y,$,Z,te)}function ae(Y,$,Z,te){var E=$.target,M=ue($,$.originX,$.originY,Z,te),N=E.strokeWidth/(E.strokeUniform?E.scaleX:1),oe=S($)?2:1,G=E.width,L=Math.abs(M.x*oe/E.scaleX)-N;return E.set("width",Math.max(L,0)),G!==L}function fe(Y,$,Z,te){var E=$.target,M=Z-$.offsetX,N=te-$.offsetY,oe=!E.get("lockMovementX")&&E.left!==M,G=!E.get("lockMovementY")&&E.top!==N;return oe&&E.set("left",M),G&&E.set("top",N),(oe||G)&&x("moving",X(Y,$,Z,te)),oe||G}o.scaleCursorStyleHandler=I,o.skewCursorStyleHandler=z,o.scaleSkewCursorStyleHandler=q,o.rotationWithSnapping=ne("rotating",ee(D)),o.scalingEqually=ne("scaling",ee(j)),o.scalingX=ne("scaling",ee(B)),o.scalingY=ne("scaling",ee(K)),o.scalingYOrSkewingX=H,o.scalingXOrSkewingY=re,o.changeWidth=ne("resizing",ee(ae)),o.skewHandlerX=R,o.skewHandlerY=U,o.dragHandler=fe,o.scaleOrSkewActionName=V,o.rotationStyleHandler=Q,o.fireEvent=x,o.wrapWithFixedAnchor=ee,o.wrapWithFireEvent=ne,o.getLocalPoint=ue,i.controlsUtils=o}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.degreesToRadians,p=i.controlsUtils;function o(a,c,g,f,m){f=f||{};var v=this.sizeX||f.cornerSize||m.cornerSize,_=this.sizeY||f.cornerSize||m.cornerSize,w=typeof f.transparentCorners<"u"?f.transparentCorners:m.transparentCorners,x=w?"stroke":"fill",C=!w&&(f.cornerStrokeColor||m.cornerStrokeColor),S=c,T=g,I;a.save(),a.fillStyle=f.cornerColor||m.cornerColor,a.strokeStyle=f.cornerStrokeColor||m.cornerStrokeColor,v>_?(I=v,a.scale(1,_/v),T=g*v/_):_>v?(I=_,a.scale(v/_,1),S=c*_/v):I=v,a.lineWidth=1,a.beginPath(),a.arc(S,T,I/2,0,2*Math.PI,!1),a[x](),C&&a.stroke(),a.restore()}function u(a,c,g,f,m){f=f||{};var v=this.sizeX||f.cornerSize||m.cornerSize,_=this.sizeY||f.cornerSize||m.cornerSize,w=typeof f.transparentCorners<"u"?f.transparentCorners:m.transparentCorners,x=w?"stroke":"fill",C=!w&&(f.cornerStrokeColor||m.cornerStrokeColor),S=v/2,T=_/2;a.save(),a.fillStyle=f.cornerColor||m.cornerColor,a.strokeStyle=f.cornerStrokeColor||m.cornerStrokeColor,a.lineWidth=1,a.translate(c,g),a.rotate(h(m.angle)),a[x+"Rect"](-S,-T,v,_),C&&a.strokeRect(-S,-T,v,_),a.restore()}p.renderCircleControl=o,p.renderSquareControl=u}(t),function(l){var i=l.fabric||(l.fabric={});function h(p){for(var o in p)this[o]=p[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(p,o){return o.cursorStyle},getActionName:function(p,o){return o.actionName},getVisibility:function(p,o){var u=p._controlsVisibility;return u&&typeof u[o]<"u"?u[o]:this.visible},setVisibility:function(p){this.visible=p},positionHandler:function(p,o){var u=i.util.transformPoint({x:this.x*p.x+this.offsetX,y:this.y*p.y+this.offsetY},o);return u},calcCornerCoords:function(p,o,u,a,c){var g,f,m,v,_=c?this.touchSizeX:this.sizeX,w=c?this.touchSizeY:this.sizeY;if(_&&w&&_!==w){var x=Math.atan2(w,_),C=Math.sqrt(_*_+w*w)/2,S=x-i.util.degreesToRadians(p),T=Math.PI/2-x-i.util.degreesToRadians(p);g=C*i.util.cos(S),f=C*i.util.sin(S),m=C*i.util.cos(T),v=C*i.util.sin(T)}else{var I=_&&w?_:o;C=I*.7071067812;var S=i.util.degreesToRadians(45-p);g=m=C*i.util.cos(S),f=v=C*i.util.sin(S)}return{tl:{x:u-v,y:a-m},tr:{x:u+g,y:a-f},bl:{x:u-g,y:a+f},br:{x:u+v,y:a+m}}},render:function(p,o,u,a,c){switch(a=a||{},a.cornerStyle||c.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,p,o,u,a,c);break;default:i.controlsUtils.renderSquareControl.call(this,p,o,u,a,c)}}}}(t),function(){function l(u,a){var c=u.getAttribute("style"),g=u.getAttribute("offset")||0,f,m,v,_;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,c){var w=c.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),_=w.length;_--;){var x=w[_].split(/\s*:\s*/),C=x[0].trim(),S=x[1].trim();C==="stop-color"?f=S:C==="stop-opacity"&&(v=S)}}return f||(f=u.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=u.getAttribute("stop-opacity")),f=new e.Color(f),m=f.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=m*a,{offset:g,color:f.toRgb(),opacity:v}}function i(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function h(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var p=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var a,c=this;Object.keys(u).forEach(function(g){c[g]=u[g]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,a={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(a.r1=u.coords.r1||0,a.r2=u.coords.r2||0),this.coords=a,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var a in u){var c=new e.Color(u[a]);this.colorStops.push({offset:parseFloat(a),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(u){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,a,u),a},toSVG:function(u,m){var c=p(this.coords,!0),g,f,m=m||{},v,_,w=p(this.colorStops,!0),x=c.r1>c.r2,C=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),S=-this.offsetX,T=-this.offsetY,I=!!m.additionalTransform,z=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(ee,ne){return ee.offset-ne.offset}),z==="objectBoundingBox"?(S/=u.width,T/=u.height):(S+=u.width/2,T+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(S-=u.pathOffset.x,T-=u.pathOffset.y),C[4]-=S,C[5]-=T,_='id="SVGID_'+this.id+'" gradientUnits="'+z+'"',_+=' gradientTransform="'+(I?m.additionalTransform+" ":"")+e.util.matrixToSVG(C)+'" ',this.type==="linear"?v=["<linearGradient ",_,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",_,' cx="',x?c.x1:c.x2,'" cy="',x?c.y1:c.y2,'" r="',x?c.r1:c.r2,'" fx="',x?c.x2:c.x1,'" fy="',x?c.y2:c.y1,`">
`]),this.type==="radial"){if(x)for(w=w.concat(),w.reverse(),g=0,f=w.length;g<f;g++)w[g].offset=1-w[g].offset;var q=Math.min(c.r1,c.r2);if(q>0){var V=Math.max(c.r1,c.r2),Q=q/V;for(g=0,f=w.length;g<f;g++)w[g].offset+=Q*(1-w[g].offset)}}for(g=0,f=w.length;g<f;g++){var X=w[g];v.push("<stop ",'offset="',X.offset*100+"%",'" style="stop-color:',X.color,typeof X.opacity<"u"?";stop-opacity: "+X.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(u){var a,c=e.util.object.clone(this.coords),g,f;if(this.type){for(this.type==="linear"?a=u.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(a=u.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),g=0,f=this.colorStops.length;g<f;g++){var m=this.colorStops[g].color,v=this.colorStops[g].opacity,_=this.colorStops[g].offset;typeof v<"u"&&(m=new e.Color(m).setAlpha(v).toRgba()),a.addColorStop(_,m)}return a}}}),e.util.object.extend(e.Gradient,{fromElement:function(u,a,c,g){var f=parseFloat(c)/(/%$/.test(c)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var m=u.getElementsByTagName("stop"),v,_=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=u.getAttribute("gradientTransform")||"",x=[],C,S,T=0,I=0,z;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(v="linear",C=i(u)):(v="radial",C=h(u)),S=m.length;S--;)x.push(l(m[S],f));z=e.parseTransformAttribute(w),o(a,C,g,_),_==="pixels"&&(T=-a.left,I=-a.top);var q=new e.Gradient({id:u.getAttribute("id"),type:v,coords:C,colorStops:x,gradientUnits:_,gradientTransform:z,offsetX:T,offsetY:I});return q}});function o(u,a,c,g){var f,m;Object.keys(a).forEach(function(v){f=a[v],f==="Infinity"?m=1:f==="-Infinity"?m=0:(m=parseFloat(a[v],10),typeof f=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(m*=.01,g==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(m*=c.viewBoxWidth||c.width),(v==="y1"||v==="y2")&&(m*=c.viewBoxHeight||c.height)))),a[v]=m})}}(),function(){var l=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=e.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var p=this;this.source=e.util.createImage(),e.util.loadImage(i.source,function(o,u){p.source=o,h&&h(p,u)},null,this.crossOrigin)}},toObject:function(i){var h=e.Object.NUM_FRACTION_DIGITS,p,o;return typeof this.source.src=="string"?p=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(p=this.source.toDataURL()),o={type:"pattern",source:p,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:l(this.offsetX,h),offsetY:l(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,p=h.width/i.width,o=h.height/i.height,u=this.offsetX/i.width,a=this.offsetY/i.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,a&&(o+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(p=1,u&&(p+=Math.abs(u))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+a+'" width="'+p+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(l){var i=l.fabric||(l.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(p){typeof p=="string"&&(p=this._parseShadow(p));for(var o in p)this[o]=p[o];this.id=i.Object.__uid++},_parseShadow:function(p){var o=p.trim(),u=i.Shadow.reOffsetsAndBlur.exec(o)||[],a=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(p){var o=40,u=40,a=i.Object.NUM_FRACTION_DIGITS,c=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-p.angle)),g=20,f=new i.Color(this.color);return p.width&&p.height&&(o=h((Math.abs(c.x)+this.blur)/p.width,a)*100+g,u=h((Math.abs(c.y)+this.blur)/p.height,a)*100+g),p.flipX&&(c.x*=-1),p.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,a)+'" dy="'+h(c.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+f.toRgb()+'" flood-opacity="'+f.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var p={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==o[u]&&(p[u]=this[u])},this),p}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var l=e.util.object.extend,i=e.util.getElementOffset,h=e.util.removeFromArray,p=e.util.toFixed,o=e.util.transformPoint,u=e.util.invertTransform,a=e.util.getNodeCanvas,c=e.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(f,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,m){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,v),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,v),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,v),m.overlayColor&&this.setOverlayColor(m.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=e.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,m,v){m.setAttribute("width",this.width*f),m.setAttribute("height",this.height*f),v.scale(f,f)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(f,m,v){return this.__setBgOverlayImage("overlayImage",f,m,v)},setBackgroundImage:function(f,m,v){return this.__setBgOverlayImage("backgroundImage",f,m,v)},setOverlayColor:function(f,m){return this.__setBgOverlayColor("overlayColor",f,m)},setBackgroundColor:function(f,m){return this.__setBgOverlayColor("backgroundColor",f,m)},__setBgOverlayImage:function(f,m,v,_){return typeof m=="string"?e.util.loadImage(m,function(w,x){if(w){var C=new e.Image(w,_);this[f]=C,C.canvas=this}v&&v(w,x)},this,_&&_.crossOrigin):(_&&m.setOptions(_),this[f]=m,m&&(m.canvas=this),v&&v(m,!1)),this},__setBgOverlayColor:function(f,m,v){return this[f]=m,this._initGradient(m,f),this._initPattern(m,f,v),this},_createCanvasElement:function(){var f=c();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw g;return f},_initOptions:function(f){var m=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){f&&f.getContext?this.lowerCanvasEl=f:this.lowerCanvasEl=e.util.getById(f)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,m){return this.setDimensions({width:f},m)},setHeight:function(f,m){return this.setDimensions({height:f},m)},setDimensions:function(f,m){var v;m=m||{};for(var _ in f)v=f[_],m.cssOnly||(this._setBackstoreDimension(_,f[_]),v+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(_,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,m){return this.lowerCanvasEl[f]=m,this.upperCanvasEl&&(this.upperCanvasEl[f]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=m),this[f]=m,this},_setCssDimension:function(f,m){return this.lowerCanvasEl.style[f]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=m),this.wrapperEl&&(this.wrapperEl.style[f]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var m=this._activeObject,v=this.backgroundImage,_=this.overlayImage,w,x,C;for(this.viewportTransform=f,x=0,C=this._objects.length;x<C;x++)w=this._objects[x],w.group||w.setCoords(!0);return m&&m.setCoords(),v&&v.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,m){var v=f,_=this.viewportTransform.slice(0);f=o(f,u(this.viewportTransform)),_[0]=m,_[3]=m;var w=o(f,_);return _[4]+=v.x-w.x,_[5]+=v.y-w.y,this.setViewportTransform(_)},setZoom:function(f){return this.zoomToPoint(new e.Point(0,0),f),this},absolutePan:function(f){var m=this.viewportTransform.slice(0);return m[4]=-f.x,m[5]=-f.y,this.setViewportTransform(m)},relativePan:function(f){return this.absolutePan(new e.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var f=this.contextContainer;return this.renderCanvas(f,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},m=this.width,v=this.height,_=u(this.viewportTransform);return f.tl=o({x:0,y:0},_),f.br=o({x:m,y:v},_),f.tr=new e.Point(f.br.x,f.tl.y),f.bl=new e.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,m){var v=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),e.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(f,m),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var m=this.viewportTransform,v=this.clipPath;f.save(),f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),f.globalCompositeOperation="destination-in",v.transform(f),f.scale(1/v.zoomX,1/v.zoomY),f.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),f.restore()},_renderObjects:function(f,m){var v,_;for(v=0,_=m.length;v<_;++v)m[v]&&m[v].render(f)},_renderBackgroundOrOverlay:function(f,m){var v=this[m+"Color"],_=this[m+"Image"],w=this.viewportTransform,x=this[m+"Vpt"];if(!(!v&&!_)){if(v){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=v.toLive?v.toLive(f,this):v,x&&f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),f.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var C=v.gradientTransform||v.patternTransform;C&&f.transform(C[0],C[1],C[2],C[3],C[4],C[5]),f.fill(),f.restore()}_&&(f.save(),x&&f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),_.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new e.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new e.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var m=this.getCenterPoint();return this._centerObject(f,m)},viewportCenterObject:function(f){var m=this.getVpCenter();return this._centerObject(f,m)},viewportCenterObjectH:function(f){var m=this.getVpCenter();return this._centerObject(f,new e.Point(m.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var m=this.getVpCenter();return this._centerObject(f,new e.Point(f.getCenterPoint().x,m.y))},getVpCenter:function(){var f=this.getCenterPoint(),m=u(this.viewportTransform);return o(f,m)},_centerObject:function(f,m){return f.setPositionByOrigin(m,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,m){var v=this.clipPath,_={version:e.version,objects:this._toObjects(f,m)};return v&&!v.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,f,m)),l(_,this.__serializeBgOverlay(f,m)),e.util.populateWithProperties(this,_,m),_},_toObjects:function(f,m){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,f,m)},this)},_toObject:function(f,m,v){var _;this.includeDefaultValues||(_=f.includeDefaultValues,f.includeDefaultValues=!1);var w=f[m](v);return this.includeDefaultValues||(f.includeDefaultValues=_),w},__serializeBgOverlay:function(f,m){var v={},_=this.backgroundImage,w=this.overlayImage,x=this.backgroundColor,C=this.overlayColor;return x&&x.toObject?x.excludeFromExport||(v.background=x.toObject(m)):x&&(v.background=x),C&&C.toObject?C.excludeFromExport||(v.overlay=C.toObject(m)):C&&(v.overlay=C),_&&!_.excludeFromExport&&(v.backgroundImage=this._toObject(_,f,m)),w&&!w.excludeFromExport&&(v.overlayImage=this._toObject(w,f,m)),v},svgViewportTransformation:!0,toSVG:function(f,m){f||(f={}),f.reviver=m;var v=[];return this._setSVGPreamble(v,f),this._setSVGHeader(v,f),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",m),this._setSVGObjects(v,m),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",m),v.push("</svg>"),v.join("")},_setSVGPreamble:function(f,m){m.suppressPreamble||f.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(f,m){var v=m.width||this.width,_=m.height||this.height,w,x='viewBox="0 0 '+this.width+" "+this.height+'" ',C=e.Object.NUM_FRACTION_DIGITS;m.viewBox?x='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,x='viewBox="'+p(-w[4]/w[0],C)+" "+p(-w[5]/w[3],C)+" "+p(this.width/w[0],C)+" "+p(this.height/w[3],C)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',_,'" ',x,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(f){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(f.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var f=this,m=["background","overlay"].map(function(v){var _=f[v+"Color"];if(_&&_.toLive){var w=f[v+"Vpt"],x=f.viewportTransform,C={width:f.width/(w?x[0]:1),height:f.height/(w?x[3]:1)};return _.toSVG(C,{additionalTransform:w?e.util.matrixToSVG(x):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var f="",m={},v,_,w,x,C,S,T,I,z,q=e.fontPaths,V=[];for(this._objects.forEach(function X(ee){V.push(ee),ee._objects&&ee._objects.forEach(X)}),I=0,z=V.length;I<z;I++)if(v=V[I],_=v.fontFamily,!(v.type.indexOf("text")===-1||m[_]||!q[_])&&(m[_]=!0,!!v.styles)){w=v.styles;for(C in w){x=w[C];for(T in x)S=x[T],_=S.fontFamily,!m[_]&&q[_]&&(m[_]=!0)}}for(var Q in m)f+=[`		@font-face {
`,"			font-family: '",Q,`';
`,"			src: url('",q[Q],`');
`,`		}
`].join("");return f&&(f=['	<style type="text/css">',`<![CDATA[
`,f,"]]>",`</style>
`].join("")),f},_setSVGObjects:function(f,m){var v,_,w,x=this._objects;for(_=0,w=x.length;_<w;_++)v=x[_],!v.excludeFromExport&&this._setSVGObject(f,v,m)},_setSVGObject:function(f,m,v){f.push(m.toSVG(v))},_setSVGBgOverlayImage:function(f,m,v){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&f.push(this[m].toSVG(v))},_setSVGBgOverlayColor:function(f,m){var v=this[m+"Color"],_=this.viewportTransform,w=this.width,x=this.height;if(v)if(v.toLive){var C=v.repeat,S=e.util.invertTransform(_),T=this[m+"Vpt"],I=T?e.util.matrixToSVG(S):"";f.push('<rect transform="'+I+" translate(",w/2,",",x/2,')"',' x="',v.offsetX-w/2,'" y="',v.offsetY-x/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?v.source.width:w,'" height="',C==="repeat-x"||C==="no-repeat"?v.source.height:x,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(f){if(!f)return this;var m=this._activeObject,v,_,w;if(f===m&&f.type==="activeSelection")for(w=m._objects,v=w.length;v--;)_=w[v],h(this._objects,_),this._objects.unshift(_);else h(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var m=this._activeObject,v,_,w;if(f===m&&f.type==="activeSelection")for(w=m._objects,v=0;v<w.length;v++)_=w[v],h(this._objects,_),this._objects.push(_);else h(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,m){if(!f)return this;var v=this._activeObject,_,w,x,C,S,T=0;if(f===v&&f.type==="activeSelection")for(S=v._objects,_=0;_<S.length;_++)w=S[_],x=this._objects.indexOf(w),x>0+T&&(C=x-1,h(this._objects,w),this._objects.splice(C,0,w)),T++;else x=this._objects.indexOf(f),x!==0&&(C=this._findNewLowerIndex(f,x,m),h(this._objects,f),this._objects.splice(C,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,m,v){var _,w;if(v)for(_=m,w=m-1;w>=0;--w){var x=f.intersectsWithObject(this._objects[w])||f.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(f);if(x){_=w;break}}else _=m-1;return _},bringForward:function(f,m){if(!f)return this;var v=this._activeObject,_,w,x,C,S,T=0;if(f===v&&f.type==="activeSelection")for(S=v._objects,_=S.length;_--;)w=S[_],x=this._objects.indexOf(w),x<this._objects.length-1-T&&(C=x+1,h(this._objects,w),this._objects.splice(C,0,w)),T++;else x=this._objects.indexOf(f),x!==this._objects.length-1&&(C=this._findNewUpperIndex(f,x,m),h(this._objects,f),this._objects.splice(C,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,m,v){var _,w,x;if(v)for(_=m,w=m+1,x=this._objects.length;w<x;++w){var C=f.intersectsWithObject(this._objects[w])||f.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(f);if(C){_=w;break}}else _=m+1;return _},moveTo:function(f,m){return h(this._objects,f),this._objects.splice(m,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),l(e.StaticCanvas.prototype,e.Observable),l(e.StaticCanvas.prototype,e.Collection),l(e.StaticCanvas.prototype,e.DataURLExporter),l(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var m=c();if(!m||!m.getContext)return null;var v=m.getContext("2d");if(!v)return null;switch(f){case"setLineDash":return typeof v.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var f=a(this.lowerCanvasEl);return f&&f.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(f){var m=a(this.lowerCanvasEl);return m&&m.createJPEGStream(f)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(l){l.strokeStyle=this.color,l.lineWidth=this.width,l.lineCap=this.strokeLineCap,l.miterLimit=this.strokeMiterLimit,l.lineJoin=this.strokeLineJoin,l.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(l){var i=this.canvas.viewportTransform;l.save(),l.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var l=this.canvas,i=this.shadow,h=l.contextTop,p=l.getZoom();l&&l._isRetinaScaling()&&(p*=e.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*p,h.shadowOffsetX=i.offsetX*p,h.shadowOffsetY=i.offsetY*p}},needsFullRender:function(){var l=new e.Color(this.color);return l.getAlpha()<1||!!this.shadow},_resetShadow:function(){var l=this.canvas.contextTop;l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0},_isOutSideCanvas:function(l){return l.x<0||l.x>this.canvas.getWidth()||l.y<0||l.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(l){this.canvas=l,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(l,i,h){var p=i.midPointFrom(h);return l.quadraticCurveTo(i.x,i.y,p.x,p.y),p},onMouseDown:function(l,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(l),this._captureDrawingPath(l),this._render())},onMouseMove:function(l,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l))&&this._captureDrawingPath(l)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,p=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[p-2],h[p-1],!0),o.stroke(),o.restore()}},onMouseUp:function(l){return this.canvas._isMainEvent(l.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(l){var i=new e.Point(l.x,l.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(l){return this._points.length>1&&l.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(l),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(l){var i=new e.Point(l.x,l.y);return this._addPoint(i)},_render:function(l){var i,h,p=this._points[0],o=this._points[1];if(l=l||this.canvas.contextTop,this._saveAndTransform(l),l.beginPath(),this._points.length===2&&p.x===o.x&&p.y===o.y){var u=this.width/1e3;p=new e.Point(p.x,p.y),o=new e.Point(o.x,o.y),p.x-=u,o.x+=u}for(l.moveTo(p.x,p.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(l,p,o),p=this._points[i],o=this._points[i+1];l.lineTo(p.x,p.y),l.stroke(),l.restore()},convertPointsToSVGPath:function(l){var i=this.width/1e3;return e.util.getSmoothPathFromPoints(l,i)},_isEmptySVGPath:function(l){var i=e.util.joinPath(l);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(l){var i=new e.Path(l,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new e.Shadow(this.shadow)),i},decimatePoints:function(l,i){if(l.length<=2)return l;var h=this.canvas.getZoom(),p=Math.pow(i/h,2),o,u=l.length-1,a=l[0],c=[a],g;for(o=1;o<u-1;o++)g=Math.pow(a.x-l[o].x,2)+Math.pow(a.y-l[o].y,2),g>=p&&(a=l[o],c.push(a));return c.push(l[u]),c},_finalizeAndAddPath:function(){var l=this.canvas.contextTop;l.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(l){this.canvas=l,this.points=[]},drawDot:function(l){var i=this.addPoint(l),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(l,i){l.fillStyle=i.fill,l.beginPath(),l.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),l.closePath(),l.fill()},onMouseDown:function(l){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(l)},_render:function(){var l=this.canvas.contextTop,i,h,p=this.points;for(this._saveAndTransform(l),i=0,h=p.length;i<h;i++)this.dot(l,p[i]);l.restore()},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(l),this._render()):this.drawDot(l))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var p=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],u=new e.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(u.shadow=new e.Shadow(this.shadow)),p.push(u)}var a=new e.Group(p);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},addPoint:function(l){var i=new e.Point(l.x,l.y),h=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,p=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=p,this.points.push(i),i}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(l){this.canvas=l,this.sprayChunks=[]},onMouseDown:function(l){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(l),this.render(this.sprayChunkPoints)},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.addSprayChunk(l),this.render(this.sprayChunkPoints))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,p=this.sprayChunks.length;h<p;h++)for(var o=this.sprayChunks[h],u=0,a=o.length;u<a;u++){var c=new e.Rect({width:o[u].width,height:o[u].width,left:o[u].x+1,top:o[u].y+1,originX:"center",originY:"center",fill:this.color});i.push(c)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new e.Group(i);this.shadow&&g.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},_getOptimizedRects:function(l){var i={},h,p,o;for(p=0,o=l.length;p<o;p++)h=l[p].left+""+l[p].top,i[h]||(i[h]=l[p]);var u=[];for(h in i)u.push(i[h]);return u},render:function(l){var i=this.canvas.contextTop,h,p;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,p=l.length;h<p;h++){var o=l[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var l=this.canvas.contextTop,i,h;for(l.fillStyle=this.color,this._saveAndTransform(l),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);l.restore()},addSprayChunk:function(l){this.sprayChunkPoints=[];var i,h,p,o=this.width/2,u;for(u=0;u<this.density;u++){i=e.util.getRandomInt(l.x-o,l.x+o),h=e.util.getRandomInt(l.y-o,l.y+o),this.dotWidthVariance?p=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):p=this.dotWidth;var a=new e.Point(i,h);a.width=p,this.randomOpacity&&(a.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var l=20,i=5,h=e.util.createCanvasElement(),p=h.getContext("2d");return h.width=h.height=l+i,p.fillStyle=this.color,p.beginPath(),p.arc(l/2,l/2,l/2,0,Math.PI*2,!1),p.closePath(),p.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(l){return l.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(l){this.callSuper("_setBrushStyles",l),l.strokeStyle=this.getPattern(l)},createPath:function(l){var i=this.callSuper("createPath",l),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var l=e.util.getPointer,i=e.util.degreesToRadians,h=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(o,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),u,a,c;if(o.length>0&&!this.preserveObjectStacking){a=[],c=[];for(var g=0,f=this._objects.length;g<f;g++)u=this._objects[g],o.indexOf(u)===-1?a.push(u):c.push(u);o.length>1&&(this._activeObject._objects=c),a.push.apply(a,c)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,u){var a=o.calcTransformMatrix(),c=e.util.invertTransform(a),g=this.restorePointerVpt(u);return e.util.transformPoint(g,c)},isTargetTransparent:function(o,u,a){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var c=this._normalizePointer(o,{x:u,y:a}),g=Math.max(o.cacheTranslationX+c.x*o.zoomX,0),f=Math.max(o.cacheTranslationY+c.y*o.zoomY,0),w=e.util.isTransparent(o._cacheContext,Math.round(g),Math.round(f),this.targetFindTolerance);return w}var m=this.contextCache,v=o.selectionBackgroundColor,_=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(_[0],_[1],_[2],_[3],_[4],_[5]),o.render(m),m.restore(),o.selectionBackgroundColor=v;var w=e.util.isTransparent(m,u,a,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(o){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(a){return o[a]===!0}):u=o[this.selectionKey],u},_shouldClearSelection:function(o,u){var a=this.getActiveObjects(),c=this._activeObject;return!u||u&&c&&a.length>1&&a.indexOf(u)===-1&&c!==u&&!this._isSelectionKeyPressed(o)||u&&!u.evented||u&&!u.selectable&&c&&c!==u},_shouldCenterTransform:function(o,u,a){if(o){var c;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?c=this.centeredScaling||o.centeredScaling:u==="rotate"&&(c=this.centeredRotation||o.centeredRotation),c?!a:a}},_getOriginFromCorner:function(o,u){var a={x:o.originX,y:o.originY};return u==="ml"||u==="tl"||u==="bl"?a.x="right":(u==="mr"||u==="tr"||u==="br")&&(a.x="left"),u==="tl"||u==="mt"||u==="tr"?a.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(a.y="top"),a},_getActionFromCorner:function(o,u,a,c){if(!u||!o)return"drag";var g=c.controls[u];return g.getActionName(a,g,c)},_setupCurrentTransform:function(o,u,a){if(u){var c=this.getPointer(o),g=u.__corner,f=u.controls[g],m=a&&g?f.getActionHandler(o,u,f):e.controlsUtils.dragHandler,v=this._getActionFromCorner(a,g,o,u),_=this._getOriginFromCorner(u,g),w=o[this.centeredKey],x={target:u,action:v,actionHandler:m,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:c.x-u.left,offsetY:c.y-u.top,originX:_.x,originY:_.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:i(u.angle),width:u.width*u.scaleX,shiftKey:o.shiftKey,altKey:w,original:e.util.saveObjectTransform(u)};this._shouldCenterTransform(u,v,w)&&(x.originX="center",x.originY="center"),x.original.originX=_.x,x.original.originY=_.y,this._currentTransform=x,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var u=this._groupSelector,a=new e.Point(u.ex,u.ey),c=e.util.transformPoint(a,this.viewportTransform),g=new e.Point(u.ex+u.left,u.ey+u.top),f=e.util.transformPoint(g,this.viewportTransform),m=Math.min(c.x,f.x),v=Math.min(c.y,f.y),_=Math.max(c.x,f.x),w=Math.max(c.y,f.y),x=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(m,v,_-m,w-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,m+=x,v+=x,_-=x,w-=x,e.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(m,v,_-m,w-v))},findTarget:function(o,u){if(!this.skipTargetFind){var a=!0,c=this.getPointer(o,a),g=this._activeObject,f=this.getActiveObjects(),m,v,_=h(o),w=f.length>1&&!u||f.length===1;if(this.targets=[],w&&g._findTargetCorner(c,_)||f.length>1&&!u&&g===this._searchPossibleTargets([g],c))return g;if(f.length===1&&g===this._searchPossibleTargets([g],c))if(this.preserveObjectStacking)m=g,v=this.targets,this.targets=[];else return g;var x=this._searchPossibleTargets(this._objects,c);return o[this.altSelectionKey]&&x&&m&&x!==m&&(x=m,this.targets=v),x}},_checkTarget:function(o,u,a){if(u&&u.visible&&u.evented&&u.containsPoint(o))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var c=this.isTargetTransparent(u,a.x,a.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(o,u){for(var a,c=o.length,g;c--;){var f=o[c],m=f.group?this._normalizePointer(f.group,u):u;if(this._checkTarget(m,f,u)){a=o[c],a.subTargetCheck&&a instanceof e.Group&&(g=this._searchPossibleTargets(a._objects,u),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(o){return e.util.transformPoint(o,e.util.invertTransform(this.viewportTransform))},getPointer:function(o,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var a=l(o),c=this.upperCanvasEl,g=c.getBoundingClientRect(),f=g.width||0,m=g.height||0,v;(!f||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(f=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,u||(a=this.restorePointerVpt(a));var _=this.getRetinaScaling();return _!==1&&(a.x/=_,a.y/=_),f===0||m===0?v={width:1,height:1}:v={width:c.width/f,height:c.height/m},{x:a.x*v.width,y:a.y*v.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),e.util.addClass(a,"upper-canvas "+o),this.wrapperEl.appendChild(a),this._copyCanvasStyle(u,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var u=this.width||o.width,a=this.height||o.height;e.util.setStyle(o,{position:"absolute",width:u+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=u,o.height=a,e.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,u){u.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,u){var a=!1,c=this.getActiveObjects(),g=[],f=[];o.forEach(function(m){c.indexOf(m)===-1&&(a=!0,m.fire("deselected",{e:u,target:m}),f.push(m))}),c.forEach(function(m){o.indexOf(m)===-1&&(a=!0,m.fire("selected",{e:u,target:m}),g.push(m))}),o.length>0&&c.length>0?a&&this.fire("selection:updated",{e:u,selected:g,deselected:f}):c.length>0?this.fire("selection:created",{e:u,selected:g}):o.length>0&&this.fire("selection:cleared",{e:u,deselected:f})},setActiveObject:function(o,u){var a=this.getActiveObjects();return this._setActiveObject(o,u),this._fireSelectionEvents(a,u),this},_setActiveObject:function(o,u){return this._activeObject===o||!this._discardActiveObject(u,o)||o.onSelect({e:u})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,u){var a=this._activeObject;if(a){if(a.onDeselect({e:o,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var u=this.getActiveObjects(),a=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:a,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(u,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(u){e.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var u=this._activeObject;u&&u._renderControls(o)},_toObject:function(o,u,a){var c=this._realizeGroupTransformOnObject(o),g=this.callSuper("_toObject",o,u,a);return this._unwindGroupTransformOnObject(o,c),g},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return u.forEach(function(c){a[c]=o[c]}),e.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(o,u){u&&o.set(u)},_setSVGObject:function(o,u,a){var c=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",o,u,a),this._unwindGroupTransformOnObject(u,c)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var p in e.StaticCanvas)p!=="prototype"&&(e.Canvas[p]=e.StaticCanvas[p])}(),function(){var l=e.util.addListener,i=e.util.removeListener,h=3,p=2,o=1,u={passive:!1};function a(c,g){return c.button&&c.button===g-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(l,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,g){var f=this.upperCanvasEl,m=this._getEventPrefix();c(e.window,"resize",this._onResize),c(f,m+"down",this._onMouseDown),c(f,m+"move",this._onMouseMove,u),c(f,m+"out",this._onMouseOut),c(f,m+"enter",this._onMouseEnter),c(f,"wheel",this._onMouseWheel),c(f,"contextmenu",this._onContextMenu),c(f,"dblclick",this._onDoubleClick),c(f,"dragover",this._onDragOver),c(f,"dragenter",this._onDragEnter),c(f,"dragleave",this._onDragLeave),c(f,"drop",this._onDrop),this.enablePointerEvents||c(f,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](f,"gesture",this._onGesture),eventjs[g](f,"drag",this._onDrag),eventjs[g](f,"orientation",this._onOrientationChange),eventjs[g](f,"shake",this._onShake),eventjs[g](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var c=this._getEventPrefix();i(e.document,c+"up",this._onMouseUp),i(e.document,"touchend",this._onTouchEnd,u),i(e.document,c+"move",this._onMouseMove,u),i(e.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,g){this.__onTransformGesture&&this.__onTransformGesture(c,g)},_onDrag:function(c,g){this.__onDrag&&this.__onDrag(c,g)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:c}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:c});var f=this;this._hoveredTargets.forEach(function(m){f.fire("mouse:out",{target:g,e:c}),m&&g.fire("mouseout",{e:c})}),this._hoveredTargets=[]},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,g){this.__onOrientationChange&&this.__onOrientationChange(c,g)},_onShake:function(c,g){this.__onShake&&this.__onShake(c,g)},_onLongPress:function(c,g){this.__onLongPress&&this.__onLongPress(c,g)},_onDragOver:function(c){c.preventDefault();var g=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(g,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var g=c.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();l(e.document,"touchend",this._onTouchEnd,u),l(e.document,"touchmove",this._onMouseMove,u),i(g,f+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();i(g,f+"move",this._onMouseMove,u),l(e.document,f+"up",this._onMouseUp),l(e.document,f+"move",this._onMouseMove,u)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(e.document,"touchend",this._onTouchEnd,u),i(e.document,"touchmove",this._onMouseMove,u);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){l(f.upperCanvasEl,g+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(c)&&(i(e.document,f+"up",this._onMouseUp),i(e.document,f+"move",this._onMouseMove,u),l(g,f+"move",this._onMouseMove,u))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var g=this._activeObject;return!!g!=!!c||g&&c&&g!==c?!0:(g&&g.isEditing,!1)},__onMouseUp:function(c){var g,f=this._currentTransform,m=this._groupSelector,v=!1,_=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(c),g=this._target,this._handleEvent(c,"up:before"),a(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,_);return}if(a(c,p)){this.fireMiddleClick&&this._handleEvent(c,"up",p,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(f&&(this._finalizeCurrentTransform(c),v=f.actionPerformed),!_){var w=g===this._activeObject;this._maybeGroupObjects(c),v||(v=this._shouldRender(g)||!w&&g===this._activeObject)}var x,C;if(g){if(x=g._findTargetCorner(this.getPointer(c,!0),e.util.isTouchEvent(c)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,c),v=!0;else{var S=g.controls[x],T=S&&S.getMouseUpHandler(c,g,S);T&&(C=this.getPointer(c),T(c,f,C.x,C.y))}g.isMoving=!1}if(f&&(f.target!==g||f.corner!==x)){var I=f.target&&f.target.controls[f.corner],z=I&&I.getMouseUpHandler(c,g,S);C=C||this.getPointer(c),z&&z(c,f,C.x,C.y)}this._setCursorFromEvent(c,g),this._handleEvent(c,"up",o,_),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),v?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(c,g){var f=this.findTarget(g),m=this.targets,v={e:g,target:f,subTargets:m};if(this.fire(c,v),f&&f.fire(c,v),!m)return f;for(var _=0;_<m.length;_++)m[_].fire(c,v);return f},_handleEvent:function(c,g,f,m){var v=this._target,_=this.targets||[],w={e:c,target:v,subTargets:_,button:f||o,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(w.currentTarget=this.findTarget(c),w.currentSubTargets=this.targets),this.fire("mouse:"+g,w),v&&v.fire("mouse"+g,w);for(var x=0;x<_.length;x++)_[x].fire("mouse"+g,w)},_finalizeCurrentTransform:function(c){var g=this._currentTransform,f=g.target,m={e:c,target:f,transform:g,action:g.action};f._scaling&&(f._scaling=!1),f.setCoords(),(g.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var g=this.getPointer(c);this.freeDrawingBrush.onMouseDown(g,{e:c,pointer:g}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var g=this.getPointer(c);this.freeDrawingBrush.onMouseMove(g,{e:c,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var g=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:g}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var g=this._target;if(a(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(a(c,p)){this.fireMiddleClick&&this._handleEvent(c,"down",p);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var f=this._pointer;this._previousPointer=f;var m=this._shouldRender(g),v=this._shouldGroup(c,g);if(this._shouldClearSelection(c,g)?this.discardActiveObject(c):v&&(this._handleGrouping(c,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var _=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,c);var w=g._findTargetCorner(this.getPointer(c,!0),e.util.isTouchEvent(c));if(g.__corner=w,g===this._activeObject&&(w||!v)){this._setupCurrentTransform(c,g,_);var x=g.controls[w],f=this.getPointer(c),C=x&&x.getMouseDownHandler(c,g,x);C&&C(c,this._currentTransform,f.x,f.y)}}this._handleEvent(c,"down"),(m||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:c,transform:g})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var g,f;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var m=this._groupSelector;m?(f=this._absolutePointer,m.left=f.x-m.ex,m.top=f.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(g=this.findTarget(c)||null,this._setCursorFromEvent(c,g),this._fireOverOutEvents(g,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,g){var f=this._hoveredTarget,m=this._hoveredTargets,v=this.targets,_=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<_;w++)this.fireSyntheticInOutEvents(v[w],g,{oldTarget:m[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,g){var f=this._draggedoverTarget,m=this._hoveredTargets,v=this.targets,_=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<_;w++)this.fireSyntheticInOutEvents(v[w],g,{oldTarget:m[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,g,f){var m,v,_=f.oldTarget,w,x,C=_!==c,S=f.canvasEvtIn,T=f.canvasEvtOut;C&&(m={e:g,target:c,previousTarget:_},v={e:g,target:_,nextTarget:c}),x=c&&C,w=_&&C,w&&(T&&this.fire(T,v),_.fire(f.evtOut,v)),x&&(S&&this.fire(S,m),c.fire(f.evtIn,m))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var g=this.getPointer(c),f=this._currentTransform;f.reset=!1,f.shiftKey=c.shiftKey,f.altKey=c[this.centeredKey],this._performTransformAction(c,f,g),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,g,f){var m=f.x,v=f.y,_=g.action,w=!1,x=g.actionHandler;x&&(w=x(c,g,m,v)),_==="drag"&&w&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||w},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(c,g){if(!g)return this.setCursor(this.defaultCursor),!1;var f=g.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(c,!0));v?this.setCursor(this.getCornerCursor(v,g,c)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(_){f=_.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(c,g,f){var m=g.controls[c];return m.cursorStyleHandler(f,m,g)}})}(),function(){var l=Math.min,i=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(h,p){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&p&&p.selectable&&this.selection&&(o!==p||o.type==="activeSelection")&&!p.onSelect({e:h})},_handleGrouping:function(h,p){var o=this._activeObject;o.__corner||p===o&&(p=this.findTarget(h,!0),!p||!p.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(p,h):this._createActiveSelection(p,h))},_updateActiveSelection:function(h,p){var o=this._activeObject,u=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),p)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,p)},_createActiveSelection:function(h,p){var o=this.getActiveObjects(),u=this._createGroup(h);this._hoveredTarget=u,this._setActiveObject(u,p),this._fireSelectionEvents(o,p)},_createGroup:function(h){var p=this._objects,o=p.indexOf(this._activeObject)<p.indexOf(h),u=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(h){var p=this._collectObjects(h),o;p.length===1?this.setActiveObject(p[0],h):p.length>1&&(o=new e.ActiveSelection(p.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var p=[],o,u=this._groupSelector.ex,a=this._groupSelector.ey,c=u+this._groupSelector.left,g=a+this._groupSelector.top,f=new e.Point(l(u,c),l(a,g)),m=new e.Point(i(u,c),i(a,g)),v=!this.selectionFullyContained,_=u===c&&a===g,w=this._objects.length;w--&&(o=this._objects[w],!(!(!o||!o.selectable||!o.visible)&&(v&&o.intersectsWithRect(f,m,!0)||o.isContainedWithinRect(f,m,!0)||v&&o.containsPoint(f,null,!0)||v&&o.containsPoint(m,null,!0))&&(p.push(o),_))););return p.length>1&&(p=p.filter(function(x){return!x.onSelect({e:h})})),p},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(l){l||(l={});var i=l.format||"png",h=l.quality||1,p=(l.multiplier||1)*(l.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(p,l);return e.util.toDataURL(o,i,h)},toCanvasElement:function(l,i){l=l||1,i=i||{};var h=(i.width||this.width)*l,p=(i.height||this.height)*l,o=this.getZoom(),u=this.width,a=this.height,c=o*l,g=this.viewportTransform,f=(g[4]-(i.left||0))*l,m=(g[5]-(i.top||0))*l,v=this.interactive,_=[c,0,0,c,f,m],w=this.enableRetinaScaling,x=e.util.createCanvasElement(),C=this.contextTop;return x.width=h,x.height=p,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=p,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=a,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=w,this.contextTop=C,x}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(l,i,h){if(l){var p=typeof l=="string"?JSON.parse(l):e.util.object.clone(l),o=this,u=p.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete p.clipPath,this._enlivenObjects(p.objects,function(c){o.clear(),o._setBgOverlay(p,function(){u?o._enlivenObjects([u],function(g){o.clipPath=g[0],o.__setupCanvas.call(o,p,c,a,i)}):o.__setupCanvas.call(o,p,c,a,i)})},h),this}},__setupCanvas:function(l,i,h,p){var o=this;i.forEach(function(u,a){o.insertAt(u,a)}),this.renderOnAddRemove=h,delete l.objects,delete l.backgroundImage,delete l.overlayImage,delete l.background,delete l.overlay,this._setOptions(l),this.renderAll(),p&&p()},_setBgOverlay:function(l,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!l.backgroundImage&&!l.overlayImage&&!l.background&&!l.overlay){i&&i();return}var p=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",l.backgroundImage,h,p),this.__setBgOverlay("overlayImage",l.overlayImage,h,p),this.__setBgOverlay("backgroundColor",l.background,h,p),this.__setBgOverlay("overlayColor",l.overlay,h,p)},__setBgOverlay:function(l,i,h,p){var o=this;if(!i){h[l]=!0,p&&p();return}l==="backgroundImage"||l==="overlayImage"?e.util.enlivenObjects([i],function(u){o[l]=u[0],h[l]=!0,p&&p()}):this["set"+e.util.string.capitalize(l,!0)](i,function(){h[l]=!0,p&&p()})},_enlivenObjects:function(l,i,h){if(!l||l.length===0){i&&i([]);return}e.util.enlivenObjects(l,function(p){i&&i(p)},null,h)},_toDataURL:function(l,i){this.clone(function(h){i(h.toDataURL(l))})},_toDataURLWithMultiplier:function(l,i,h){this.clone(function(p){h(p.toDataURLWithMultiplier(l,i))})},clone:function(l,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(p){p.loadFromJSON(h,function(){l&&l(p)})})},cloneWithoutData:function(l){var i=e.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new e.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),l&&l(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):l&&l(h)}}),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.util.object.clone,o=i.util.toFixed,u=i.util.string.capitalize,a=i.util.degreesToRadians,c=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var m=i.perfLimitSizeTotal,v=f.width,_=f.height,w=i.maxCacheSideLimit,x=i.minCacheSideLimit;if(v<=w&&_<=w&&v*_<=m)return v<x&&(f.width=x),_<x&&(f.height=x),f;var C=v/_,S=i.util.limitDimsByArea(C,m),T=i.util.capValue,I=T(x,S.x,w),z=T(x,S.y,w);return v>I&&(f.zoomX/=v/I,f.width=I,f.capped=!0),_>z&&(f.zoomY/=_/z,f.height=z,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),v=m.x*f.scaleX/this.scaleX,_=m.y*f.scaleY/this.scaleY;return{width:v+g,height:_+g,zoomX:f.scaleX,zoomY:f.scaleY,x:v,y:_}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var m=f._currentTransform.target,v=f._currentTransform.action;if(this===m&&v.slice&&v.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),x=i.minCacheSideLimit,C=w.width,S=w.height,T,I,z=w.zoomX,q=w.zoomY,V=C!==this.cacheWidth||S!==this.cacheHeight,Q=this.zoomX!==z||this.zoomY!==q,X=V||Q,ee=0,ne=0,ue=!1;if(V){var W=this._cacheCanvas.width,b=this._cacheCanvas.height,P=C>W||S>b,A=(C<W*.9||S<b*.9)&&W>x&&b>x;ue=P||A,P&&!w.capped&&(C>x||S>x)&&(ee=C*.1,ne=S*.1)}return this instanceof i.Text&&this.path&&(X=!0,ue=!0,ee+=this.getHeightOfLine(0)*this.zoomX,ne+=this.getHeightOfLine(0)*this.zoomY),X?(ue?(_.width=Math.ceil(C+ee),_.height=Math.ceil(S+ne)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),T=w.x/2,I=w.y/2,this.cacheTranslationX=Math.round(_.width/2-T)+T,this.cacheTranslationY=Math.round(_.height/2-I)+I,this.cacheWidth=C,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(z,q),this.zoomX=z,this.zoomY=q,!0):!1},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,v=this.calcTransformMatrix(!m);f.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(f){var m=i.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,m),top:o(this.top,m),width:o(this.width,m),height:o(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,m),scaleX:o(this.scaleX,m),scaleY:o(this.scaleY,m),angle:o(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,m),skewY:o(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(f),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,v,f),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var m=i.util.getKlass(f.type).prototype,v=m.stateProperties;return v.forEach(function(_){_==="left"||_==="top"||(f[_]===m[_]&&delete f[_],Array.isArray(f[_])&&Array.isArray(m[_])&&f[_].length===0&&m[_].length===0&&delete f[_])}),f},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),m=f.scaleX,v=f.scaleY;if(this.canvas){var _=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();m*=_*w,v*=_*w}return{scaleX:m,scaleY:v}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,m){var v=f==="scaleX"||f==="scaleY",_=this[f]!==m,w=!1;return v&&(m=this._constrainScale(m)),f==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):f==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):f==="shadow"&&m&&!(m instanceof i.Shadow)?m=new i.Shadow(m):f==="dirty"&&this.group&&this.group.set("dirty",m),this[f]=m,_&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(f,m){if(f.save(),m.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",m.absolutePositioned){var v=i.util.invertTransform(this.calcTransformMatrix());f.transform(v[0],v[1],v[2],v[3],v[4],v[5])}m.transform(f),f.scale(1/m.zoomX,1/m.zoomY),f.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),f.restore()},drawObject:function(f,m){var v=this.fill,_=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=v,this.stroke=_},_drawClipPath:function(f,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,m))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var m=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-v/2,m,v)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var m=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,m){var v=m.stroke;v&&(f.lineWidth=m.strokeWidth,f.lineCap=m.strokeLineCap,f.lineDashOffset=m.strokeDashOffset,f.lineJoin=m.strokeLineJoin,f.miterLimit=m.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(f,v):(f.strokeStyle=v.toLive(f,this),this._applyPatternGradientTransform(f,v)):f.strokeStyle=m.stroke)},_setFillStyles:function(f,m){var v=m.fill;v&&(v.toLive?(f.fillStyle=v.toLive(f,this),this._applyPatternGradientTransform(f,m.fill)):f.fillStyle=v)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),f.setLineDash(m))},_renderControls:function(f,m){var v=this.getViewportTransform(),_=this.calcTransformMatrix(),w,x,C;m=m||{},x=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,C=typeof m.hasControls<"u"?m.hasControls:this.hasControls,_=i.util.multiplyTransformMatrices(v,_),w=i.util.qrDecompose(_),f.save(),f.translate(w.translateX,w.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),f.rotate(a(this.group?w.angle:this.angle)),m.forActiveSelection||this.group?x&&this.drawBordersInGroup(f,w,m):x&&this.drawBorders(f,m),C&&this.drawControls(f,m),f.restore()},_setShadow:function(f){if(this.shadow){var m=this.shadow,v=this.canvas,_,w=v&&v.viewportTransform[0]||1,x=v&&v.viewportTransform[3]||1;m.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),v&&v._isRetinaScaling()&&(w*=i.devicePixelRatio,x*=i.devicePixelRatio),f.shadowColor=m.color,f.shadowBlur=m.blur*i.browserShadowBlurConstant*(w+x)*(_.scaleX+_.scaleY)/4,f.shadowOffsetX=m.offsetX*w*_.scaleX,f.shadowOffsetY=m.offsetY*x*_.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var v=m.gradientTransform||m.patternTransform,_=-this.width/2+m.offsetX||0,w=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,_,w):f.transform(1,0,0,1,_,w),v&&f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:_,offsetY:w}},_renderPaintInOrder:function(f){this.paintFirst==="stroke"?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();f.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,m){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),_=i.util.createCanvasElement(),w,x=this.canvas.getRetinaScaling(),C=v.x/this.scaleX/x,S=v.y/this.scaleY/x;_.width=C,_.height=S,w=_.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(C,0),w.lineTo(C,S),w.lineTo(0,S),w.closePath(),w.translate(C/2,S/2),w.scale(v.zoomX/this.scaleX/x,v.zoomY/this.scaleY/x),this._applyPatternGradientTransform(w,m),w.fillStyle=m.toLive(f),w.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(x*this.scaleX/v.zoomX,x*this.scaleY/v.zoomY),f.strokeStyle=w.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=i.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,m.x+=f.offsetLeft,m.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(m,"center","center")},clone:function(f,m){var v=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(v,f):i.Object._fromObject("Object",v,f)},cloneAsImage:function(f,m){var v=this.toCanvasElement(m);return f&&f(new i.Image(v)),this},toCanvasElement:function(f){f||(f={});var m=i.util,v=m.saveObjectTransform(this),_=this.group,w=this.shadow,x=Math.abs,C=(f.multiplier||1)*(f.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,f.withoutTransform&&m.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),T=this.getBoundingRect(!0,!0),I=this.shadow,z,q={x:0,y:0},V,Q,X;I&&(V=I.blur,I.nonScaling?z={scaleX:1,scaleY:1}:z=this.getObjectScaling(),q.x=2*Math.round(x(I.offsetX)+V)*x(z.scaleX),q.y=2*Math.round(x(I.offsetY)+V)*x(z.scaleY)),Q=T.width+q.x,X=T.height+q.y,S.width=Math.ceil(Q),S.height=Math.ceil(X);var ee=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});f.format==="jpeg"&&(ee.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ee.width/2,ee.height/2),"center","center");var ne=this.canvas;ee.add(this);var ue=ee.toCanvasElement(C||1,f);return this.shadow=w,this.set("canvas",ne),_&&(this.group=_),this.set(v).setCoords(),ee._objects=[],ee.dispose(),ee=null,ue},toDataURL:function(f){return f||(f={}),i.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",f),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,m){m=m||this.canvas.getPointer(f);var v=new i.Point(m.x,m.y),_=this._getLeftTopCoords();return this.angle&&(v=i.util.rotatePoint(v,_,a(-this.angle))),{x:v.x-_.x,y:v.y-_.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(f,m,v,_){var w=i[f];m=p(m,!0),i.util.enlivenPatterns([m.fill,m.stroke],function(x){typeof x[0]<"u"&&(m.fill=x[0]),typeof x[1]<"u"&&(m.stroke=x[1]),i.util.enlivenObjectEnlivables(m,m,function(){var C=_?new w(m[_],m):new w(m);v&&v(C)})})},i.Object.__uid=0)}(t),function(){var l=e.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(p,o,u,a,c){var g=p.x,f=p.y,m,v,_;return typeof o=="string"?o=i[o]:o-=.5,typeof a=="string"?a=i[a]:a-=.5,m=a-o,typeof u=="string"?u=h[u]:u-=.5,typeof c=="string"?c=h[c]:c-=.5,v=c-u,(m||v)&&(_=this._getTransformedDimensions(),g=p.x+m*_.x,f=p.y+v*_.y),new e.Point(g,f)},translateToCenterPoint:function(p,o,u){var a=this.translateToGivenOrigin(p,o,u,"center","center");return this.angle?e.util.rotatePoint(a,p,l(this.angle)):a},translateToOriginPoint:function(p,o,u){var a=this.translateToGivenOrigin(p,"center","center",o,u);return this.angle?e.util.rotatePoint(a,p,l(this.angle)):a},getCenterPoint:function(){var p=new e.Point(this.left,this.top);return this.translateToCenterPoint(p,this.originX,this.originY)},getPointByOrigin:function(p,o){var u=this.getCenterPoint();return this.translateToOriginPoint(u,p,o)},toLocalPoint:function(p,o,u){var a=this.getCenterPoint(),c,g;return typeof o<"u"&&typeof u<"u"?c=this.translateToGivenOrigin(a,"center","center",o,u):c=new e.Point(this.left,this.top),g=new e.Point(p.x,p.y),this.angle&&(g=e.util.rotatePoint(g,a,-l(this.angle))),g.subtractEquals(c)},setPositionByOrigin:function(p,o,u){var a=this.translateToCenterPoint(p,o,u),c=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(p){var o=l(this.angle),u=this.getScaledWidth(),a=e.util.cos(o)*u,c=e.util.sin(o)*u,g,f;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof p=="string"?f=i[p]:f=p-.5,this.left+=a*(f-g),this.top+=c*(f-g),this.setCoords(),this.originX=p},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var p=this.getCenterPoint();this.originX="center",this.originY="center",this.left=p.x,this.top=p.y},_resetOrigin:function(){var p=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=p.x,this.top=p.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function l(u){return[new e.Point(u.tl.x,u.tl.y),new e.Point(u.tr.x,u.tr.y),new e.Point(u.br.x,u.br.y),new e.Point(u.bl.x,u.bl.y)]}var i=e.util,h=i.degreesToRadians,p=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,a){return a?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,a){return l(this._getCoords(u,a))},intersectsWithRect:function(u,a,c,g){var f=this.getCoords(c,g),m=e.Intersection.intersectPolygonRectangle(f,u,a);return m.status==="Intersection"},intersectsWithObject:function(u,a,c){var g=e.Intersection.intersectPolygonPolygon(this.getCoords(a,c),u.getCoords(a,c));return g.status==="Intersection"||u.isContainedWithinObject(this,a,c)||this.isContainedWithinObject(u,a,c)},isContainedWithinObject:function(u,a,c){for(var g=this.getCoords(a,c),f=a?u.aCoords:u.lineCoords,m=0,v=u._getImageLines(f);m<4;m++)if(!u.containsPoint(g[m],v))return!1;return!0},isContainedWithinRect:function(u,a,c,g){var f=this.getBoundingRect(c,g);return f.left>=u.x&&f.left+f.width<=a.x&&f.top>=u.y&&f.top+f.height<=a.y},containsPoint:function(u,m,c,g){var f=this._getCoords(c,g),m=m||this._getImageLines(f),v=this._findCrossPoints(u,m);return v!==0&&v%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,g=this.getCoords(!0,u);return g.some(function(f){return f.x<=c.x&&f.x>=a.x&&f.y<=c.y&&f.y>=a.y})||this.intersectsWithRect(a,c,!0,u)?!0:this._containsCenterOfCanvas(a,c,u)},_containsCenterOfCanvas:function(u,a,c){var g={x:(u.x+a.x)/2,y:(u.y+a.y)/2};return!!this.containsPoint(g,null,!0,c)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,c,!0,u))return!0;var g=this.getCoords(!0,u).every(function(f){return(f.x>=c.x||f.x<=a.x)&&(f.y>=c.y||f.y<=a.y)});return g&&this._containsCenterOfCanvas(a,c,u)},_getImageLines:function(u){var a={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return a},_findCrossPoints:function(u,a){var c,g,f,m,v,_=0,w;for(var x in a)if(w=a[x],!(w.o.y<u.y&&w.d.y<u.y)&&!(w.o.y>=u.y&&w.d.y>=u.y)&&(w.o.x===w.d.x&&w.o.x>=u.x?v=w.o.x:(c=0,g=(w.d.y-w.o.y)/(w.d.x-w.o.x),f=u.y-c*u.x,m=w.o.y-g*w.o.x,v=-(f-m)/(c-g)),v>=u.x&&(_+=1),_===2))break;return _},getBoundingRect:function(u,a){var c=this.getCoords(u,a);return i.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,a){var c=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(u/this.width/c)},scaleToHeight:function(u,a){var c=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(u/this.height/c)},calcLineCoords:function(){var u=this.getViewportTransform(),a=this.padding,c=h(this.angle),g=i.cos(c),f=i.sin(c),m=g*a,v=f*a,_=m+v,w=m-v,x=this.calcACoords(),C={tl:o(x.tl,u),tr:o(x.tr,u),bl:o(x.bl,u),br:o(x.br,u)};return a&&(C.tl.x-=w,C.tl.y-=_,C.tr.x+=_,C.tr.y-=w,C.bl.x-=_,C.bl.y+=w,C.br.x+=w,C.br.y+=_),C},calcOCoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=this.getViewportTransform(),g=p(c,a),f=p(g,u),f=p(f,[1/c[0],0,0,1/c[3],0,0]),m=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(_,w,x){v[w]=_.positionHandler(m,f,x)}),v},calcACoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),c=p(a,u),g=this._getTransformedDimensions(),f=g.x/2,m=g.y/2;return{tl:o({x:-f,y:-m},c),tr:o({x:f,y:-m},c),bl:o({x:-f,y:m},c),br:o({x:f,y:m},c)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var a="_",c="";return!u&&this.group&&(c=this.group.transformMatrixKey(u)+a),c+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var a=this.calcOwnMatrix();if(u||!this.group)return a;var c=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===c?g.value:(this.group&&(a=p(this.group.calcTransformMatrix(!1),a)),g.key=c,g.value=a,a)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===u)return a.value;var c=this._calcTranslateMatrix(),g={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=u,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,a=this.width+u,c=this.height+u;return{x:a,y:c}},_getTransformedDimensions:function(u,a){typeof u>"u"&&(u=this.skewX),typeof a>"u"&&(a=this.skewY);var c,g,f,m=u===0&&a===0;if(this.strokeUniform?(g=this.width,f=this.height):(c=this._getNonTransformedDimensions(),g=c.x,f=c.y),m)return this._finalizeDimensions(g*this.scaleX,f*this.scaleY);var v=i.sizeAfterTransform(g,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:a});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(u,a){return this.strokeUniform?{x:u+this.strokeWidth,y:a+this.strokeWidth}:{x:u,y:a}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),a=this._getTransformedDimensions(),c=o(a,u,!0);return c.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(l){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,l):this.canvas&&this.canvas.sendBackwards(this,l),this},bringForward:function(l){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,l):this.canvas&&this.canvas.bringForward(this,l),this},moveTo:function(l){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,l):this.canvas&&this.canvas.moveTo(this,l),this}}),function(){function l(h,p){if(p){if(p.toLive)return h+": url(#SVGID_"+p.id+"); ";var o=new e.Color(p),u=h+": "+o.toRgb()+"; ",a=o.getAlpha();return a!==1&&(u+=h+"-opacity: "+a.toString()+"; "),u}else return h+": none; "}var i=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(h){var p=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),w=l("fill",this.fill),x=l("stroke",this.stroke);return[x,"stroke-width: ",o,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",f,"; ",w,"fill-rule: ",p,"; ","opacity: ",m,";",_,v].join("")},getSvgSpanStyles:function(h,p){var o="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",u=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",a=a,c=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",g=h.fontStyle?"font-style: "+h.fontStyle+o:"",f=h.fontWeight?"font-weight: "+h.fontWeight+o:"",m=h.fill?l("fill",h.fill):"",v=h.stroke?l("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),w=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+o),[v,u,a,c,g,f,_,m,w,p?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(p){return h[p.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,p){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+e.util.matrixToSVG(o);return u+(p||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var p=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,p),'" y="',i(-this.height/2,p),'" width="',i(this.width,p),'" height="',i(this.height,p),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,p){p=p||{};var o=p.reviver,u=p.additionalTransform||"",a=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=a,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,p){p=p||{};var o=p.noStyle,u=p.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',c=p.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,v=this.stroke,_=this.fill,w=this.shadow,x,C=[],S,T=h.indexOf("COMMON_PARTS"),I=p.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+e.Object.__uid++,S='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(u)+`</clipPath>
`),m&&C.push("<g ",c,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),m?"":c+this.getSvgCommons(),` >
`),x=[a,f,o?"":this.addPaintOrder()," ",I?'transform="'+I+'" ':""].join(""),h[T]=x,_&&_.toLive&&C.push(_.toSVG(this)),v&&v.toLive&&C.push(v.toSVG(this)),w&&C.push(w.toSVG(this)),g&&C.push(S),C.push(h.join("")),C.push(`</g>
`),m&&C.push(`</g>
`),u?u(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var l=e.util.object.extend,i="stateProperties";function h(o,u,a){var c={},g=!0;a.forEach(function(f){c[f]=o[f]}),l(o[u],c,g)}function p(o,u,a){if(o===u)return!0;if(Array.isArray(o)){if(!Array.isArray(u)||o.length!==u.length)return!1;for(var c=0,g=o.length;c<g;c++)if(!p(o[c],u[c]))return!1;return!0}else if(o&&typeof o=="object"){var f=Object.keys(o),m;if(!u||typeof u!="object"||!a&&f.length!==Object.keys(u).length)return!1;for(var c=0,g=f.length;c<g;c++)if(m=f[c],!(m==="canvas"||m==="group")&&!p(o[m],u[m]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(o){o=o||i;var u="_"+o;return Object.keys(this[u]).length<this[o].length?!0:!p(this[u],this,!0)},saveState:function(o){var u=o&&o.propertySet||i,a="_"+u;return this[a]?(h(this,a,this[u]),o&&o.stateProperties&&h(this,a,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var u=o.propertySet||i;return o.propertySet=u,this["_"+u]={},this.saveState(o),this}})}(),function(){var l=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var p=i.x,o=i.y,u,a,c=Object.keys(this.oCoords),g=c.length-1,f;for(this.__corner=0;g>=0;g--)if(f=c[g],!!this.isControlVisible(f)&&(a=this._getImageLines(h?this.oCoords[f].touchCorner:this.oCoords[f].corner),u=this._findCrossPoints({x:p,y:o},a),u!==0&&u%2===1))return this.__corner=f,f;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var p=this.controls[h];i[h].corner=p.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=p.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),p=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(l(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-p.x/2,-p.y/2,p.x,p.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var p=this._calculateCurrentDimensions(),o=this.borderScaleFactor,u=p.x+o,a=p.y+o,c=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-u/2,-a/2,u,a),c&&(i.beginPath(),this.forEachControl(function(f,m,v){f.withConnection&&f.getVisibility(v,m)&&(g=!0,i.moveTo(f.x*u,f.y*a),i.lineTo(f.x*u+f.offsetX,f.y*a+f.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,p){p=p||{};var o=e.util.sizeAfterTransform(this.width,this.height,h),u=this.strokeWidth,a=this.strokeUniform,c=this.borderScaleFactor,g=o.x+u*(a?this.canvas.getZoom():h.scaleX)+c,f=o.y+u*(a?this.canvas.getZoom():h.scaleY)+c;return i.save(),this._setLineDash(i,p.borderDashArray||this.borderDashArray),i.strokeStyle=p.borderColor||this.borderColor,i.strokeRect(-g/2,-f/2,g,f),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var p=this.canvas.getRetinaScaling(),o,u;return i.setTransform(p,0,0,p,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(a,c,g){u=g.oCoords[c],a.getVisibility(g,c)&&(o&&(u=e.util.transformPoint(u,o)),a.render(i,u.x,u.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(l,i){i=i||{};var h=function(){},p=i.onComplete||h,o=i.onChange||h,u=this;return e.util.animate({target:this,startValue:l.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){l.set("left",a),u.requestRenderAll(),o()},onComplete:function(){l.setCoords(),p()}})},fxCenterObjectV:function(l,i){i=i||{};var h=function(){},p=i.onComplete||h,o=i.onChange||h,u=this;return e.util.animate({target:this,startValue:l.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){l.set("top",a),u.requestRenderAll(),o()},onComplete:function(){l.setCoords(),p()}})},fxRemove:function(l,i){i=i||{};var h=function(){},p=i.onComplete||h,o=i.onChange||h,u=this;return e.util.animate({target:this,startValue:l.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){l.set("opacity",a),u.requestRenderAll(),o()},onComplete:function(){u.remove(l),p()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var l=[],i,h,p=[];for(i in arguments[0])l.push(i);for(var o=0,u=l.length;o<u;o++)i=l[o],h=o!==u-1,p.push(this._animate(i,arguments[0][i],arguments[1],h));return p}else return this._animate.apply(this,arguments)},_animate:function(l,i,h,p){var o=this,u;i=i.toString(),h?h=e.util.object.clone(h):h={},~l.indexOf(".")&&(u=l.split("."));var a=o.colorProperties.indexOf(l)>-1||u&&o.colorProperties.indexOf(u[1])>-1,c=u?this.get(u[0])[u[1]]:this.get(l);"from"in h||(h.from=c),a||(~i.indexOf("=")?i=c+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(f,m,v){return h.abort.call(o,f,m,v)},onChange:function(f,m,v){u?o[u[0]][u[1]]=f:o.set(l,f),!p&&h.onChange&&h.onChange(f,m,v)},onComplete:function(f,m,v){p||(o.setCoords(),h.onComplete&&h.onComplete(f,m,v))}};return a?e.util.animateColor(g.startValue,g.endValue,g.duration,g):e.util.animate(g)}}),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,c){a||(a=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(c)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,c){return this.callSuper("_set",a,c),typeof o[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var c=this.calcLinePoints();a.moveTo(c.x1,c.y1),a.lineTo(c.x2,c.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,g=a*this.width*.5,f=c*this.height*.5,m=a*this.width*-.5,v=c*this.height*-.5;return{x1:g,x2:m,y1:f,y2:v}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,c,g){g=g||{};var f=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),m=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];c(new i.Line(m,h(f,g)))},i.Line.fromObject=function(a,c){function g(m){delete m.points,c&&c(m)}var f=p(a,!0);f.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",f,g,"points")};function u(a,c){var g=a.origin,f=a.axis1,m=a.axis2,v=a.dimension,_=c.nearest,w=c.center,x=c.farthest;return function(){switch(this.get(g)){case _:return Math.min(this.get(f),this.get(m));case w:return Math.min(this.get(f),this.get(m))+.5*this.get(v);case x:return Math.max(this.get(f),this.get(m))}}}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,u){return this.callSuper("_set",o,u),o==="radius"&&this.setRadius(u),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,u=0,a=0,c=(this.endAngle-this.startAngle)%360;if(c===0)o=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),f=h(this.endAngle),m=this.radius,v=i.util.cos(g)*m,_=i.util.sin(g)*m,w=i.util.cos(f)*m,x=i.util.sin(f)*m,C=c>180?"1":"0";o=['<path d="M '+v+" "+_," A "+m+" "+m," 0 ",+C+" 1"," "+w+" "+x,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,u){var a=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!p(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,u(new i.Circle(a))};function p(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,u){i.Object._fromObject("Circle",o,u)}}(t),function(l){var i=l.fabric||(l.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var p=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-p,o),h.lineTo(0,-o),h.lineTo(p,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,p=this.height/2,o=[-h+" "+p,"0 "+-p,h+" "+p].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,p){return i.Object._fromObject("Triangle",h,p)}}(t),function(l){var i=l.fabric||(l.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(p){this.callSuper("initialize",p),this.set("rx",p&&p.rx||0),this.set("ry",p&&p.ry||0)},_set:function(p,o){switch(this.callSuper("_set",p,o),p){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(p){return this.callSuper("toObject",["rx","ry"].concat(p))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(p){p.beginPath(),p.save(),p.transform(1,0,0,this.ry/this.rx,0,0),p.arc(0,0,this.rx,0,h,!1),p.restore(),this._renderPaintInOrder(p)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(p,o){var u=i.parseAttributes(p,i.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,o(new i.Ellipse(u))},i.Ellipse.fromObject=function(p,o){i.Object._fromObject("Ellipse",p,o)}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(p){this.callSuper("initialize",p),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(p){var o=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,c=this.height,g=-this.width/2,f=-this.height/2,m=o!==0||u!==0,v=1-.5522847498;p.beginPath(),p.moveTo(g+o,f),p.lineTo(g+a-o,f),m&&p.bezierCurveTo(g+a-v*o,f,g+a,f+v*u,g+a,f+u),p.lineTo(g+a,f+c-u),m&&p.bezierCurveTo(g+a,f+c-v*u,g+a-v*o,f+c,g+a-o,f+c),p.lineTo(g+o,f+c),m&&p.bezierCurveTo(g+v*o,f+c,g,f+c-v*u,g,f+c-u),p.lineTo(g,f+u),m&&p.bezierCurveTo(g,f+v*u,g+v*o,f,g+o,f),p.closePath(),this._renderPaintInOrder(p)},toObject:function(p){return this.callSuper("toObject",["rx","ry"].concat(p))},_toSVG:function(){var p=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',p,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(p,o,u){if(!p)return o(null);u=u||{};var a=i.parseAttributes(p,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var c=new i.Rect(h(u?i.util.object.clone(u):{},a));c.visible=c.visible&&c.width>0&&c.height>0,o(c)},i.Rect.fromObject=function(p,o){return i.Object._fromObject("Rect",p,o)}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.util.array.min,o=i.util.array.max,u=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(c,g){g=g||{},this.points=c||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(c){var g=this._calcDimensions(c),f,m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,c.fromSVG||(f=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof c.left>"u"&&(this.left=c.fromSVG?g.left:f.x),typeof c.top>"u"&&(this.top=c.fromSVG?g.top:f.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=p(c,"x")||0,f=p(c,"y")||0,m=o(c,"x")||0,v=o(c,"y")||0,_=m-g,w=v-f;return{left:g,top:f,width:_,height:w}},toObject:function(c){return h(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],g=this.pathOffset.x,f=this.pathOffset.y,m=i.Object.NUM_FRACTION_DIGITS,v=0,_=this.points.length;v<_;v++)c.push(u(this.points[v].x-g,m),",",u(this.points[v].y-f,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var g,f=this.points.length,m=this.pathOffset.x,v=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-m,this.points[0].y-v);for(var _=0;_<f;_++)g=this.points[_],c.lineTo(g.x-m,g.y-v);return!0},_render:function(c){this.commonRender(c)&&this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(c){return function(g,f,m){if(!g)return f(null);m||(m={});var v=i.parsePointsAttribute(g.getAttribute("points")),_=i.parseAttributes(g,i[c].ATTRIBUTE_NAMES);_.fromSVG=!0,f(new i[c](v,h(_,m)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(c,g){return i.Object._fromObject("Polyline",c,g,"points")}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(p){this.commonRender(p)&&(p.closePath(),this._renderPaintInOrder(p))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(p,o){i.Object._fromObject("Polygon",p,o,"points")}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.array.min,p=i.util.array.max,o=i.util.object.extend,u=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(c,g){g=u(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(c||[],g)},_setPath:function(c,g){this.path=i.util.makePathSimpler(Array.isArray(c)?c:i.util.parsePath(c)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(c){var g,f=0,m=0,v=0,_=0,w=0,x=0,C=-this.pathOffset.x,S=-this.pathOffset.y;c.beginPath();for(var T=0,I=this.path.length;T<I;++T)switch(g=this.path[T],g[0]){case"L":v=g[1],_=g[2],c.lineTo(v+C,_+S);break;case"M":v=g[1],_=g[2],f=v,m=_,c.moveTo(v+C,_+S);break;case"C":v=g[5],_=g[6],w=g[3],x=g[4],c.bezierCurveTo(g[1]+C,g[2]+S,w+C,x+S,v+C,_+S);break;case"Q":c.quadraticCurveTo(g[1]+C,g[2]+S,g[3]+C,g[4]+S),v=g[3],_=g[4],w=g[1],x=g[2];break;case"z":case"Z":v=f,_=m,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return o(this.callSuper("toObject",c),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(c){var g=this.toObject(["sourcePath"].concat(c));return g.sourcePath&&delete g.path,g},_toSVG:function(){var c=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,c)+", "+a(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},toSVG:function(c){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],g=[],f,m=0,v=0,_=0,w=0,x,C=0,S=this.path.length;C<S;++C){switch(f=this.path[C],f[0]){case"L":_=f[1],w=f[2],x=[];break;case"M":_=f[1],w=f[2],m=_,v=w,x=[];break;case"C":x=i.util.getBoundsOfCurve(_,w,f[1],f[2],f[3],f[4],f[5],f[6]),_=f[5],w=f[6];break;case"Q":x=i.util.getBoundsOfCurve(_,w,f[1],f[2],f[1],f[2],f[3],f[4]),_=f[3],w=f[4];break;case"z":case"Z":_=m,w=v;break}x.forEach(function(X){c.push(X.x),g.push(X.y)}),c.push(_),g.push(w)}var T=h(c)||0,I=h(g)||0,z=p(c)||0,q=p(g)||0,V=z-T,Q=q-I;return{left:T,top:I,width:V,height:Q}}}),i.Path.fromObject=function(c,g){if(typeof c.sourcePath=="string"){var f=c.sourcePath;i.loadSVGFromURL(f,function(m){var v=m[0];v.setOptions(c),c.clipPath?i.util.enlivenObjects([c.clipPath],function(_){v.clipPath=_[0],g&&g(v)}):g&&g(v)})}else i.Object._fromObject("Path",c,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(c,g,f){var m=i.parseAttributes(c,i.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new i.Path(m.d,o(m,f)))}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.array.min,p=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,u,a){u=u||{},this._objects=[],a&&this.callSuper("initialize",u),this._objects=o||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(a)this._updateObjectsACoords();else{var g=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,u=this._objects.length;u--;)this._objects[u].setCoords(o)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],u)},_updateObjectCoords:function(o,u){var a=o.left,c=o.top,g=!0;o.set({left:a-u.x,top:c-u.y}),o.group=this,o.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var u=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(u&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,u){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(o,u);if(o==="canvas")for(;a--;)this._objects[a]._set(o,u);i.Object.prototype._set.call(this,o,u)},toObject:function(o){var u=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var f=g.includeDefaultValues;g.includeDefaultValues=u;var m=g.toObject(o);return g.includeDefaultValues=f,m}),c=i.Object.prototype.toObject.call(this,o);return c.objects=a,c},toDatalessObject:function(o){var u,a=this.sourcePath;if(a)u=a;else{var c=this.includeDefaultValues;u=this._objects.map(function(f){var m=f.includeDefaultValues;f.includeDefaultValues=c;var v=f.toDatalessObject(o);return f.includeDefaultValues=m,v})}var g=i.Object.prototype.toDatalessObject.call(this,o);return g.objects=u,g},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,u=this._objects.length;o<u;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var u=0,a=this._objects.length;u<a;u++)this._objects[u].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-g/2,c,g)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(u){i.util.addTransformToObject(u,o),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,u=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var c=new i.ActiveSelection([]);return c.set(a),c.type="activeSelection",u.remove(this),o.forEach(function(g){g.group=c,g.dirty=!0,u.add(g)}),c.canvas=u,c._objects=o,u._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(u){u.setCoords(o)}),this},_calcBounds:function(o){for(var u=[],a=[],c,g,f,m=["tr","br","bl","tl"],v=0,_=this._objects.length,w,x=m.length;v<_;++v){for(c=this._objects[v],f=c.calcACoords(),w=0;w<x;w++)g=m[w],u.push(f[g].x),a.push(f[g].y);c.aCoords=f}this._getBounds(u,a,o)},_getBounds:function(o,u,a){var c=new i.Point(h(o),h(u)),g=new i.Point(p(o),p(u)),f=c.y||0,m=c.x||0,v=g.x-c.x||0,_=g.y-c.y||0;this.width=v,this.height=_,a||this.setPositionByOrigin({x:m,y:f},"left","top")},_toSVG:function(o){for(var u=["<g ","COMMON_PARTS",` >
`],a=0,c=this._objects.length;a<c;a++)u.push("		",this._objects[a].toSVG(o));return u.push(`</g>
`),u},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),u].join("")},toClipPathSVG:function(o){for(var u=[],a=0,c=this._objects.length;a<c;a++)u.push("	",this._objects[a].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(u,{reviver:o})}}),i.Group.fromObject=function(o,u){var a=o.objects,c=i.util.object.clone(o,!0);if(delete c.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var f=i.util.groupSVGElements(g,o,a),m=c.clipPath;delete c.clipPath,f.set(c),m?i.util.enlivenObjects([m],function(v){f.clipPath=v[0],u&&u(f)}):u&&u(f)});return}i.util.enlivenObjects(a,function(g){i.util.enlivenObjectEnlivables(o,c,function(){u&&u(new i.Group(g,c,!0))})})})}(t),function(l){var i=l.fabric||(l.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,p){p=p||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;p.originX&&(this.originX=p.originX),p.originY&&(this.originY=p.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,p),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var p=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete p.type,o.set(p),h.forEach(function(a){a.canvas.remove(a),a.group=o}),o._objects=h,!this.canvas)return o;var u=this.canvas;return u.add(o),u._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,p,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,p),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var u=0,a=this._objects.length;u<a;u++)this._objects[u]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,p){i.util.enlivenObjects(h.objects,function(o){delete h.objects,p&&p(new i.ActiveSelection(o,h,!0))})})}(t),function(l){var i=e.util.object.extend;if(l.fabric||(l.fabric={}),l.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,p){p||(p={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",p),this._initElement(h,p)},getElement:function(){return this._element||{}},setElement:function(h,p){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(p),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var p=e.filterBackend;p&&p.evictCachesForKey&&p.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){e.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var p=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-p,-o),h.lineTo(p,-o),h.lineTo(p,o),h.lineTo(-p,o),h.lineTo(-p,-o),h.closePath()}},toObject:function(h){var p=[];this.filters.forEach(function(u){u&&p.push(u.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:p});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],p=[],o,u=this._element,a=-this.width/2,c=-this.height/2,g="",f="";if(!u)return[];if(this.hasCrop()){var m=e.Object.__uid++;h.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+a+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),p.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',c-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,f,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,o=["	<rect ",'x="',a,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?h=h.concat(o,p):h=h.concat(p,o),h},getSrc:function(h){var p=h?this._element:this._originalElement;return p?p.toDataURL?p.toDataURL():this.srcFromAttribute?p.getAttribute("src"):p.src:this.src||""},setSrc:function(h,p,o){return e.util.loadImage(h,function(u,a){this.setElement(u,o),this._setWidthHeight(),p&&p(this,a)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,p=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),u=o.scaleX,a=o.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||u>p&&a>p){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=a;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var g=e.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=c.width,v=c.height;g.width=m,g.height=v,this._element=g,this._lastScaleX=h.scaleX=u,this._lastScaleY=h.scaleY=a,e.filterBackend.applyFilters([h],c,m,v,this._element,f),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var p=this._originalElement,o=p.naturalWidth||p.width,u=p.naturalHeight||p.height;if(this._element===this._originalElement){var a=e.util.createCanvasElement();a.width=o,a.height=u,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,u),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(h,this._originalElement,o,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var p=this._element;if(p){var o=this._filterScalingX,u=this._filterScalingY,a=this.width,c=this.height,g=Math.min,f=Math.max,m=f(this.cropX,0),v=f(this.cropY,0),_=p.naturalWidth||p.width,w=p.naturalHeight||p.height,x=m*o,C=v*u,S=g(a*o,_-x),T=g(c*u,w-C),I=-a/2,z=-c/2,q=g(a,_/o-m),V=g(c,w/u-v);p&&h.drawImage(p,x,C,S,T,I,z,q,V)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,p){this.setElement(e.util.getById(h),p),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,p){h&&h.length?e.util.enlivenObjects(h,function(o){p&&p(o)},"fabric.Image.filters"):p&&p()},_setWidthHeight:function(h){h||(h={});var p=this.getElement();this.width=h.width||p.naturalWidth||p.width||0,this.height=h.height||p.naturalHeight||p.height||0},parsePreserveAspectRatioAttribute:function(){var h=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),p=this._element.width,o=this._element.height,u=1,a=1,c=0,g=0,f=0,m=0,v,_=this.width,w=this.height,x={width:_,height:w};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(u=a=e.util.findScaleToFit(this._element,x),v=(_-p*u)/2,h.alignX==="Min"&&(c=-v),h.alignX==="Max"&&(c=v),v=(w-o*a)/2,h.alignY==="Min"&&(g=-v),h.alignY==="Max"&&(g=v)),h.meetOrSlice==="slice"&&(u=a=e.util.findScaleToCover(this._element,x),v=p-_/u,h.alignX==="Mid"&&(f=v/2),h.alignX==="Max"&&(f=v),v=o-w/a,h.alignY==="Mid"&&(m=v/2),h.alignY==="Max"&&(m=v),p=_/u,o=w/a)):(u=_/p,a=w/o),{width:p,height:o,scaleX:u,scaleY:a,offsetLeft:c,offsetTop:g,cropX:f,cropY:m}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(h,p){var o=e.util.object.clone(h);e.util.loadImage(o.src,function(u,a){if(a){p&&p(null,!0);return}e.Image.prototype._initFilters.call(o,o.filters,function(c){o.filters=c||[],e.Image.prototype._initFilters.call(o,[o.resizeFilter],function(g){o.resizeFilter=g[0],e.util.enlivenObjectEnlivables(o,o,function(){var f=new e.Image(u,o);p(f,!1)})})})},null,o.crossOrigin)},e.Image.fromURL=function(h,p,o){e.util.loadImage(h,function(u,a){p&&p(new e.Image(u,o),a)},null,o&&o.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(h,p,o){var u=e.parseAttributes(h,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(u["xlink:href"],p,i(o?e.util.object.clone(o):{},u))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var l=this.angle%360;return l>0?Math.round((l-1)/90)*90:Math.round(l/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(l){l=l||{};var i=function(){},h=l.onComplete||i,p=l.onChange||i,o=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){o.rotate(u),p()},onComplete:function(){o.setCoords(),h()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(l){return l.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(l){return l.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function l(h,p){var o="precision "+p+` float;
void main(){}`,u=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(u,o),h.compileShader(u),!!h.getShaderParameter(u,h.COMPILE_STATUS)}e.isWebglSupported=function(h){if(e.isLikelyNode)return!1;h=h||e.WebglFilterBackend.prototype.tileSize;var p=document.createElement("canvas"),o=p.getContext("webgl")||p.getContext("experimental-webgl"),u=!1;if(o){e.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),u=e.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],c=0;c<3;c++)if(l(o,a[c])){e.webGlPrecision=a[c];break}}return this.isSupported=u,u},e.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,p){this.dispose(),this.createWebGLCanvas(h,p),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,p)},chooseFastestCopyGLTo2DMethod:function(h,p){var o=typeof window.performance<"u",u;try{new ImageData(1,1),u=!0}catch{u=!1}var a=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(o&&u&&a&&c){var g=e.util.createCanvasElement(),f=new ArrayBuffer(h*p*4);if(e.forceGLPutImageData){this.imageBuffer=f,this.copyGLTo2D=y;return}var m={imageBuffer:f,destinationWidth:h,destinationHeight:p,targetCanvas:g},v,_,w;g.width=h,g.height=p,v=window.performance.now(),d.call(m,this.gl,m),_=window.performance.now()-v,v=window.performance.now(),y.call(m,this.gl,m),w=window.performance.now()-v,_>w?(this.imageBuffer=f,this.copyGLTo2D=y):this.copyGLTo2D=d}},createWebGLCanvas:function(h,p){var o=e.util.createCanvasElement();o.width=h,o.height=p;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=o.getContext("webgl",u);a||(a=o.getContext("experimental-webgl",u)),a&&(a.clearColor(0,0,0,0),this.canvas=o,this.gl=a)},applyFilters:function(h,p,o,u,a,c){var g=this.gl,f;c&&(f=this.getCachedTexture(c,p));var m={originalWidth:p.width||p.originalWidth,originalHeight:p.height||p.originalHeight,sourceWidth:o,sourceHeight:u,destinationWidth:o,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,o,u,!f&&p),targetTexture:this.createTexture(g,o,u),originalTexture:f||this.createTexture(g,o,u,!f&&p),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},v=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,v),h.forEach(function(_){_&&_.applyTo(m)}),s(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(v),a.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,p,o,u,a){var c=h.createTexture();return h.bindTexture(h.TEXTURE_2D,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,a||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),u?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,u):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,p,o,0,h.RGBA,h.UNSIGNED_BYTE,null),c},getCachedTexture:function(h,p){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,p.width,p.height,p);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:d,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,p={renderer:"",vendor:""};if(!h)return p;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var u=h.getParameter(o.UNMASKED_RENDERER_WEBGL),a=h.getParameter(o.UNMASKED_VENDOR_WEBGL);u&&(p.renderer=u.toLowerCase()),a&&(p.vendor=a.toLowerCase())}return this.gpuInfo=p,p}}}();function s(l){var i=l.targetCanvas,h=i.width,p=i.height,o=l.destinationWidth,u=l.destinationHeight;(h!==o||p!==u)&&(i.width=o,i.height=u)}function d(l,i){var h=l.canvas,p=i.targetCanvas,o=p.getContext("2d");o.translate(0,p.height),o.scale(1,-1);var u=h.height-p.height;o.drawImage(h,0,u,p.width,p.height,0,0,p.width,p.height)}function y(l,i){var h=i.targetCanvas,p=h.getContext("2d"),o=i.destinationWidth,u=i.destinationHeight,a=o*u*4,c=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);l.readPixels(0,0,o,u,l.RGBA,l.UNSIGNED_BYTE,c);var f=new ImageData(g,o,u);p.putImageData(f,0,0)}(function(){var l=function(){};e.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:l,dispose:l,clearWebGLCaches:l,resources:{},applyFilters:function(h,p,o,u,a){var c=a.getContext("2d");c.drawImage(p,0,0,o,u);var g=c.getImageData(0,0,o,u),f=c.getImageData(0,0,o,u),m={sourceWidth:o,sourceHeight:u,imageData:g,originalEl:p,originalImageData:f,canvasEl:a,ctx:c,filterBackend:this};return h.forEach(function(v){v.applyTo(m)}),(m.imageData.width!==o||m.imageData.height!==u)&&(a.width=m.imageData.width,a.height=m.imageData.height),c.putImageData(m.imageData,0,0),m}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(l){l&&this.setOptions(l)},setOptions:function(l){for(var i in l)this[i]=l[i]},createProgram:function(l,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,e.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var p=l.createShader(l.VERTEX_SHADER);if(l.shaderSource(p,h),l.compileShader(p),!l.getShaderParameter(p,l.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+l.getShaderInfoLog(p));var o=l.createShader(l.FRAGMENT_SHADER);if(l.shaderSource(o,i),l.compileShader(o),!l.getShaderParameter(o,l.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+l.getShaderInfoLog(o));var u=l.createProgram();if(l.attachShader(u,p),l.attachShader(u,o),l.linkProgram(u),!l.getProgramParameter(u,l.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+l.getProgramInfoLog(u));var a=this.getAttributeLocations(l,u),c=this.getUniformLocations(l,u)||{};return c.uStepW=l.getUniformLocation(u,"uStepW"),c.uStepH=l.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:a,uniformLocations:c}},getAttributeLocations:function(l,i){return{aPosition:l.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(l,i,h){var p=i.aPosition,o=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,o),l.enableVertexAttribArray(p),l.vertexAttribPointer(p,2,l.FLOAT,!1,0,0),l.bufferData(l.ARRAY_BUFFER,h,l.STATIC_DRAW)},_setupFrameBuffer:function(l){var i=l.context,h,p;l.passes>1?(h=l.destinationWidth,p=l.destinationHeight,(l.sourceWidth!==h||l.sourceHeight!==p)&&(i.deleteTexture(l.targetTexture),l.targetTexture=l.filterBackend.createTexture(i,h,p)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,l.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(l){l.passes--,l.pass++;var i=l.targetTexture;l.targetTexture=l.sourceTexture,l.sourceTexture=i},isNeutralState:function(){var l=this.mainParameter,i=e.Image.filters[this.type].prototype;if(l)if(Array.isArray(i[l])){for(var h=i[l].length;h--;)if(this[l][h]!==i[l][h])return!1;return!0}else return i[l]===this[l];else return!1},applyTo:function(l){l.webgl?(this._setupFrameBuffer(l),this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},retrieveShader:function(l){return l.programCache.hasOwnProperty(this.type)||(l.programCache[this.type]=this.createProgram(l.context)),l.programCache[this.type]},applyToWebGL:function(l){var i=l.context,h=this.retrieveShader(l);l.pass===0&&l.originalTexture?i.bindTexture(i.TEXTURE_2D,l.originalTexture):i.bindTexture(i.TEXTURE_2D,l.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,l.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/l.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/l.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,l.destinationWidth,l.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(l,i,h){l.activeTexture(h),l.bindTexture(l.TEXTURE_2D,i),l.activeTexture(l.TEXTURE0)},unbindAdditionalTexture:function(l,i){l.activeTexture(i),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(l){this[this.mainParameter]=l},sendUniformData:function(){},createHelpLayer:function(l){if(!l.helpLayer){var i=document.createElement("canvas");i.width=l.sourceWidth,i.height=l.sourceHeight,l.helpLayer=i}},toObject:function(){var l={type:this.type},i=this.mainParameter;return i&&(l[i]=this[i]),l},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(l,i){var h=new e.Image.filters[l.type](l);return i&&i(h),h},function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.ColorMatrix=p(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var u=o.imageData,a=u.data,c=a.length,g=this.matrix,f,m,v,_,w,x=this.colorsOnly;for(w=0;w<c;w+=4)f=a[w],m=a[w+1],v=a[w+2],x?(a[w]=f*g[0]+m*g[1]+v*g[2]+g[4]*255,a[w+1]=f*g[5]+m*g[6]+v*g[7]+g[9]*255,a[w+2]=f*g[10]+m*g[11]+v*g[12]+g[14]*255):(_=a[w+3],a[w]=f*g[0]+m*g[1]+v*g[2]+_*g[3]+g[4]*255,a[w+1]=f*g[5]+m*g[6]+v*g[7]+_*g[8]+g[9]*255,a[w+2]=f*g[10]+m*g[11]+v*g[12]+_*g[13]+g[14]*255,a[w+3]=f*g[15]+m*g[16]+v*g[17]+_*g[18]+g[19]*255)},getUniformLocations:function(o,u){return{uColorMatrix:o.getUniformLocation(u,"uColorMatrix"),uConstants:o.getUniformLocation(u,"uConstants")}},sendUniformData:function(o,u){var a=this.matrix,c=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];o.uniformMatrix4fv(u.uColorMatrix,!1,c),o.uniform4fv(u.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Brightness=p(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var u=o.imageData,a=u.data,c,g=a.length,f=Math.round(this.brightness*255);for(c=0;c<g;c+=4)a[c]=a[c]+f,a[c+1]=a[c+1]+f,a[c+2]=a[c+2]+f}},getUniformLocations:function(o,u){return{uBrightness:o.getUniformLocation(u,"uBrightness")}},sendUniformData:function(o,u){o.uniform1f(u.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.Image.filters,o=i.util.createClass;p.Convolute=o(p.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var a=Math.sqrt(this.matrix.length),c=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[c];return u.programCache.hasOwnProperty(c)||(u.programCache[c]=this.createProgram(u.context,g)),u.programCache[c]},applyTo2d:function(u){var a=u.imageData,c=a.data,g=this.matrix,f=Math.round(Math.sqrt(g.length)),m=Math.floor(f/2),v=a.width,_=a.height,w=u.ctx.createImageData(v,_),x=w.data,C=this.opaque?1:0,S,T,I,z,q,V,Q,X,ee,ne,ue,W,b;for(ue=0;ue<_;ue++)for(ne=0;ne<v;ne++){for(q=(ue*v+ne)*4,S=0,T=0,I=0,z=0,b=0;b<f;b++)for(W=0;W<f;W++)Q=ue+b-m,V=ne+W-m,!(Q<0||Q>=_||V<0||V>=v)&&(X=(Q*v+V)*4,ee=g[b*f+W],S+=c[X]*ee,T+=c[X+1]*ee,I+=c[X+2]*ee,C||(z+=c[X+3]*ee));x[q]=S,x[q+1]=T,x[q+2]=I,C?x[q+3]=c[q+3]:x[q+3]=z}u.imageData=w},getUniformLocations:function(u,a){return{uMatrix:u.getUniformLocation(a,"uMatrix"),uOpaque:u.getUniformLocation(a,"uOpaque"),uHalfSize:u.getUniformLocation(a,"uHalfSize"),uSize:u.getUniformLocation(a,"uSize")}},sendUniformData:function(u,a){u.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Grayscale=p(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var u=o.imageData,a=u.data,c,g=a.length,f,m=this.mode;for(c=0;c<g;c+=4)m==="average"?f=(a[c]+a[c+1]+a[c+2])/3:m==="lightness"?f=(Math.min(a[c],a[c+1],a[c+2])+Math.max(a[c],a[c+1],a[c+2]))/2:m==="luminosity"&&(f=.21*a[c]+.72*a[c+1]+.07*a[c+2]),a[c]=f,a[c+1]=f,a[c+2]=f},retrieveShader:function(o){var u=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(u)){var a=this.fragmentSource[this.mode];o.programCache[u]=this.createProgram(o.context,a)}return o.programCache[u]},getUniformLocations:function(o,u){return{uMode:o.getUniformLocation(u,"uMode")}},sendUniformData:function(o,u){var a=1;o.uniform1i(u.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Invert=p(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var u=o.imageData,a=u.data,c,g=a.length;for(c=0;c<g;c+=4)a[c]=255-a[c],a[c+1]=255-a[c+1],a[c+2]=255-a[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,u){return{uInvert:o.getUniformLocation(u,"uInvert")}},sendUniformData:function(o,u){o.uniform1i(u.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.Image.filters,o=i.util.createClass;p.Noise=o(p.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var a=u.imageData,c=a.data,g,f=c.length,m=this.noise,v;for(g=0,f=c.length;g<f;g+=4)v=(.5-Math.random())*m,c[g]+=v,c[g+1]+=v,c[g+2]+=v}},getUniformLocations:function(u,a){return{uNoise:u.getUniformLocation(a,"uNoise"),uSeed:u.getUniformLocation(a,"uSeed")}},sendUniformData:function(u,a){u.uniform1f(a.uNoise,this.noise/255),u.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Pixelate=p(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var u=o.imageData,a=u.data,c=u.height,g=u.width,f,m,v,_,w,x,C,S,T,I,z;for(m=0;m<c;m+=this.blocksize)for(v=0;v<g;v+=this.blocksize)for(f=m*4*g+v*4,_=a[f],w=a[f+1],x=a[f+2],C=a[f+3],I=Math.min(m+this.blocksize,c),z=Math.min(v+this.blocksize,g),S=m;S<I;S++)for(T=v;T<z;T++)f=S*4*g+T*4,a[f]=_,a[f+1]=w,a[f+2]=x,a[f+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,u){return{uBlocksize:o.getUniformLocation(u,"uBlocksize"),uStepW:o.getUniformLocation(u,"uStepW"),uStepH:o.getUniformLocation(u,"uStepH")}},sendUniformData:function(o,u){o.uniform1f(u.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.extend,p=i.Image.filters,o=i.util.createClass;p.RemoveColor=o(p.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var a=u.imageData,c=a.data,g,f=this.distance*255,m,v,_,w=new i.Color(this.color).getSource(),x=[w[0]-f,w[1]-f,w[2]-f],C=[w[0]+f,w[1]+f,w[2]+f];for(g=0;g<c.length;g+=4)m=c[g],v=c[g+1],_=c[g+2],m>x[0]&&v>x[1]&&_>x[2]&&m<C[0]&&v<C[1]&&_<C[2]&&(c[g+3]=0)},getUniformLocations:function(u,a){return{uLow:u.getUniformLocation(a,"uLow"),uHigh:u.getUniformLocation(a,"uHigh")}},sendUniformData:function(u,a){var c=new i.Color(this.color).getSource(),g=parseFloat(this.distance),f=[0+c[0]/255-g,0+c[1]/255-g,0+c[2]/255-g,1],m=[c[0]/255+g,c[1]/255+g,c[2]/255+g,1];u.uniform4fv(a.uLow,f),u.uniform4fv(a.uHigh,m)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in o)h[u]=p(h.ColorMatrix,{type:u,matrix:o[u],mainParameter:!1,colorsOnly:!0}),i.Image.filters[u].fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric,h=i.Image.filters,p=i.util.createClass;h.BlendColor=p(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var u=this.type+"_"+this.mode,a;return o.programCache.hasOwnProperty(u)||(a=this.buildSource(this.mode),o.programCache[u]=this.createProgram(o.context,a)),o.programCache[u]},applyTo2d:function(o){var u=o.imageData,a=u.data,c=a.length,g,f,m,v,_,w,x,C=1-this.alpha;x=new i.Color(this.color).getSource(),g=x[0]*this.alpha,f=x[1]*this.alpha,m=x[2]*this.alpha;for(var S=0;S<c;S+=4)switch(v=a[S],_=a[S+1],w=a[S+2],this.mode){case"multiply":a[S]=v*g/255,a[S+1]=_*f/255,a[S+2]=w*m/255;break;case"screen":a[S]=255-(255-v)*(255-g)/255,a[S+1]=255-(255-_)*(255-f)/255,a[S+2]=255-(255-w)*(255-m)/255;break;case"add":a[S]=v+g,a[S+1]=_+f,a[S+2]=w+m;break;case"diff":case"difference":a[S]=Math.abs(v-g),a[S+1]=Math.abs(_-f),a[S+2]=Math.abs(w-m);break;case"subtract":a[S]=v-g,a[S+1]=_-f,a[S+2]=w-m;break;case"darken":a[S]=Math.min(v,g),a[S+1]=Math.min(_,f),a[S+2]=Math.min(w,m);break;case"lighten":a[S]=Math.max(v,g),a[S+1]=Math.max(_,f),a[S+2]=Math.max(w,m);break;case"overlay":a[S]=g<128?2*v*g/255:255-2*(255-v)*(255-g)/255,a[S+1]=f<128?2*_*f/255:255-2*(255-_)*(255-f)/255,a[S+2]=m<128?2*w*m/255:255-2*(255-w)*(255-m)/255;break;case"exclusion":a[S]=g+v-2*g*v/255,a[S+1]=f+_-2*f*_/255,a[S+2]=m+w-2*m*w/255;break;case"tint":a[S]=g+v*C,a[S+1]=f+_*C,a[S+2]=m+w*C}},getUniformLocations:function(o,u){return{uColor:o.getUniformLocation(u,"uColor")}},sendUniformData:function(o,u){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,o.uniform4fv(u.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric,h=i.Image.filters,p=i.util.createClass;h.BlendImage=p(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var u=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(u)||(o.programCache[u]=this.createProgram(o.context,a)),o.programCache[u]},applyToWebGL:function(o){var u=o.context,a=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(u,a,u.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(o,u){return o.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var o=this.image,u=o._element.width,a=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/u,-o.top/a,1]},applyTo2d:function(o){var u=o.imageData,a=o.filterBackend.resources,c=u.data,g=c.length,f=u.width,m=u.height,v,_,w,x,C,S,T,I,z,q,V=this.image,Q;a.blendImage||(a.blendImage=i.util.createCanvasElement()),z=a.blendImage,q=z.getContext("2d"),z.width!==f||z.height!==m?(z.width=f,z.height=m):q.clearRect(0,0,f,m),q.setTransform(V.scaleX,0,0,V.scaleY,V.left,V.top),q.drawImage(V._element,0,0,f,m),Q=q.getImageData(0,0,f,m).data;for(var X=0;X<g;X+=4)switch(C=c[X],S=c[X+1],T=c[X+2],I=c[X+3],v=Q[X],_=Q[X+1],w=Q[X+2],x=Q[X+3],this.mode){case"multiply":c[X]=C*v/255,c[X+1]=S*_/255,c[X+2]=T*w/255,c[X+3]=I*x/255;break;case"mask":c[X+3]=x;break}},getUniformLocations:function(o,u){return{uTransformMatrix:o.getUniformLocation(u,"uTransformMatrix"),uImage:o.getUniformLocation(u,"uImage")}},sendUniformData:function(o,u){var a=this.calculateMatrix();o.uniform1i(u.uImage,1),o.uniformMatrix3fv(u.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,u){i.Image.fromObject(o.image,function(a){var c=i.util.object.clone(o);c.image=a,u(new i.Image.filters.BlendImage(c))})}}(t),function(l){var i=l.fabric||(l.fabric={}),h=Math.pow,p=Math.floor,o=Math.sqrt,u=Math.abs,a=Math.round,c=Math.sin,g=Math.ceil,f=i.Image.filters,m=i.util.createClass;f.Resize=m(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,_){return{uDelta:v.getUniformLocation(_,"uDelta"),uTaps:v.getUniformLocation(_,"uTaps")}},sendUniformData:function(v,_){v.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(v){var _=this.getFilterWindow(),w=this.type+"_"+_;if(!v.programCache.hasOwnProperty(w)){var x=this.generateShader(_);v.programCache[w]=this.createProgram(v.context,x)}return v.programCache[w]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,w=this.getFilterWindow(),x=new Array(w),C=1;C<=w;C++)x[C-1]=v(C*_);return x},generateShader:function(x){for(var _=new Array(x),w=this.fragmentSourceTOP,x,C=1;C<=x;C++)_[C-1]=C+".0 * uDelta";return w+="uniform float uTaps["+x+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,_.forEach(function(S,T){w+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+T+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+T+`];
`,w+="  sum += 2.0 * uTaps["+T+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(_){if(_>=v||_<=-v)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var w=_/v;return c(_)/_*c(w)/w}},applyTo2d:function(v){var _=v.imageData,w=this.scaleX,x=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/x;var C=_.width,S=_.height,T=a(C*w),I=a(S*x),z;this.resizeType==="sliceHack"?z=this.sliceByTwo(v,C,S,T,I):this.resizeType==="hermite"?z=this.hermiteFastResize(v,C,S,T,I):this.resizeType==="bilinear"?z=this.bilinearFiltering(v,C,S,T,I):this.resizeType==="lanczos"&&(z=this.lanczosResize(v,C,S,T,I)),v.imageData=z},sliceByTwo:function(v,_,w,x,C){var S=v.imageData,T=.5,I=!1,z=!1,q=_*T,V=w*T,Q=i.filterBackend.resources,X,ee,ne=0,ue=0,W=_,b=0;for(Q.sliceByTwo||(Q.sliceByTwo=document.createElement("canvas")),X=Q.sliceByTwo,(X.width<_*1.5||X.height<w)&&(X.width=_*1.5,X.height=w),ee=X.getContext("2d"),ee.clearRect(0,0,_*1.5,w),ee.putImageData(S,0,0),x=p(x),C=p(C);!I||!z;)_=q,w=V,x<p(q*T)?q=p(q*T):(q=x,I=!0),C<p(V*T)?V=p(V*T):(V=C,z=!0),ee.drawImage(X,ne,ue,_,w,W,b,q,V),ne=W,ue=b,b+=V;return ee.getImageData(ne,ue,x,C)},lanczosResize:function(v,_,w,x,C){function S(A){var R,U,D,O,j,B,K,H,re,ae,fe;for(b.x=(A+.5)*V,P.x=p(b.x),R=0;R<C;R++){for(b.y=(R+.5)*Q,P.y=p(b.y),j=0,B=0,K=0,H=0,re=0,U=P.x-ne;U<=P.x+ne;U++)if(!(U<0||U>=_)){ae=p(1e3*u(U-b.x)),W[ae]||(W[ae]={});for(var Y=P.y-ue;Y<=P.y+ue;Y++)Y<0||Y>=w||(fe=p(1e3*u(Y-b.y)),W[ae][fe]||(W[ae][fe]=q(o(h(ae*X,2)+h(fe*ee,2))/1e3)),D=W[ae][fe],D>0&&(O=(Y*_+U)*4,j+=D,B+=D*T[O],K+=D*T[O+1],H+=D*T[O+2],re+=D*T[O+3]))}O=(R*x+A)*4,z[O]=B/j,z[O+1]=K/j,z[O+2]=H/j,z[O+3]=re/j}return++A<x?S(A):I}var T=v.imageData.data,I=v.ctx.createImageData(x,C),z=I.data,q=this.lanczosCreate(this.lanczosLobes),V=this.rcpScaleX,Q=this.rcpScaleY,X=2/this.rcpScaleX,ee=2/this.rcpScaleY,ne=g(V*this.lanczosLobes/2),ue=g(Q*this.lanczosLobes/2),W={},b={},P={};return S(0)},bilinearFiltering:function(v,_,w,x,C){var S,T,I,z,q,V,Q,X,ee,ne,ue,W,b=0,P,A=this.rcpScaleX,R=this.rcpScaleY,U=4*(_-1),D=v.imageData,O=D.data,j=v.ctx.createImageData(x,C),B=j.data;for(Q=0;Q<C;Q++)for(X=0;X<x;X++)for(q=p(A*X),V=p(R*Q),ee=A*X-q,ne=R*Q-V,P=4*(V*_+q),ue=0;ue<4;ue++)S=O[P+ue],T=O[P+4+ue],I=O[P+U+ue],z=O[P+U+4+ue],W=S*(1-ee)*(1-ne)+T*ee*(1-ne)+I*ne*(1-ee)+z*ee*ne,B[b++]=W;return j},hermiteFastResize:function(v,_,w,x,C){for(var S=this.rcpScaleX,T=this.rcpScaleY,I=g(S/2),z=g(T/2),q=v.imageData,V=q.data,Q=v.ctx.createImageData(x,C),X=Q.data,ee=0;ee<C;ee++)for(var ne=0;ne<x;ne++){for(var ue=(ne+ee*x)*4,W=0,b=0,P=0,A=0,R=0,U=0,D=0,O=(ee+.5)*T,j=p(ee*T);j<(ee+1)*T;j++)for(var B=u(O-(j+.5))/z,K=(ne+.5)*S,H=B*B,re=p(ne*S);re<(ne+1)*S;re++){var ae=u(K-(re+.5))/I,fe=o(H+ae*ae);fe>1&&fe<-1||(W=2*fe*fe*fe-3*fe*fe+1,W>0&&(ae=4*(re+j*_),D+=W*V[ae+3],P+=W,V[ae+3]<255&&(W=W*V[ae+3]/250),A+=W*V[ae],R+=W*V[ae+1],U+=W*V[ae+2],b+=W))}X[ue]=A/b,X[ue+1]=R/b,X[ue+2]=U/b,X[ue+3]=D/P}return Q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Contrast=p(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var u=o.imageData,a,g,c=u.data,g=c.length,f=Math.floor(this.contrast*255),m=259*(f+255)/(255*(259-f));for(a=0;a<g;a+=4)c[a]=m*(c[a]-128)+128,c[a+1]=m*(c[a+1]-128)+128,c[a+2]=m*(c[a+2]-128)+128}},getUniformLocations:function(o,u){return{uContrast:o.getUniformLocation(u,"uContrast")}},sendUniformData:function(o,u){o.uniform1f(u.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Saturation=p(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var u=o.imageData,a=u.data,c=a.length,g=-this.saturation,f,m;for(f=0;f<c;f+=4)m=Math.max(a[f],a[f+1],a[f+2]),a[f]+=m!==a[f]?(m-a[f])*g:0,a[f+1]+=m!==a[f+1]?(m-a[f+1])*g:0,a[f+2]+=m!==a[f+2]?(m-a[f+2])*g:0}},getUniformLocations:function(o,u){return{uSaturation:o.getUniformLocation(u,"uSaturation")}},sendUniformData:function(o,u){o.uniform1f(u.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Vibrance=p(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var u=o.imageData,a=u.data,c=a.length,g=-this.vibrance,f,m,v,_;for(f=0;f<c;f+=4)m=Math.max(a[f],a[f+1],a[f+2]),v=(a[f]+a[f+1]+a[f+2])/3,_=Math.abs(m-v)*2/255*g,a[f]+=m!==a[f]?(m-a[f])*_:0,a[f+1]+=m!==a[f+1]?(m-a[f+1])*_:0,a[f+2]+=m!==a[f+2]?(m-a[f+2])*_:0}},getUniformLocations:function(o,u){return{uVibrance:o.getUniformLocation(u,"uVibrance")}},sendUniformData:function(o,u){o.uniform1f(u.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Blur=p(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var u=o.filterBackend.resources,a,c,g=o.imageData.width,f=o.imageData.height;u.blurLayer1||(u.blurLayer1=i.util.createCanvasElement(),u.blurLayer2=i.util.createCanvasElement()),a=u.blurLayer1,c=u.blurLayer2,(a.width!==g||a.height!==f)&&(c.width=a.width=g,c.height=a.height=f);var m=a.getContext("2d"),v=c.getContext("2d"),_=15,w,x,C,S,T=this.blur*.06*.5;for(m.putImageData(o.imageData,0,0),v.clearRect(0,0,g,f),S=-_;S<=_;S++)w=(Math.random()-.5)/4,x=S/_,C=T*x*g+w,v.globalAlpha=1-Math.abs(x),v.drawImage(a,C,w),m.drawImage(c,0,0),v.globalAlpha=1,v.clearRect(0,0,c.width,c.height);for(S=-_;S<=_;S++)w=(Math.random()-.5)/4,x=S/_,C=T*x*f+w,v.globalAlpha=1-Math.abs(x),v.drawImage(a,w,C),m.drawImage(c,0,0),v.globalAlpha=1,v.clearRect(0,0,c.width,c.height);o.ctx.drawImage(a,0,0);var I=o.ctx.getImageData(0,0,a.width,a.height);return m.globalAlpha=1,m.clearRect(0,0,a.width,a.height),I},getUniformLocations:function(o,u){return{delta:o.getUniformLocation(u,"uDelta")}},sendUniformData:function(o,u){var a=this.chooseRightDelta();o.uniform2fv(u.delta,a)},chooseRightDelta:function(){var o=1,u=[0,0],a;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),a=o*this.blur*.12,this.horizontal?u[0]=a:u[1]=a,u}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Gamma=p(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var u=o.imageData,a=u.data,c=this.gamma,g=a.length,f=1/c[0],m=1/c[1],v=1/c[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,g=256;_<g;_++)this.rVals[_]=Math.pow(_/255,f)*255,this.gVals[_]=Math.pow(_/255,m)*255,this.bVals[_]=Math.pow(_/255,v)*255;for(_=0,g=a.length;_<g;_+=4)a[_]=this.rVals[a[_]],a[_+1]=this.gVals[a[_+1]],a[_+2]=this.bVals[a[_+2]]},getUniformLocations:function(o,u){return{uGamma:o.getUniformLocation(u,"uGamma")}},sendUniformData:function(o,u){o.uniform3fv(u.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.Composed=p(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,u){var a=o.subFilters||[],c=a.map(function(f){return new i.Image.filters[f.type](f)}),g=new i.Image.filters.Composed({subFilters:c});return u&&u(g),g}}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.Image.filters,p=i.util.createClass;h.HueRotation=p(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,u=i.util.cos(o),a=i.util.sin(o),c=1/3,g=Math.sqrt(c)*a,f=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+f/3,this.matrix[1]=c*f-g,this.matrix[2]=c*f+g,this.matrix[5]=c*f+g,this.matrix[6]=u+c*f,this.matrix[7]=c*f-g,this.matrix[10]=c*f-g,this.matrix[11]=c*f+g,this.matrix[12]=u+c*f},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(l){var i=l.fabric||(l.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var p="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(p),cacheProperties:i.Object.prototype.cacheProperties.concat(p),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,u){this.styles=u?u.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,u,a,c,g,f,m,v=0,_=this._textLines.length;v<_;v++)if(!(this.textAlign!=="justify"&&(v===_-1||this.isEndOfWrapping(v)))&&(c=0,g=this._textLines[v],u=this.getLineWidth(v),u<this.width&&(m=this.textLines[v].match(this._reSpacesAndTabs)))){a=m.length,o=(this.width-u)/a;for(var w=0,x=g.length;w<=x;w++)f=this.__charBounds[v][w],this._reSpaceAndTab.test(g[w])?(f.width+=o,f.kernedWidth+=o,f.left+=c,c+=o):f.left+=c}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return o.width+=u*o.zoomX,o.height+=u*o.zoomY,o},_render:function(o){var u=this.path;u&&!u.isNotVisible()&&u._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,u,a){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(u,a)},calcTextWidth:function(){for(var o=this.getLineWidth(0),u=1,a=this._textLines.length;u<a;u++){var c=this.getLineWidth(u);c>o&&(o=c)}return o},_renderTextLine:function(o,u,a,c,g,f){this._renderChars(o,u,a,c,g,f)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,a,c=o.fillStyle,g,f,m=this._getLeftOffset(),v=this._getTopOffset(),_=0,w=0,x,C,S=this.path,T,I=0,z=this._textLines.length;I<z;I++){if(u=this.getHeightOfLine(I),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",I)){v+=u;continue}g=this._textLines[I],a=this._getLineLeftOffset(I),w=0,_=0,f=this.getValueOfPropertyAt(I,0,"textBackgroundColor");for(var q=0,V=g.length;q<V;q++)x=this.__charBounds[I][q],C=this.getValueOfPropertyAt(I,q,"textBackgroundColor"),S?(o.save(),o.translate(x.renderLeft,x.renderTop),o.rotate(x.angle),o.fillStyle=C,C&&o.fillRect(-x.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),x.width,u/this.lineHeight),o.restore()):C!==f?(T=m+a+_,this.direction==="rtl"&&(T=this.width-T-w),o.fillStyle=f,f&&o.fillRect(T,v,w,u/this.lineHeight),_=x.left,w=x.width,f=C):w+=x.kernedWidth;C&&!S&&(T=m+a+_,this.direction==="rtl"&&(T=this.width-T-w),o.fillStyle=C,o.fillRect(T,v,w,u/this.lineHeight)),v+=u}o.fillStyle=c,this._removeShadow(o)}},getFontCache:function(o){var u=o.fontFamily.toLowerCase();i.charWidthsCache[u]||(i.charWidthsCache[u]={});var a=i.charWidthsCache[u],c=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return a[c]||(a[c]={}),a[c]},_measureChar:function(o,u,a,c){var g=this.getFontCache(u),f=this._getFontDeclaration(u),m=this._getFontDeclaration(c),v=a+o,_=f===m,w,x,C,S=u.fontSize/this.CACHE_FONT_SIZE,T;if(a&&g[a]!==void 0&&(C=g[a]),g[o]!==void 0&&(T=w=g[o]),_&&g[v]!==void 0&&(x=g[v],T=x-C),w===void 0||C===void 0||x===void 0){var I=this.getMeasuringContext();this._setTextStyles(I,u,!0)}return w===void 0&&(T=w=I.measureText(o).width,g[o]=w),C===void 0&&_&&a&&(C=I.measureText(a).width,g[a]=C),_&&x===void 0&&(x=I.measureText(v).width,g[v]=x,T=x-C),{width:w*S,kernedWidth:T*S}},getHeightOfChar:function(o,u){return this.getValueOfPropertyAt(o,u,"fontSize")},measureLine:function(o){var u=this._measureLine(o);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(o){var u=0,a,c,g=this._textLines[o],f,m,v=0,_=new Array(g.length),w=0,x,C,S=this.path,T=this.pathSide==="right";for(this.__charBounds[o]=_,a=0;a<g.length;a++)c=g[a],m=this._getGraphemeBox(c,o,a,f),_[a]=m,u+=m.kernedWidth,f=c;if(_[a]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(C=S.segmentsInfo[S.segmentsInfo.length-1].length,x=i.util.getPointOnPath(S.path,0,S.segmentsInfo),x.x+=S.pathOffset.x,x.y+=S.pathOffset.y,this.textAlign){case"left":w=T?C-u:0;break;case"center":w=(C-u)/2;break;case"right":w=T?0:C-u;break}for(w+=this.pathStartOffset*(T?-1:1),a=T?g.length-1:0;T?a>=0:a<g.length;T?a--:a++)m=_[a],w>C?w%=C:w<0&&(w+=C),this._setGraphemeOnPath(w,m,x),w+=m.kernedWidth}return{width:u,numOfSpaces:v}},_setGraphemeOnPath:function(o,u,a){var c=o+u.kernedWidth/2,g=this.path,f=i.util.getPointOnPath(g.path,c,g.segmentsInfo);u.renderLeft=f.x-a.x,u.renderTop=f.y-a.y,u.angle=f.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,u,a,c,g){var f=this.getCompleteStyleDeclaration(u,a),m=c?this.getCompleteStyleDeclaration(u,a-1):{},v=this._measureChar(o,f,c,m),_=v.kernedWidth,w=v.width,x;this.charSpacing!==0&&(x=this._getWidthOfCharSpacing(),w+=x,_+=x);var C={width:w,left:0,height:f.fontSize,kernedWidth:_,deltaY:f.deltaY};if(a>0&&!g){var S=this.__charBounds[u][a-1];C.left=S.left+S.width+v.kernedWidth-v.width}return C},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var u=this._textLines[o],a=this.getHeightOfChar(o,0),c=1,g=u.length;c<g;c++)a=Math.max(this.getHeightOfChar(o,c),a);return this.__lineHeights[o]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,u=0,a=0,c=this._textLines.length;a<c;a++)o=this.getHeightOfLine(a),u+=a===c-1?o/this.lineHeight:o;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,u){o.save();for(var a=0,c=this._getLeftOffset(),g=this._getTopOffset(),f=0,m=this._textLines.length;f<m;f++){var v=this.getHeightOfLine(f),_=v/this.lineHeight,w=this._getLineLeftOffset(f);this._renderTextLine(u,o,this._textLines[f],c+w,g+a+_,f),a+=v}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,u,a,c,g,f){var m=this.getHeightOfLine(f),v=this.textAlign.indexOf("justify")!==-1,_,w,x="",C,S=0,T,I=this.path,z=!v&&this.charSpacing===0&&this.isEmptyStyles(f)&&!I,q=this.direction==="ltr",V=this.direction==="ltr"?1:-1,Q,X=u.canvas.getAttribute("dir");if(u.save(),X!==this.direction&&(u.canvas.setAttribute("dir",q?"ltr":"rtl"),u.direction=q?"ltr":"rtl",u.textAlign=q?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,z){this._renderChar(o,u,f,0,a.join(""),c,g,m),u.restore();return}for(var ee=0,ne=a.length-1;ee<=ne;ee++)T=ee===ne||this.charSpacing||I,x+=a[ee],C=this.__charBounds[f][ee],S===0?(c+=V*(C.kernedWidth-C.width),S+=C.width):S+=C.kernedWidth,v&&!T&&this._reSpaceAndTab.test(a[ee])&&(T=!0),T||(_=_||this.getCompleteStyleDeclaration(f,ee),w=this.getCompleteStyleDeclaration(f,ee+1),T=i.util.hasStyleChanged(_,w,!1)),T&&(I?(u.save(),u.translate(C.renderLeft,C.renderTop),u.rotate(C.angle),this._renderChar(o,u,f,ee,x,-S/2,0,m),u.restore()):(Q=c,this._renderChar(o,u,f,ee,x,Q,g,m)),x="",_=w,c+=V*S,S=0);u.restore()},_applyPatternGradientTransformText:function(o){var u=i.util.createCanvasElement(),a,c=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=c,u.height=g,a=u.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(c,0),a.lineTo(c,g),a.lineTo(0,g),a.closePath(),a.translate(c/2,g/2),a.fillStyle=o.toLive(a),this._applyPatternGradientTransform(a,o),a.fill(),a.createPattern(u,"no-repeat")},handleFiller:function(o,u,a){var c,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(c=-this.width/2,g=-this.height/2,o.translate(c,g),o[u]=this._applyPatternGradientTransformText(a),{offsetX:c,offsetY:g}):(o[u]=a.toLive(o,this),this._applyPatternGradientTransform(o,a)):(o[u]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,u){return o.lineWidth=u.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",u.stroke)},_setFillStyles:function(o,u){return this.handleFiller(o,"fillStyle",u.fill)},_renderChar:function(o,u,a,c,g,f,m){var v=this._getStyleDeclaration(a,c),_=this.getCompleteStyleDeclaration(a,c),w=o==="fillText"&&_.fill,x=o==="strokeText"&&_.stroke&&_.strokeWidth,C,S;!x&&!w||(u.save(),w&&(C=this._setFillStyles(u,_)),x&&(S=this._setStrokeStyles(u,_)),u.font=this._getFontDeclaration(_),v&&v.textBackgroundColor&&this._removeShadow(u),v&&v.deltaY&&(m+=v.deltaY),w&&u.fillText(g,f-C.offsetX,m-C.offsetY),x&&u.strokeText(g,f-S.offsetX,m-S.offsetY),u.restore())},setSuperscript:function(o,u){return this._setScript(o,u,this.superscript)},setSubscript:function(o,u){return this._setScript(o,u,this.subscript)},_setScript:function(o,u,a){var c=this.get2DCursorLocation(o,!0),g=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),f=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),m={fontSize:g*a.size,deltaY:f+g*a.baseline};return this.setSelectionStyles(m,o,u),this},_getLineLeftOffset:function(o){var u=this.getLineWidth(o),a=this.width-u,c=this.textAlign,g=this.direction,m,f=0,m=this.isEndOfWrapping(o);return c==="justify"||c==="justify-center"&&!m||c==="justify-right"&&!m||c==="justify-left"&&!m?0:(c==="center"&&(f=a/2),c==="right"&&(f=a),c==="justify-center"&&(f=a/2),c==="justify-right"&&(f=a),g==="rtl"&&(f-=a),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var u=this.measureLine(o),a=u.width;return this.__lineWidths[o]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,u,a){var c=this._getStyleDeclaration(o,u);return c&&typeof c[a]<"u"?c[a]:this[a]},_renderTextDecoration:function(o,u){if(!(!this[u]&&!this.styleHas(u))){for(var a,c,g,f,m,v,_,w,x=this._getLeftOffset(),C=this._getTopOffset(),S,T,I,z,q,V,Q,X,ee=this.path,ne=this._getWidthOfCharSpacing(),ue=this.offsets[u],W=0,b=this._textLines.length;W<b;W++){if(a=this.getHeightOfLine(W),!this[u]&&!this.styleHas(u,W)){C+=a;continue}_=this._textLines[W],V=a/this.lineHeight,f=this._getLineLeftOffset(W),T=0,I=0,w=this.getValueOfPropertyAt(W,0,u),X=this.getValueOfPropertyAt(W,0,"fill"),S=C+V*(1-this._fontSizeFraction),c=this.getHeightOfChar(W,0),m=this.getValueOfPropertyAt(W,0,"deltaY");for(var P=0,A=_.length;P<A;P++)if(z=this.__charBounds[W][P],q=this.getValueOfPropertyAt(W,P,u),Q=this.getValueOfPropertyAt(W,P,"fill"),g=this.getHeightOfChar(W,P),v=this.getValueOfPropertyAt(W,P,"deltaY"),ee&&q&&Q)o.save(),o.fillStyle=X,o.translate(z.renderLeft,z.renderTop),o.rotate(z.angle),o.fillRect(-z.kernedWidth/2,ue*g+v,z.kernedWidth,this.fontSize/15),o.restore();else if((q!==w||Q!==X||g!==c||v!==m)&&I>0){var R=x+f+T;this.direction==="rtl"&&(R=this.width-R-I),w&&X&&(o.fillStyle=X,o.fillRect(R,S+ue*c+m,I,this.fontSize/15)),T=z.left,I=z.width,w=q,X=Q,c=g,m=v}else I+=z.kernedWidth;var R=x+f+T;this.direction==="rtl"&&(R=this.width-R-I),o.fillStyle=Q,q&&Q&&o.fillRect(R,S+ue*c+m,I-ne,this.fontSize/15),C+=a}this._removeShadow(o)}},_getFontDeclaration:function(o,u){var a=o||this,c=this.fontFamily,g=i.Text.genericFonts.indexOf(c.toLowerCase())>-1,f=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,u?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",f].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var u=o.split(this._reNewline),a=new Array(u.length),c=[`
`],g=[],f=0;f<u.length;f++)a[f]=i.util.string.graphemeSplit(u[f]),g=g.concat(a[f],c);return g.pop(),{_unwrappedLines:a,lines:u,graphemeText:g,graphemeLines:a}},toObject:function(o){var u=p.concat(o),a=this.callSuper("toObject",u);return a.styles=i.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(o,u){this.callSuper("set",o,u);var a=!1,c=!1;if(typeof o=="object")for(var g in o)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,c=c||g==="path";else a=this._dimensionAffectingProps.indexOf(o)!==-1,c=o==="path";return c&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,u,a){if(!o)return u(null);var c=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),g=c.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},c),a.top=a.top||0,a.left=a.left||0,c.textDecoration){var f=c.textDecoration;f.indexOf("underline")!==-1&&(a.underline=!0),f.indexOf("overline")!==-1&&(a.overline=!0),f.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in c&&(a.left+=c.dx),"dy"in c&&(a.top+=c.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in o?m=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(m=o.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=a.strokeWidth;a.strokeWidth=0;var _=new i.Text(m,a),w=_.getScaledHeight()/_.height,x=(_.height+_.strokeWidth)*_.lineHeight-_.height,C=x*w,S=_.getScaledHeight()+C,T=0;g==="center"&&(T=_.getScaledWidth()/2),g==="right"&&(T=_.getScaledWidth()),_.set({left:_.left-T,top:_.top-(S-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof v<"u"?v:1}),u(_)},i.Text.fromObject=function(o,u){var a=h(o),c=o.path;return delete a.path,i.Object._fromObject("Text",a,function(g){g.styles=i.util.stylesFromArray(o.styles,o.text),c?i.Object._fromObject("Path",c,function(f){g.set("path",f),u(g)},"path"):u(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(l){if(!this.styles||typeof l<"u"&&!this.styles[l])return!0;var i=typeof l>"u"?this.styles:{line:this.styles[l]};for(var h in i)for(var p in i[h])for(var o in i[h][p])return!1;return!0},styleHas:function(l,i){if(!this.styles||!l||l===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var p in h)for(var o in h[p])if(typeof h[p][o][l]<"u")return!0;return!1},cleanStyle:function(l){if(!this.styles||!l||l==="")return!1;var i=this.styles,h=0,p,o,u=!0,a=0,c;for(var g in i){p=0;for(var f in i[g]){var c=i[g][f],m=c.hasOwnProperty(l);h++,m?(o?c[l]!==o&&(u=!1):o=c[l],c[l]===this[l]&&delete c[l]):u=!1,Object.keys(c).length!==0?p++:delete i[g][f]}p===0&&delete i[g]}for(var v=0;v<this._textLines.length;v++)a+=this._textLines[v].length;u&&h===a&&(this[l]=o,this.removeStyle(l))},removeStyle:function(l){if(!(!this.styles||!l||l==="")){var i=this.styles,h,p,o;for(p in i){h=i[p];for(o in h)delete h[o][l],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[p]}}},_extendStyles:function(l,i){var h=this.get2DCursorLocation(l);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(l,i){typeof l>"u"&&(l=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,p=h.length,o=0;o<p;o++){if(l<=h[o].length)return{lineIndex:o,charIndex:l};l-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<l?h[o-1].length:l}},getSelectionStyles:function(l,i,h){typeof l>"u"&&(l=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||l);for(var p=[],o=l;o<i;o++)p.push(this.getStyleAtPosition(o,h));return p},getStyleAtPosition:function(l,i){var h=this.get2DCursorLocation(l),p=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return p||{}},setSelectionStyles:function(l,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var p=i;p<h;p++)this._extendStyles(p,l);return this._forceClearCache=!0,this},_getStyleDeclaration:function(l,i){var h=this.styles&&this.styles[l];return h?h[i]:null},getCompleteStyleDeclaration:function(l,i){for(var h=this._getStyleDeclaration(l,i)||{},p={},o,u=0;u<this._styleProperties.length;u++)o=this._styleProperties[u],p[o]=typeof h[o]>"u"?this[o]:h[o];return p},_setStyleDeclaration:function(l,i,h){this.styles[l][i]=h},_deleteStyleDeclaration:function(l,i){delete this.styles[l][i]},_getLineStyle:function(l){return!!this.styles[l]},_setLineStyle:function(l){this.styles[l]={}},_deleteLineStyle:function(l){delete this.styles[l]}})}(),function(){function l(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,p=this.canvas.viewportTransform;h.save(),h.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,p=this.height+4;i.clearRect(-h/2,-p/2,h,p)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),p=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:p,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,p,o,u=0,a=0,c,g=this.get2DCursorLocation(i);o=g.charIndex,p=g.lineIndex;for(var f=0;f<p;f++)u+=this.getHeightOfLine(f);h=this._getLineLeftOffset(p);var m=this.__charBounds[p][o];return m&&(a=m.left),this.charSpacing!==0&&o===this._textLines[p].length&&(a-=this._getWidthOfCharSpacing()),c={top:u,left:h+(a>0?a:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(i,h){var p=this.get2DCursorLocation(),o=p.lineIndex,u=p.charIndex>0?p.charIndex-1:0,a=this.getValueOfPropertyAt(o,u,"fontSize"),c=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/c,f=i.topOffset,m=this.getValueOfPropertyAt(o,u,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,u,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,f+i.top+m,g,a)},renderSelection:function(i,h){for(var p=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(p),c=this.get2DCursorLocation(o),g=a.lineIndex,f=c.lineIndex,m=a.charIndex<0?0:a.charIndex,v=c.charIndex<0?0:c.charIndex,_=g;_<=f;_++){var w=this._getLineLeftOffset(_)||0,x=this.getHeightOfLine(_),C=0,S=0,T=0;if(_===g&&(S=this.__charBounds[g][m].left),_>=g&&_<f)T=u&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===f)if(v===0)T=this.__charBounds[f][v].left;else{var I=this._getWidthOfCharSpacing();T=this.__charBounds[f][v-1].left+this.__charBounds[f][v-1].width-I}C=x,(this.lineHeight<1||_===f&&this.lineHeight>1)&&(x/=this.lineHeight);var z=i.left+w+S,q=T-S,V=x,Q=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",V=1,Q=x):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(z=this.width-z-q),h.fillRect(z,i.top+i.topOffset+Q,q,V),i.topOffset+=C}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),e.IText.fromObject=function(i,h){var p=e.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:p});if(l(o),o.styles)for(var u in o.styles)for(var a in o.styles[u])l(o.styles[u][a]);e.Object._fromObject("IText",o,h,"text")}}(),function(){var l=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],e.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,p,o){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:p,onComplete:function(){u.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,p=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},p)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,p=i-1;if(this._reSpace.test(this._text[p]))for(;this._reSpace.test(this._text[p]);)h++,p--;for(;/\S/.test(this._text[p])&&p>-1;)h++,p--;return i-h},findWordBoundaryRight:function(i){var h=0,p=i;if(this._reSpace.test(this._text[p]))for(;this._reSpace.test(this._text[p]);)h++,p++;for(;/\S/.test(this._text[p])&&p<this._text.length;)h++,p++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,p=i-1;!/\n/.test(this._text[p])&&p>-1;)h++,p--;return i-h},findLineBoundaryRight:function(i){for(var h=0,p=i;!/\n/.test(this._text[p])&&p<this._text.length;)h++,p++;return i+h},searchWordBoundary:function(i,h){for(var p=this._text,o=this._reSpace.test(p[i])?i-1:i,u=p[o],a=e.reNonWord;!a.test(u)&&o>0&&o<p.length;)o+=h,u=p[o];return a.test(u)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),p=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=p,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),p=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=p,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),p=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||p===o)&&(p===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==p||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,p){var o=p.slice(0,i),u=e.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:u,selectionEnd:u};var a=p.slice(i,h),c=e.util.string.graphemeSplit(a).length;return{selectionStart:u,selectionEnd:u+c}},fromGraphemeToStringSelection:function(i,h,p){var o=p.slice(0,i),u=o.join("").length;if(i===h)return{selectionStart:u,selectionEnd:u};var a=p.slice(i,h),c=a.join("").length;return{selectionStart:u,selectionEnd:u+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),p=this.get2DCursorLocation(i),o=p.lineIndex,u=p.charIndex,a=this.getValueOfPropertyAt(o,u,"fontSize")*this.lineHeight,c=h.leftOffset,g=this.calcTransformMatrix(),f={x:h.left+c,y:h.top+h.topOffset+a},m=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,_=v.width/m,w=v.height/m,x=_-a,C=w-a,S=v.clientWidth/_,T=v.clientHeight/w;return f=e.util.transformPoint(f,g),f=e.util.transformPoint(f,this.canvas.viewportTransform),f.x*=S,f.y*=T,f.x<0&&(f.x=0),f.x>x&&(f.x=x),f.y<0&&(f.y=0),f.y>C&&(f.y=C),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var p=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),u=p.lineIndex,a=p.charIndex,c=o.lineIndex,g=o.charIndex,f,m;if(u!==c){if(this.styles[u])for(f=a;f<this._unwrappedTextLines[u].length;f++)delete this.styles[u][f];if(this.styles[c])for(f=g;f<this._unwrappedTextLines[c].length;f++)m=this.styles[c][f],m&&(this.styles[u]||(this.styles[u]={}),this.styles[u][a+f-g]=m);for(f=u+1;f<=c;f++)delete this.styles[f];this.shiftLineStyles(c,u-c)}else if(this.styles[u]){m=this.styles[u];var v=g-a,_,w;for(f=a;f<g;f++)delete m[f];for(w in this.styles[u])_=parseInt(w,10),_>=g&&(m[_-v]=m[w],delete m[w])}},shiftLineStyles:function(i,h){var p=l(this.styles);for(var o in this.styles){var u=parseInt(o,10);u>i&&(this.styles[u+h]=p[u],p[u-h]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,p,o){var u,a={},c=!1,g=this._unwrappedTextLines[i].length===h;p||(p=1),this.shiftLineStyles(i,p),this.styles[i]&&(u=this.styles[i][h===0?h:h-1]);for(var f in this.styles[i]){var m=parseInt(f,10);m>=h&&(c=!0,a[m-h]=this.styles[i][f],g&&h===0||delete this.styles[i][f])}var v=!1;for(c&&!g&&(this.styles[i+p]=a,v=!0),v&&p--;p>0;)o&&o[p-1]?this.styles[i+p]={0:l(o[p-1])}:u?this.styles[i+p]={0:l(u)}:delete this.styles[i+p],p--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,p,o){this.styles||(this.styles={});var u=this.styles[i],a=u?l(u):{};p||(p=1);for(var c in a){var g=parseInt(c,10);g>=h&&(u[g+p]=a[g],a[g-p]||delete u[g])}if(this._forceClearCache=!0,o){for(;p--;)Object.keys(o[p]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+p]=l(o[p]));return}if(u)for(var f=u[h?h-1:1];f&&p--;)this.styles[i][h+p]=l(f)},insertNewStyleBlock:function(i,h,p){for(var o=this.get2DCursorLocation(h,!0),u=[0],a=0,c=0;c<i.length;c++)i[c]===`
`?(a++,u[a]=0):u[a]++;u[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,u[0],p),p=p&&p.slice(u[0]+1)),a&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+u[0],a);for(var c=1;c<a;c++)u[c]>0?this.insertCharStyleObject(o.lineIndex+c,0,u[c],p):p&&this.styles[o.lineIndex+c]&&p[0]&&(this.styles[o.lineIndex+c][0]=p[0]),p=p&&p.slice(u[c]+1);u[c]>0&&this.insertCharStyleObject(o.lineIndex+c,0,u[c],p)},setSelectionStartEndWithShift:function(i,h,p){p<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=p):p>i&&p<h?this._selectionDirection==="right"?this.selectionEnd=p:this.selectionStart=p:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=p)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(l){if(this.canvas){this.__newClickTime=+new Date;var i=l.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",l),this._stopEvent(l.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(l){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===l.x&&this.__lastPointer.y===l.y},_stopEvent:function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(l){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(l.e))},tripleClickHandler:function(l){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(l.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(l.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(l){if(this.__isMousedown=!1,!(!this.editable||this.group||l.transform&&l.transform.actionPerformed||l.e.button&&l.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(l.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(l){var i=this.getSelectionStartFromPointer(l),h=this.selectionStart,p=this.selectionEnd;l.shiftKey?this.setSelectionStartEndWithShift(h,p,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(l){for(var i=this.getLocalPointer(l),h=0,p=0,o=0,u=0,a=0,c,g,f=0,m=this._textLines.length;f<m&&o<=i.y;f++)o+=this.getHeightOfLine(f)*this.scaleY,a=f,f>0&&(u+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));c=this._getLineLeftOffset(a),p=c*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+p);for(var v=0,_=g.length;v<_&&(h=p,p+=this.__charBounds[a][v].kernedWidth*this.scaleX,p<=i.x);v++)u++;return this._getNewSelectionStartFromOffset(i,h,p,u,_)},_getNewSelectionStartFromOffset:function(l,i,h,p,o){var u=l.x-i,a=h-l.x,c=a>u||a<0?0:1,g=p+c;return this.flipX&&(g=o-g),g>this._text.length&&(g=this._text.length),g}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var l=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+l.top+"; left: "+l.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+l.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(l){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(l.keyCode in i)this[i[l.keyCode]](l);else if(l.keyCode in this.ctrlKeysMapDown&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapDown[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),l.keyCode>=33&&l.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(l){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(l.keyCode in this.ctrlKeysMapUp&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapUp[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(l){var i=this.fromPaste;if(this.fromPaste=!1,l&&l.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,p=this._text.length,o=h.length,u,a,c=o-p,g=this.selectionStart,f=this.selectionEnd,m=g!==f,v,_,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>x.selectionStart;m?(u=this._text.slice(g,f),c+=f-g):o<p&&(C?u=this._text.slice(f+c,f):u=this._text.slice(g,g-c)),a=h.slice(x.selectionEnd-c,x.selectionEnd),u&&u.length&&(a.length&&(v=this.getSelectionStyles(g,g+1,!1),v=a.map(function(){return v[0]})),m?(_=g,w=f):C?(_=f-u.length,w=f):(_=f,w=f+u.length),this.removeStyleFromTo(_,w)),a.length&&(i&&a.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(v=e.copiedTextStyle),this.insertNewStyleBlock(a,g,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(l){this.compositionStart=l.target.selectionStart,this.compositionEnd=l.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(l){return l&&l.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(l,i){var h=this._getLineLeftOffset(l),p;return i>0&&(p=this.__charBounds[l][i-1],h+=p.left+p.width),h},getDownCursorOffset:function(l,i){var h=this._getSelectionForOffset(l,i),p=this.get2DCursorLocation(h),o=p.lineIndex;if(o===this._textLines.length-1||l.metaKey||l.keyCode===34)return this._text.length-h;var u=p.charIndex,a=this._getWidthBeforeCursor(o,u),c=this._getIndexOnLine(o+1,a),g=this._textLines[o].slice(u);return g.length+c+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(l,i){return l.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(l,i){var h=this._getSelectionForOffset(l,i),p=this.get2DCursorLocation(h),o=p.lineIndex;if(o===0||l.metaKey||l.keyCode===33)return-h;var u=p.charIndex,a=this._getWidthBeforeCursor(o,u),c=this._getIndexOnLine(o-1,a),g=this._textLines[o].slice(0,u),f=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+c-g.length+(1-f)},_getIndexOnLine:function(l,i){for(var h=this._textLines[l],p=this._getLineLeftOffset(l),o=p,u=0,a,c,g=0,f=h.length;g<f;g++)if(a=this.__charBounds[l][g].width,o+=a,o>i){c=!0;var m=o-a,v=o,_=Math.abs(m-i),w=Math.abs(v-i);u=w<_?g:g-1;break}return c||(u=h.length-1),u},moveCursorDown:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",l)},moveCursorUp:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",l)},_moveCursorUpOrDown:function(l,i){var h="get"+l+"CursorOffset",p=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(p):this.moveCursorWithoutShift(p),p!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(l){var i=this._selectionDirection==="left"?this.selectionStart+l:this.selectionEnd+l;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),l!==0},moveCursorWithoutShift:function(l){return l<0?(this.selectionStart+=l,this.selectionEnd=this.selectionStart):(this.selectionEnd+=l,this.selectionStart=this.selectionEnd),l!==0},moveCursorLeft:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",l)},_move:function(l,i,h){var p;if(l.altKey)p=this["findWordBoundary"+h](this[i]);else if(l.metaKey||l.keyCode===35||l.keyCode===36)p=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof p<"u"&&this[i]!==p)return this[i]=p,!0},_moveLeft:function(l,i){return this._move(l,i,"Left")},_moveRight:function(l,i){return this._move(l,i,"Right")},moveCursorLeftWithoutShift:function(l){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(l,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(l){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(l,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(l,"selectionStart")},moveCursorRight:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",l)},_moveCursorLeftOrRight:function(l,i){var h="moveCursor"+l+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(l){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(l,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(l,"selectionEnd")},moveCursorRightWithoutShift:function(l){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(l,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(l,i){typeof i>"u"&&(i=l+1),this.removeStyleFromTo(l,i),this._text.splice(l,i-l),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(l,i,h,p){typeof p>"u"&&(p=h),p>h&&this.removeStyleFromTo(h,p);var o=e.util.string.graphemeSplit(l);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(p)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var l=e.util.toFixed,i=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),p=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(p)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var p=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(p),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,p){var o=[],u=[],a=h,c;this._setSVGBg(u);for(var g=0,f=this._textLines.length;g<f;g++)c=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(u,g,p+c,a),this._setSVGTextLineText(o,g,p+c,a),a+=this.getHeightOfLine(g);return{textSpans:o,textBgRects:u}},_createTextCharSpan:function(h,p,o,u){var a=h!==h.trim()||h.match(i),c=this.getSvgSpanStyles(p,a),g=c?'style="'+c+'"':"",f=p.deltaY,m="",v=e.Object.NUM_FRACTION_DIGITS;return f&&(m=' dy="'+l(f,v)+'" '),['<tspan x="',l(o,v),'" y="',l(u,v),'" ',m,g,">",e.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,p,o,u){var a=this.getHeightOfLine(p),c=this.textAlign.indexOf("justify")!==-1,g,f,m="",v,_,w=0,x=this._textLines[p],C;u+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,T=x.length-1;S<=T;S++)C=S===T||this.charSpacing,m+=x[S],v=this.__charBounds[p][S],w===0?(o+=v.kernedWidth-v.width,w+=v.width):w+=v.kernedWidth,c&&!C&&this._reSpaceAndTab.test(x[S])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(p,S),f=this.getCompleteStyleDeclaration(p,S+1),C=e.util.hasStyleChanged(g,f,!0)),C&&(_=this._getStyleDeclaration(p,S)||{},h.push(this._createTextCharSpan(m,_,o,u)),m="",g=f,o+=w,w=0)},_pushTextBgRect:function(h,p,o,u,a,c){var g=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(p),' x="',l(o,g),'" y="',l(u,g),'" width="',l(a,g),'" height="',l(c,g),`"></rect>
`)},_setSVGTextLineBg:function(h,p,o,u){for(var a=this._textLines[p],c=this.getHeightOfLine(p)/this.lineHeight,g=0,f=0,m,v,_=this.getValueOfPropertyAt(p,0,"textBackgroundColor"),w=0,x=a.length;w<x;w++)m=this.__charBounds[p][w],v=this.getValueOfPropertyAt(p,w,"textBackgroundColor"),v!==_?(_&&this._pushTextBgRect(h,_,o+f,u,g,c),f=m.left,g=m.width,_=v):g+=m.kernedWidth;v&&this._pushTextBgRect(h,v,o+f,u,g,c)},_getFillAttributes:function(h){var p=h&&typeof h=="string"?new e.Color(h):"";return!p||!p.getSource()||p.getAlpha()===1?'fill="'+h+'"':'opacity="'+p.getAlpha()+'" fill="'+p.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var p=0,o=0,u=0;u<h;u++)p+=this.getHeightOfLine(u);return o=this.getHeightOfLine(u),{lineTop:p,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var p=e.Object.prototype.getSvgStyles.call(this,h);return p+" white-space: pre;"}})}(),function(l){var i=l.fabric||(l.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var p=0,o=0,u=0,a={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[u]===`
`&&c>0?(o=0,u++,p++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[u])&&c>0&&(o++,u++),a[c]={line:p,offset:o},u+=h.graphemeLines[c].length,o+=h.graphemeLines[c].length;return a},styleHas:function(h,p){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[p];o&&(p=o.line)}return i.Text.prototype.styleHas.call(this,h,p)},isEmptyStyles:function(h){if(!this.styles)return!0;var p=0,o=h+1,u,a,c=!1,g=this._styleMap[h],f=this._styleMap[h+1];g&&(h=g.line,p=g.offset),f&&(o=f.line,c=o===h,u=f.offset),a=typeof h>"u"?this.styles:{line:this.styles[h]};for(var m in a)for(var v in a[m])if(v>=p&&(!c||v<u))for(var _ in a[m][v])return!1;return!0},_getStyleDeclaration:function(h,p){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,p=o.offset+p}return this.callSuper("_getStyleDeclaration",h,p)},_setStyleDeclaration:function(h,p,o){var u=this._styleMap[h];h=u.line,p=u.offset+p,this.styles[h][p]=o},_deleteStyleDeclaration:function(h,p){var o=this._styleMap[h];h=o.line,p=o.offset+p,delete this.styles[h][p]},_getLineStyle:function(h){var p=this._styleMap[h];return!!this.styles[p.line]},_setLineStyle:function(h){var p=this._styleMap[h];this.styles[p.line]={}},_wrapText:function(h,p){var o=[],u;for(this.isWrapping=!0,u=0;u<h.length;u++)o=o.concat(this._wrapLine(h[u],u,p));return this.isWrapping=!1,o},_measureWord:function(h,p,o){var u=0,a,c=!0;o=o||0;for(var g=0,f=h.length;g<f;g++){var m=this._getGraphemeBox(h[g],p,g+o,a,c);u+=m.kernedWidth,a=h[g]}return u},_wrapLine:function(h,p,o,z){var a=0,c=this.splitByGrapheme,g=[],f=[],m=c?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),v="",_=0,w=c?"":" ",x=0,C=0,S=0,T=!0,I=this._getWidthOfCharSpacing(),z=z||0;m.length===0&&m.push([]),o-=z;for(var q=0;q<m.length;q++)v=c?m[q]:i.util.string.graphemeSplit(m[q]),x=this._measureWord(v,p,_),_+=v.length,a+=C+x-I,a>o&&!T?(g.push(f),f=[],a=x,T=!0):a+=I,!T&&!c&&f.push(w),f=f.concat(v),C=c?0:this._measureWord([w],p,_),_++,T=!1,x>S&&(S=x);return q&&g.push(f),S+z>this.dynamicMinWidth&&(this.dynamicMinWidth=S-I+z),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var p=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(p.lines,this.width),u=new Array(o.length),a=0;a<o.length;a++)u[a]=o[a].join("");return p.lines=u,p.graphemeLines=o,p},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var p in this._styleMap)this._textLines[p]&&(h[this._styleMap[p].line]=1);for(var p in this.styles)h[p]||delete this.styles[p]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,p){var o=i.util.stylesFromArray(h.styles,h.text),u=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",u,p,"text")}}(t),function(){var l=e.controlsUtils,i=l.scaleSkewCursorStyleHandler,h=l.scaleCursorStyleHandler,p=l.scalingEqually,o=l.scalingYOrSkewingX,u=l.scalingXOrSkewingY,a=l.scaleOrSkewActionName,c=e.Object.prototype.controls;if(c.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),c.mr=new e.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),c.mb=new e.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:a}),c.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:p}),c.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:p}),c.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:p}),c.br=new e.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:p}),c.mtr=new e.Control({x:0,y:-.5,actionHandler:l.rotationWithSnapping,cursorStyleHandler:l.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var g=e.Textbox.prototype.controls={};g.mtr=c.mtr,g.tr=c.tr,g.br=c.br,g.tl=c.tl,g.bl=c.bl,g.mt=c.mt,g.mb=c.mb,g.mr=new e.Control({x:.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new e.Control({x:-.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Zl);const C0=k.createContext(null),hd=()=>{const t=k.useContext(C0);if(!t)throw"You need to add `FabricProvider` to your component tree";return t},I1=t=>{const e=k.useRef(null),{setCanvas:n}=hd(),{initialData:r}=t;return k.useEffect(()=>{const s=new Zl.fabric.Canvas(e.current,t.options??{});return n(s),t.width&&s.setWidth(t.width),t.height&&s.setHeight(t.height),r&&r.map((d,y)=>{const l=new Zl.fabric.Rect({id:`object-${y}`,left:s.getWidth()*(d.left/100),top:s.getHeight()*(d.top/100),width:s.getWidth()*(d.width/100),height:s.getHeight()*(d.height/100),backgroundColor:"rgba(33,33,33)",opacity:.2,strokeWidth:1,stroke:"white",tooltip:d.tooltip,url:d.url});s.add(l)}),s.renderAll(),()=>{n(null),s.dispose()}},[]),J.jsx("canvas",{ref:e})},j1=t=>{const[e,n]=k.useState(null),r=()=>{const d=e.getObjects().map(y=>({left:+(y.left/e.getWidth()*100).toFixed(2),top:+(y.top/e.getHeight()*100).toFixed(2),width:+(y.getScaledWidth()/e.getWidth()*100).toFixed(2),height:+(y.getScaledHeight()/e.getHeight()*100).toFixed(2),tooltip:y.tooltip,url:y.url}));t.onUpdate(d)};k.useEffect(()=>{e&&e.on("after:render",()=>console.log("HERE!!!!!"))},[e]);const s={canvas:e,setCanvas:n,handleSave:r};return J.jsx(C0.Provider,{value:s,children:t.children})};function Jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function dd(t,e=[]){let n=[];function r(d,y){const l=k.createContext(y),i=n.length;n=[...n,y];function h(o){const{scope:u,children:a,...c}=o,g=(u==null?void 0:u[t][i])||l,f=k.useMemo(()=>c,Object.values(c));return k.createElement(g.Provider,{value:f},a)}function p(o,u){const a=(u==null?void 0:u[t][i])||l,c=k.useContext(a);if(c)return c;if(y!==void 0)return y;throw new Error(`\`${o}\` must be used within \`${d}\``)}return h.displayName=d+"Provider",[h,p]}const s=()=>{const d=n.map(y=>k.createContext(y));return function(l){const i=(l==null?void 0:l[t])||d;return k.useMemo(()=>({[`__scope${t}`]:{...l,[t]:i}}),[l,i])}};return s.scopeName=t,[r,N1(s,...e)]}function N1(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(d){const y=r.reduce((l,{useScope:i,scopeName:h})=>{const o=i(d)[`__scope${h}`];return{...l,...o}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:y}),[y])}};return n.scopeName=e.scopeName,n}function Nr(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function B1(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Qf="dismissableLayer.update",z1="dismissableLayer.pointerDownOutside",$1="dismissableLayer.focusOutside";let gg;const U1=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S0=k.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:y,onInteractOutside:l,onDismiss:i,...h}=t,p=k.useContext(U1),[o,u]=k.useState(null),a=(n=o==null?void 0:o.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,c]=k.useState({}),g=Fn(e,T=>u(T)),f=Array.from(p.layers),[m]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),v=f.indexOf(m),_=o?f.indexOf(o):-1,w=p.layersWithOutsidePointerEventsDisabled.size>0,x=_>=v,C=V1(T=>{const I=T.target,z=[...p.branches].some(q=>q.contains(I));!x||z||(d==null||d(T),l==null||l(T),T.defaultPrevented||i==null||i())},a),S=W1(T=>{const I=T.target;[...p.branches].some(q=>q.contains(I))||(y==null||y(T),l==null||l(T),T.defaultPrevented||i==null||i())},a);return B1(T=>{_===p.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&i&&(T.preventDefault(),i()))},a),k.useEffect(()=>{if(o)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(gg=a.body.style.pointerEvents,a.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(o)),p.layers.add(o),mg(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(a.body.style.pointerEvents=gg)}},[o,a,r,p]),k.useEffect(()=>()=>{o&&(p.layers.delete(o),p.layersWithOutsidePointerEventsDisabled.delete(o),mg())},[o,p]),k.useEffect(()=>{const T=()=>c({});return document.addEventListener(Qf,T),()=>document.removeEventListener(Qf,T)},[]),k.createElement(rn.div,Le({},h,{ref:g,style:{pointerEvents:w?x?"auto":"none":void 0,...t.style},onFocusCapture:Jt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Jt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Jt(t.onPointerDownCapture,C.onPointerDownCapture)}))});function V1(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const d=l=>{if(l.target&&!r.current){let p=function(){b0(z1,n,h,{discrete:!0})};var i=p;const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=p,e.addEventListener("click",s.current,{once:!0})):p()}else e.removeEventListener("click",s.current);r.current=!1},y=window.setTimeout(()=>{e.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(y),e.removeEventListener("pointerdown",d),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W1(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),r=k.useRef(!1);return k.useEffect(()=>{const s=d=>{d.target&&!r.current&&b0($1,n,{originalEvent:d},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mg(){const t=new CustomEvent(Qf);document.dispatchEvent(t)}function b0(t,e,n,{discrete:r}){const s=n.originalEvent.target,d=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Zb(s,d):s.dispatchEvent(d)}let yc=0;function T0(){k.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:vg()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:vg()),yc++,()=>{yc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),yc--}},[])}function vg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const _c="focusScope.autoFocusOnMount",wc="focusScope.autoFocusOnUnmount",yg={bubbles:!1,cancelable:!0},E0=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:d,...y}=t,[l,i]=k.useState(null),h=Nr(s),p=Nr(d),o=k.useRef(null),u=Fn(e,g=>i(g)),a=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let v=function(C){if(a.paused||!l)return;const S=C.target;l.contains(S)?o.current=S:lr(o.current,{select:!0})},_=function(C){if(a.paused||!l)return;const S=C.relatedTarget;S!==null&&(l.contains(S)||lr(o.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&lr(l)};var g=v,f=_,m=w;document.addEventListener("focusin",v),document.addEventListener("focusout",_);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),x.disconnect()}}},[r,l,a.paused]),k.useEffect(()=>{if(l){wg.add(a);const g=document.activeElement;if(!l.contains(g)){const m=new CustomEvent(_c,yg);l.addEventListener(_c,h),l.dispatchEvent(m),m.defaultPrevented||(H1(K1(O0(l)),{select:!0}),document.activeElement===g&&lr(l))}return()=>{l.removeEventListener(_c,h),setTimeout(()=>{const m=new CustomEvent(wc,yg);l.addEventListener(wc,p),l.dispatchEvent(m),m.defaultPrevented||lr(g??document.body,{select:!0}),l.removeEventListener(wc,p),wg.remove(a)},0)}}},[l,h,p,a]);const c=k.useCallback(g=>{if(!n&&!r||a.paused)return;const f=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(f&&m){const v=g.currentTarget,[_,w]=X1(v);_&&w?!g.shiftKey&&m===w?(g.preventDefault(),n&&lr(_,{select:!0})):g.shiftKey&&m===_&&(g.preventDefault(),n&&lr(w,{select:!0})):m===v&&g.preventDefault()}},[n,r,a.paused]);return k.createElement(rn.div,Le({tabIndex:-1},y,{ref:u,onKeyDown:c}))});function H1(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(lr(r,{select:e}),document.activeElement!==n)return}function X1(t){const e=O0(t),n=_g(e,t),r=_g(e.reverse(),t);return[n,r]}function O0(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _g(t,e){for(const n of t)if(!Y1(n,{upTo:e}))return n}function Y1(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function G1(t){return t instanceof HTMLInputElement&&"select"in t}function lr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&G1(t)&&e&&t.select()}}const wg=q1();function q1(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xg(t,e),t.unshift(e)},remove(e){var n;t=xg(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function xg(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K1(t){return t.filter(e=>e.tagName!=="A")}const Ss=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},Q1=W_["useId".toString()]||(()=>{});let Z1=0;function nl(t){const[e,n]=k.useState(Q1());return Ss(()=>{t||n(r=>r??String(Z1++))},[t]),t||(e?`radix-${e}`:"")}const J1=["top","right","bottom","left"],Br=Math.min,Ft=Math.max,Jl=Math.round,Aa=Math.floor,zr=t=>({x:t,y:t}),eT={left:"right",right:"left",bottom:"top",top:"bottom"},tT={start:"end",end:"start"};function Zf(t,e,n){return Ft(t,Br(e,n))}function Zn(t,e){return typeof t=="function"?t(e):t}function Jn(t){return t.split("-")[0]}function Ds(t){return t.split("-")[1]}function pd(t){return t==="x"?"y":"x"}function gd(t){return t==="y"?"height":"width"}function Rs(t){return["top","bottom"].includes(Jn(t))?"y":"x"}function md(t){return pd(Rs(t))}function nT(t,e,n){n===void 0&&(n=!1);const r=Ds(t),s=md(t),d=gd(s);let y=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[d]>e.floating[d]&&(y=eu(y)),[y,eu(y)]}function rT(t){const e=eu(t);return[Jf(t),e,Jf(e)]}function Jf(t){return t.replace(/start|end/g,e=>tT[e])}function iT(t,e,n){const r=["left","right"],s=["right","left"],d=["top","bottom"],y=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?d:y;default:return[]}}function sT(t,e,n,r){const s=Ds(t);let d=iT(Jn(t),n==="start",r);return s&&(d=d.map(y=>y+"-"+s),e&&(d=d.concat(d.map(Jf)))),d}function eu(t){return t.replace(/left|right|bottom|top/g,e=>eT[e])}function oT(t){return{top:0,right:0,bottom:0,left:0,...t}}function k0(t){return typeof t!="number"?oT(t):{top:t,right:t,bottom:t,left:t}}function tu(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Cg(t,e,n){let{reference:r,floating:s}=t;const d=Rs(e),y=md(e),l=gd(y),i=Jn(e),h=d==="y",p=r.x+r.width/2-s.width/2,o=r.y+r.height/2-s.height/2,u=r[l]/2-s[l]/2;let a;switch(i){case"top":a={x:p,y:r.y-s.height};break;case"bottom":a={x:p,y:r.y+r.height};break;case"right":a={x:r.x+r.width,y:o};break;case"left":a={x:r.x-s.width,y:o};break;default:a={x:r.x,y:r.y}}switch(Ds(e)){case"start":a[y]-=u*(n&&h?-1:1);break;case"end":a[y]+=u*(n&&h?-1:1);break}return a}const aT=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:d=[],platform:y}=n,l=d.filter(Boolean),i=await(y.isRTL==null?void 0:y.isRTL(e));let h=await y.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:o}=Cg(h,r,i),u=r,a={},c=0;for(let g=0;g<l.length;g++){const{name:f,fn:m}=l[g],{x:v,y:_,data:w,reset:x}=await m({x:p,y:o,initialPlacement:r,placement:u,strategy:s,middlewareData:a,rects:h,platform:y,elements:{reference:t,floating:e}});if(p=v??p,o=_??o,a={...a,[f]:{...a[f],...w}},x&&c<=50){c++,typeof x=="object"&&(x.placement&&(u=x.placement),x.rects&&(h=x.rects===!0?await y.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:p,y:o}=Cg(h,u,i)),g=-1;continue}}return{x:p,y:o,placement:u,strategy:s,middlewareData:a}};async function jo(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:d,rects:y,elements:l,strategy:i}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:o="floating",altBoundary:u=!1,padding:a=0}=Zn(e,t),c=k0(a),f=l[u?o==="floating"?"reference":"floating":o],m=tu(await d.getClippingRect({element:(n=await(d.isElement==null?void 0:d.isElement(f)))==null||n?f:f.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(l.floating)),boundary:h,rootBoundary:p,strategy:i})),v=o==="floating"?{...y.floating,x:r,y:s}:y.reference,_=await(d.getOffsetParent==null?void 0:d.getOffsetParent(l.floating)),w=await(d.isElement==null?void 0:d.isElement(_))?await(d.getScale==null?void 0:d.getScale(_))||{x:1,y:1}:{x:1,y:1},x=tu(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:_,strategy:i}):v);return{top:(m.top-x.top+c.top)/w.y,bottom:(x.bottom-m.bottom+c.bottom)/w.y,left:(m.left-x.left+c.left)/w.x,right:(x.right-m.right+c.right)/w.x}}const Sg=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:d,platform:y,elements:l,middlewareData:i}=e,{element:h,padding:p=0}=Zn(t,e)||{};if(h==null)return{};const o=k0(p),u={x:n,y:r},a=md(s),c=gd(a),g=await y.getDimensions(h),f=a==="y",m=f?"top":"left",v=f?"bottom":"right",_=f?"clientHeight":"clientWidth",w=d.reference[c]+d.reference[a]-u[a]-d.floating[c],x=u[a]-d.reference[a],C=await(y.getOffsetParent==null?void 0:y.getOffsetParent(h));let S=C?C[_]:0;(!S||!await(y.isElement==null?void 0:y.isElement(C)))&&(S=l.floating[_]||d.floating[c]);const T=w/2-x/2,I=S/2-g[c]/2-1,z=Br(o[m],I),q=Br(o[v],I),V=z,Q=S-g[c]-q,X=S/2-g[c]/2+T,ee=Zf(V,X,Q),ne=!i.arrow&&Ds(s)!=null&&X!=ee&&d.reference[c]/2-(X<V?z:q)-g[c]/2<0,ue=ne?X<V?X-V:X-Q:0;return{[a]:u[a]+ue,data:{[a]:ee,centerOffset:X-ee-ue,...ne&&{alignmentOffset:ue}},reset:ne}}}),lT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:d,rects:y,initialPlacement:l,platform:i,elements:h}=e,{mainAxis:p=!0,crossAxis:o=!0,fallbackPlacements:u,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:c="none",flipAlignment:g=!0,...f}=Zn(t,e);if((n=d.arrow)!=null&&n.alignmentOffset)return{};const m=Jn(s),v=Jn(l)===l,_=await(i.isRTL==null?void 0:i.isRTL(h.floating)),w=u||(v||!g?[eu(l)]:rT(l));!u&&c!=="none"&&w.push(...sT(l,g,c,_));const x=[l,...w],C=await jo(e,f),S=[];let T=((r=d.flip)==null?void 0:r.overflows)||[];if(p&&S.push(C[m]),o){const V=nT(s,y,_);S.push(C[V[0]],C[V[1]])}if(T=[...T,{placement:s,overflows:S}],!S.every(V=>V<=0)){var I,z;const V=(((I=d.flip)==null?void 0:I.index)||0)+1,Q=x[V];if(Q)return{data:{index:V,overflows:T},reset:{placement:Q}};let X=(z=T.filter(ee=>ee.overflows[0]<=0).sort((ee,ne)=>ee.overflows[1]-ne.overflows[1])[0])==null?void 0:z.placement;if(!X)switch(a){case"bestFit":{var q;const ee=(q=T.map(ne=>[ne.placement,ne.overflows.filter(ue=>ue>0).reduce((ue,W)=>ue+W,0)]).sort((ne,ue)=>ne[1]-ue[1])[0])==null?void 0:q[0];ee&&(X=ee);break}case"initialPlacement":X=l;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function bg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Tg(t){return J1.some(e=>t[e]>=0)}const uT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Zn(t,e);switch(r){case"referenceHidden":{const d=await jo(e,{...s,elementContext:"reference"}),y=bg(d,n.reference);return{data:{referenceHiddenOffsets:y,referenceHidden:Tg(y)}}}case"escaped":{const d=await jo(e,{...s,altBoundary:!0}),y=bg(d,n.floating);return{data:{escapedOffsets:y,escaped:Tg(y)}}}default:return{}}}}};async function cT(t,e){const{placement:n,platform:r,elements:s}=t,d=await(r.isRTL==null?void 0:r.isRTL(s.floating)),y=Jn(n),l=Ds(n),i=Rs(n)==="y",h=["left","top"].includes(y)?-1:1,p=d&&i?-1:1,o=Zn(e,t);let{mainAxis:u,crossAxis:a,alignmentAxis:c}=typeof o=="number"?{mainAxis:o,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...o};return l&&typeof c=="number"&&(a=l==="end"?c*-1:c),i?{x:a*p,y:u*h}:{x:u*h,y:a*p}}const fT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,s=await cT(e,t);return{x:n+s.x,y:r+s.y,data:s}}}},hT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:d=!0,crossAxis:y=!1,limiter:l={fn:f=>{let{x:m,y:v}=f;return{x:m,y:v}}},...i}=Zn(t,e),h={x:n,y:r},p=await jo(e,i),o=Rs(Jn(s)),u=pd(o);let a=h[u],c=h[o];if(d){const f=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=a+p[f],_=a-p[m];a=Zf(v,a,_)}if(y){const f=o==="y"?"top":"left",m=o==="y"?"bottom":"right",v=c+p[f],_=c-p[m];c=Zf(v,c,_)}const g=l.fn({...e,[u]:a,[o]:c});return{...g,data:{x:g.x-n,y:g.y-r}}}}},dT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:d,middlewareData:y}=e,{offset:l=0,mainAxis:i=!0,crossAxis:h=!0}=Zn(t,e),p={x:n,y:r},o=Rs(s),u=pd(o);let a=p[u],c=p[o];const g=Zn(l,e),f=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(i){const _=u==="y"?"height":"width",w=d.reference[u]-d.floating[_]+f.mainAxis,x=d.reference[u]+d.reference[_]-f.mainAxis;a<w?a=w:a>x&&(a=x)}if(h){var m,v;const _=u==="y"?"width":"height",w=["top","left"].includes(Jn(s)),x=d.reference[o]-d.floating[_]+(w&&((m=y.offset)==null?void 0:m[o])||0)+(w?0:f.crossAxis),C=d.reference[o]+d.reference[_]+(w?0:((v=y.offset)==null?void 0:v[o])||0)-(w?f.crossAxis:0);c<x?c=x:c>C&&(c=C)}return{[u]:a,[o]:c}}}},pT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:s,elements:d}=e,{apply:y=()=>{},...l}=Zn(t,e),i=await jo(e,l),h=Jn(n),p=Ds(n),o=Rs(n)==="y",{width:u,height:a}=r.floating;let c,g;h==="top"||h==="bottom"?(c=h,g=p===(await(s.isRTL==null?void 0:s.isRTL(d.floating))?"start":"end")?"left":"right"):(g=h,c=p==="end"?"top":"bottom");const f=a-i[c],m=u-i[g],v=!e.middlewareData.shift;let _=f,w=m;if(o){const C=u-i.left-i.right;w=p||v?Br(m,C):C}else{const C=a-i.top-i.bottom;_=p||v?Br(f,C):C}if(v&&!p){const C=Ft(i.left,0),S=Ft(i.right,0),T=Ft(i.top,0),I=Ft(i.bottom,0);o?w=u-2*(C!==0||S!==0?C+S:Ft(i.left,i.right)):_=a-2*(T!==0||I!==0?T+I:Ft(i.top,i.bottom))}await y({...e,availableWidth:w,availableHeight:_});const x=await s.getDimensions(d.floating);return u!==x.width||a!==x.height?{reset:{rects:!0}}:{}}}};function $r(t){return P0(t)?(t.nodeName||"").toLowerCase():"#document"}function jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nr(t){var e;return(e=(P0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function P0(t){return t instanceof Node||t instanceof jt(t).Node}function er(t){return t instanceof Element||t instanceof jt(t).Element}function Rn(t){return t instanceof HTMLElement||t instanceof jt(t).HTMLElement}function Eg(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jt(t).ShadowRoot}function ua(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function gT(t){return["table","td","th"].includes($r(t))}function vd(t){const e=yd(),n=nn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mT(t){let e=bs(t);for(;Rn(e)&&!Du(e);){if(vd(e))return e;e=bs(e)}return null}function yd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Du(t){return["html","body","#document"].includes($r(t))}function nn(t){return jt(t).getComputedStyle(t)}function Ru(t){return er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bs(t){if($r(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Eg(t)&&t.host||nr(t);return Eg(e)?e.host:e}function A0(t){const e=bs(t);return Du(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rn(e)&&ua(e)?e:A0(e)}function No(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=A0(t),d=s===((r=t.ownerDocument)==null?void 0:r.body),y=jt(s);return d?e.concat(y,y.visualViewport||[],ua(s)?s:[],y.frameElement&&n?No(y.frameElement):[]):e.concat(s,No(s,[],n))}function D0(t){const e=nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Rn(t),d=s?t.offsetWidth:n,y=s?t.offsetHeight:r,l=Jl(n)!==d||Jl(r)!==y;return l&&(n=d,r=y),{width:n,height:r,$:l}}function _d(t){return er(t)?t:t.contextElement}function Yi(t){const e=_d(t);if(!Rn(e))return zr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:d}=D0(e);let y=(d?Jl(n.width):n.width)/r,l=(d?Jl(n.height):n.height)/s;return(!y||!Number.isFinite(y))&&(y=1),(!l||!Number.isFinite(l))&&(l=1),{x:y,y:l}}const vT=zr(0);function R0(t){const e=jt(t);return!yd()||!e.visualViewport?vT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jt(t)?!1:e}function mi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),d=_d(t);let y=zr(1);e&&(r?er(r)&&(y=Yi(r)):y=Yi(t));const l=yT(d,n,r)?R0(d):zr(0);let i=(s.left+l.x)/y.x,h=(s.top+l.y)/y.y,p=s.width/y.x,o=s.height/y.y;if(d){const u=jt(d),a=r&&er(r)?jt(r):r;let c=u.frameElement;for(;c&&r&&a!==u;){const g=Yi(c),f=c.getBoundingClientRect(),m=nn(c),v=f.left+(c.clientLeft+parseFloat(m.paddingLeft))*g.x,_=f.top+(c.clientTop+parseFloat(m.paddingTop))*g.y;i*=g.x,h*=g.y,p*=g.x,o*=g.y,i+=v,h+=_,c=jt(c).frameElement}}return tu({width:p,height:o,x:i,y:h})}function _T(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=Rn(n),d=nr(n);if(n===d)return e;let y={scrollLeft:0,scrollTop:0},l=zr(1);const i=zr(0);if((s||!s&&r!=="fixed")&&(($r(n)!=="body"||ua(d))&&(y=Ru(n)),Rn(n))){const h=mi(n);l=Yi(n),i.x=h.x+n.clientLeft,i.y=h.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-y.scrollLeft*l.x+i.x,y:e.y*l.y-y.scrollTop*l.y+i.y}}function wT(t){return Array.from(t.getClientRects())}function M0(t){return mi(nr(t)).left+Ru(t).scrollLeft}function xT(t){const e=nr(t),n=Ru(t),r=t.ownerDocument.body,s=Ft(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),d=Ft(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let y=-n.scrollLeft+M0(t);const l=-n.scrollTop;return nn(r).direction==="rtl"&&(y+=Ft(e.clientWidth,r.clientWidth)-s),{width:s,height:d,x:y,y:l}}function CT(t,e){const n=jt(t),r=nr(t),s=n.visualViewport;let d=r.clientWidth,y=r.clientHeight,l=0,i=0;if(s){d=s.width,y=s.height;const h=yd();(!h||h&&e==="fixed")&&(l=s.offsetLeft,i=s.offsetTop)}return{width:d,height:y,x:l,y:i}}function ST(t,e){const n=mi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,d=Rn(t)?Yi(t):zr(1),y=t.clientWidth*d.x,l=t.clientHeight*d.y,i=s*d.x,h=r*d.y;return{width:y,height:l,x:i,y:h}}function Og(t,e,n){let r;if(e==="viewport")r=CT(t,n);else if(e==="document")r=xT(nr(t));else if(er(e))r=ST(e,n);else{const s=R0(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return tu(r)}function F0(t,e){const n=bs(t);return n===e||!er(n)||Du(n)?!1:nn(n).position==="fixed"||F0(n,e)}function bT(t,e){const n=e.get(t);if(n)return n;let r=No(t,[],!1).filter(l=>er(l)&&$r(l)!=="body"),s=null;const d=nn(t).position==="fixed";let y=d?bs(t):t;for(;er(y)&&!Du(y);){const l=nn(y),i=vd(y);!i&&l.position==="fixed"&&(s=null),(d?!i&&!s:!i&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ua(y)&&!i&&F0(t,y))?r=r.filter(p=>p!==y):s=l,y=bs(y)}return e.set(t,r),r}function TT(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const y=[...n==="clippingAncestors"?bT(e,this._c):[].concat(n),r],l=y[0],i=y.reduce((h,p)=>{const o=Og(e,p,s);return h.top=Ft(o.top,h.top),h.right=Br(o.right,h.right),h.bottom=Br(o.bottom,h.bottom),h.left=Ft(o.left,h.left),h},Og(e,l,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}}function ET(t){return D0(t)}function OT(t,e,n){const r=Rn(e),s=nr(e),d=n==="fixed",y=mi(t,!0,d,e);let l={scrollLeft:0,scrollTop:0};const i=zr(0);if(r||!r&&!d)if(($r(e)!=="body"||ua(s))&&(l=Ru(e)),r){const h=mi(e,!0,d,e);i.x=h.x+e.clientLeft,i.y=h.y+e.clientTop}else s&&(i.x=M0(s));return{x:y.left+l.scrollLeft-i.x,y:y.top+l.scrollTop-i.y,width:y.width,height:y.height}}function kg(t,e){return!Rn(t)||nn(t).position==="fixed"?null:e?e(t):t.offsetParent}function L0(t,e){const n=jt(t);if(!Rn(t))return n;let r=kg(t,e);for(;r&&gT(r)&&nn(r).position==="static";)r=kg(r,e);return r&&($r(r)==="html"||$r(r)==="body"&&nn(r).position==="static"&&!vd(r))?n:r||mT(t)||n}const kT=async function(t){let{reference:e,floating:n,strategy:r}=t;const s=this.getOffsetParent||L0,d=this.getDimensions;return{reference:OT(e,await s(n),r),floating:{x:0,y:0,...await d(n)}}};function PT(t){return nn(t).direction==="rtl"}const AT={convertOffsetParentRelativeRectToViewportRelativeRect:_T,getDocumentElement:nr,getClippingRect:TT,getOffsetParent:L0,getElementRects:kT,getClientRects:wT,getDimensions:ET,getScale:Yi,isElement:er,isRTL:PT};function DT(t,e){let n=null,r;const s=nr(t);function d(){clearTimeout(r),n&&n.disconnect(),n=null}function y(l,i){l===void 0&&(l=!1),i===void 0&&(i=1),d();const{left:h,top:p,width:o,height:u}=t.getBoundingClientRect();if(l||e(),!o||!u)return;const a=Aa(p),c=Aa(s.clientWidth-(h+o)),g=Aa(s.clientHeight-(p+u)),f=Aa(h),v={rootMargin:-a+"px "+-c+"px "+-g+"px "+-f+"px",threshold:Ft(0,Br(1,i))||1};let _=!0;function w(x){const C=x[0].intersectionRatio;if(C!==i){if(!_)return y();C?y(!1,C):r=setTimeout(()=>{y(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(t)}return y(!0),d}function RT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:d=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:i=!1}=r,h=_d(t),p=s||d?[...h?No(h):[],...No(e)]:[];p.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),d&&m.addEventListener("resize",n)});const o=h&&l?DT(h,n):null;let u=-1,a=null;y&&(a=new ResizeObserver(m=>{let[v]=m;v&&v.target===h&&a&&(a.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{a&&a.observe(e)})),n()}),h&&!i&&a.observe(h),a.observe(e));let c,g=i?mi(t):null;i&&f();function f(){const m=mi(t);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,c=requestAnimationFrame(f)}return n(),()=>{p.forEach(m=>{s&&m.removeEventListener("scroll",n),d&&m.removeEventListener("resize",n)}),o&&o(),a&&a.disconnect(),a=null,i&&cancelAnimationFrame(c)}}const MT=(t,e,n)=>{const r=new Map,s={platform:AT,...n},d={...s.platform,_c:r};return aT(t,e,{...s,platform:d})},FT=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Sg({element:r.current,padding:s}).fn(n):{}:r?Sg({element:r,padding:s}).fn(n):{}}}};var rl=typeof document<"u"?k.useLayoutEffect:k.useEffect;function nu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!nu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const d=s[r];if(!(d==="_owner"&&t.$$typeof)&&!nu(t[d],e[d]))return!1}return!0}return t!==t&&e!==e}function I0(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Pg(t,e){const n=I0(t);return Math.round(e*n)/n}function Ag(t){const e=k.useRef(t);return rl(()=>{e.current=t}),e}function LT(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:d,floating:y}={},transform:l=!0,whileElementsMounted:i,open:h}=t,[p,o]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,a]=k.useState(r);nu(u,r)||a(r);const[c,g]=k.useState(null),[f,m]=k.useState(null),v=k.useCallback(ne=>{ne!=C.current&&(C.current=ne,g(ne))},[g]),_=k.useCallback(ne=>{ne!==S.current&&(S.current=ne,m(ne))},[m]),w=d||c,x=y||f,C=k.useRef(null),S=k.useRef(null),T=k.useRef(p),I=Ag(i),z=Ag(s),q=k.useCallback(()=>{if(!C.current||!S.current)return;const ne={placement:e,strategy:n,middleware:u};z.current&&(ne.platform=z.current),MT(C.current,S.current,ne).then(ue=>{const W={...ue,isPositioned:!0};V.current&&!nu(T.current,W)&&(T.current=W,ia.flushSync(()=>{o(W)}))})},[u,e,n,z]);rl(()=>{h===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,o(ne=>({...ne,isPositioned:!1})))},[h]);const V=k.useRef(!1);rl(()=>(V.current=!0,()=>{V.current=!1}),[]),rl(()=>{if(w&&(C.current=w),x&&(S.current=x),w&&x){if(I.current)return I.current(w,x,q);q()}},[w,x,q,I]);const Q=k.useMemo(()=>({reference:C,floating:S,setReference:v,setFloating:_}),[v,_]),X=k.useMemo(()=>({reference:w,floating:x}),[w,x]),ee=k.useMemo(()=>{const ne={position:n,left:0,top:0};if(!X.floating)return ne;const ue=Pg(X.floating,p.x),W=Pg(X.floating,p.y);return l?{...ne,transform:"translate("+ue+"px, "+W+"px)",...I0(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:W}},[n,l,X.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:q,refs:Q,elements:X,floatingStyles:ee}),[p,q,Q,X,ee])}function IT(t){const[e,n]=k.useState(void 0);return Ss(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const d=s[0];let y,l;if("borderBoxSize"in d){const i=d.borderBoxSize,h=Array.isArray(i)?i[0]:i;y=h.inlineSize,l=h.blockSize}else y=t.offsetWidth,l=t.offsetHeight;n({width:y,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const j0="Popper",[N0,B0]=dd(j0),[jT,z0]=N0(j0),NT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=k.useState(null);return k.createElement(jT,{scope:e,anchor:r,onAnchorChange:s},n)},BT="PopperAnchor",zT=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,d=z0(BT,n),y=k.useRef(null),l=Fn(e,y);return k.useEffect(()=>{d.onAnchorChange((r==null?void 0:r.current)||y.current)}),r?null:k.createElement(rn.div,Le({},s,{ref:l}))}),$0="PopperContent",[$T,RO]=N0($0),UT=k.forwardRef((t,e)=>{var n,r,s,d,y,l,i,h;const{__scopePopper:p,side:o="bottom",sideOffset:u=0,align:a="center",alignOffset:c=0,arrowPadding:g=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:C,...S}=t,T=z0($0,p),[I,z]=k.useState(null),q=Fn(e,Z=>z(Z)),[V,Q]=k.useState(null),X=IT(V),ee=(n=X==null?void 0:X.width)!==null&&n!==void 0?n:0,ne=(r=X==null?void 0:X.height)!==null&&r!==void 0?r:0,ue=o+(a!=="center"?"-"+a:""),W=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},b=Array.isArray(m)?m:[m],P=b.length>0,A={padding:W,boundary:b.filter(VT),altBoundary:P},{refs:R,floatingStyles:U,placement:D,isPositioned:O,middlewareData:j}=LT({strategy:"fixed",placement:ue,whileElementsMounted:(...Z)=>RT(...Z,{animationFrame:x==="always"}),elements:{reference:T.anchor},middleware:[fT({mainAxis:u+ne,alignmentAxis:c}),f&&hT({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?dT():void 0,...A}),f&&lT({...A}),pT({...A,apply:({elements:Z,rects:te,availableWidth:E,availableHeight:M})=>{const{width:N,height:oe}=te.reference,G=Z.floating.style;G.setProperty("--radix-popper-available-width",`${E}px`),G.setProperty("--radix-popper-available-height",`${M}px`),G.setProperty("--radix-popper-anchor-width",`${N}px`),G.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),V&&FT({element:V,padding:g}),WT({arrowWidth:ee,arrowHeight:ne}),w&&uT({strategy:"referenceHidden",...A})]}),[B,K]=U0(D),H=Nr(C);Ss(()=>{O&&(H==null||H())},[O,H]);const re=(s=j.arrow)===null||s===void 0?void 0:s.x,ae=(d=j.arrow)===null||d===void 0?void 0:d.y,fe=((y=j.arrow)===null||y===void 0?void 0:y.centerOffset)!==0,[Y,$]=k.useState();return Ss(()=>{I&&$(window.getComputedStyle(I).zIndex)},[I]),k.createElement("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:O?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(l=j.transformOrigin)===null||l===void 0?void 0:l.x,(i=j.transformOrigin)===null||i===void 0?void 0:i.y].join(" ")},dir:t.dir},k.createElement($T,{scope:p,placedSide:B,onArrowChange:Q,arrowX:re,arrowY:ae,shouldHideArrow:fe},k.createElement(rn.div,Le({"data-side":B,"data-align":K},S,{ref:q,style:{...S.style,animation:O?void 0:"none",opacity:(h=j.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function VT(t){return t!==null}const WT=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,d,y;const{placement:l,rects:i,middlewareData:h}=e,o=((n=h.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,u=o?0:t.arrowWidth,a=o?0:t.arrowHeight,[c,g]=U0(l),f={start:"0%",center:"50%",end:"100%"}[g],m=((r=(s=h.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+u/2,v=((d=(y=h.arrow)===null||y===void 0?void 0:y.y)!==null&&d!==void 0?d:0)+a/2;let _="",w="";return c==="bottom"?(_=o?f:`${m}px`,w=`${-a}px`):c==="top"?(_=o?f:`${m}px`,w=`${i.floating.height+a}px`):c==="right"?(_=`${-a}px`,w=o?f:`${v}px`):c==="left"&&(_=`${i.floating.width+a}px`,w=o?f:`${v}px`),{data:{x:_,y:w}}}});function U0(t){const[e,n="center"]=t.split("-");return[e,n]}const HT=NT,XT=zT,YT=UT,V0=k.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?eC.createPortal(k.createElement(rn.div,Le({},s,{ref:e})),r):null});function GT(t,e){return k.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const Ms=t=>{const{present:e,children:n}=t,r=qT(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),d=Fn(r.ref,s.ref);return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:d}):null};Ms.displayName="Presence";function qT(t){const[e,n]=k.useState(),r=k.useRef({}),s=k.useRef(t),d=k.useRef("none"),y=t?"mounted":"unmounted",[l,i]=GT(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=Da(r.current);d.current=l==="mounted"?h:"none"},[l]),Ss(()=>{const h=r.current,p=s.current;if(p!==t){const u=d.current,a=Da(h);t?i("MOUNT"):a==="none"||(h==null?void 0:h.display)==="none"?i("UNMOUNT"):i(p&&u!==a?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,i]),Ss(()=>{if(e){const h=o=>{const a=Da(r.current).includes(o.animationName);o.target===e&&a&&ia.flushSync(()=>i("ANIMATION_END"))},p=o=>{o.target===e&&(d.current=Da(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else i("ANIMATION_END")},[e,i]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Da(t){return(t==null?void 0:t.animationName)||"none"}function W0({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=KT({defaultProp:e,onChange:n}),d=t!==void 0,y=d?t:r,l=Nr(n),i=k.useCallback(h=>{if(d){const o=typeof h=="function"?h(t):h;o!==t&&l(o)}else s(h)},[d,t,s,l]);return[y,i]}function KT({defaultProp:t,onChange:e}){const n=k.useState(t),[r]=n,s=k.useRef(r),d=Nr(e);return k.useEffect(()=>{s.current!==r&&(d(r),s.current=r)},[r,s,d]),n}var QT=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Si=new WeakMap,Ra=new WeakMap,Ma={},xc=0,H0=function(t){return t&&(t.host||H0(t.parentNode))},ZT=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=H0(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},JT=function(t,e,n,r){var s=ZT(e,Array.isArray(t)?t:[t]);Ma[n]||(Ma[n]=new WeakMap);var d=Ma[n],y=[],l=new Set,i=new Set(s),h=function(o){!o||l.has(o)||(l.add(o),h(o.parentNode))};s.forEach(h);var p=function(o){!o||i.has(o)||Array.prototype.forEach.call(o.children,function(u){if(l.has(u))p(u);else{var a=u.getAttribute(r),c=a!==null&&a!=="false",g=(Si.get(u)||0)+1,f=(d.get(u)||0)+1;Si.set(u,g),d.set(u,f),y.push(u),g===1&&c&&Ra.set(u,!0),f===1&&u.setAttribute(n,"true"),c||u.setAttribute(r,"true")}})};return p(e),l.clear(),xc++,function(){y.forEach(function(o){var u=Si.get(o)-1,a=d.get(o)-1;Si.set(o,u),d.set(o,a),u||(Ra.has(o)||o.removeAttribute(r),Ra.delete(o)),a||o.removeAttribute(n)}),xc--,xc||(Si=new WeakMap,Si=new WeakMap,Ra=new WeakMap,Ma={})}},X0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||QT(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),JT(r,s,n,"aria-hidden")):function(){return null}},bn=function(){return bn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(e[d]=n[d])}return e},bn.apply(this,arguments)};function Y0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eE(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,d;r<s;r++)(d||!(r in e))&&(d||(d=Array.prototype.slice.call(e,0,r)),d[r]=e[r]);return t.concat(d||Array.prototype.slice.call(e))}var il="right-scroll-bar-position",sl="width-before-scroll-bar",tE="with-scroll-bars-hidden",nE="--removed-body-scroll-bar-size";function rE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iE(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}function sE(t,e){return iE(e||null,function(n){return t.forEach(function(r){return rE(r,n)})})}function oE(t){return t}function aE(t,e){e===void 0&&(e=oE);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(d){var y=e(d,r);return n.push(y),function(){n=n.filter(function(l){return l!==y})}},assignSyncMedium:function(d){for(r=!0;n.length;){var y=n;n=[],y.forEach(d)}n={push:function(l){return d(l)},filter:function(){return n}}},assignMedium:function(d){r=!0;var y=[];if(n.length){var l=n;n=[],l.forEach(d),y=n}var i=function(){var p=y;y=[],p.forEach(d)},h=function(){return Promise.resolve().then(i)};h(),n={push:function(p){y.push(p),h()},filter:function(p){return y=y.filter(p),n}}}};return s}function lE(t){t===void 0&&(t={});var e=aE(null);return e.options=bn({async:!0,ssr:!1},t),e}var G0=function(t){var e=t.sideCar,n=Y0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,bn({},n))};G0.isSideCarExport=!0;function uE(t,e){return t.useMedium(e),G0}var q0=lE(),Cc=function(){},Mu=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:Cc,onWheelCapture:Cc,onTouchMoveCapture:Cc}),s=r[0],d=r[1],y=t.forwardProps,l=t.children,i=t.className,h=t.removeScrollBar,p=t.enabled,o=t.shards,u=t.sideCar,a=t.noIsolation,c=t.inert,g=t.allowPinchZoom,f=t.as,m=f===void 0?"div":f,v=Y0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=u,w=sE([n,e]),x=bn(bn({},v),s);return k.createElement(k.Fragment,null,p&&k.createElement(_,{sideCar:q0,removeScrollBar:h,shards:o,noIsolation:a,inert:c,setCallbacks:d,allowPinchZoom:!!g,lockRef:n}),y?k.cloneElement(k.Children.only(l),bn(bn({},x),{ref:w})):k.createElement(m,bn({},x,{className:i,ref:w}),l))});Mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mu.classNames={fullWidth:sl,zeroRight:il};var Dg,cE=function(){if(Dg)return Dg;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cE();return e&&t.setAttribute("nonce",e),t}function hE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function dE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pE=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fE())&&(hE(e,n),dE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gE=function(){var t=pE();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},K0=function(){var t=gE(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},mE={left:0,top:0,right:0,gap:0},Sc=function(t){return parseInt(t||"",10)||0},vE=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sc(n),Sc(r),Sc(s)]},yE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mE;var e=vE(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_E=K0(),wE=function(t,e,n,r){var s=t.left,d=t.top,y=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(il,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(il," .").concat(il,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sl," .").concat(sl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(nE,": ").concat(l,`px;
  }
`)},xE=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r,d=k.useMemo(function(){return yE(s)},[s]);return k.createElement(_E,{styles:wE(d,!e,s,n?"":"!important")})},eh=!1;if(typeof window<"u")try{var Fa=Object.defineProperty({},"passive",{get:function(){return eh=!0,!0}});window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{eh=!1}var bi=eh?{passive:!1}:!1,CE=function(t){return t.tagName==="TEXTAREA"},Q0=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!CE(t)&&n[e]==="visible")},SE=function(t){return Q0(t,"overflowY")},bE=function(t){return Q0(t,"overflowX")},Rg=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Z0(t,n);if(r){var s=J0(t,n),d=s[1],y=s[2];if(d>y)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},TE=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EE=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Z0=function(t,e){return t==="v"?SE(e):bE(e)},J0=function(t,e){return t==="v"?TE(e):EE(e)},OE=function(t,e){return t==="h"&&e==="rtl"?-1:1},kE=function(t,e,n,r,s){var d=OE(t,window.getComputedStyle(e).direction),y=d*r,l=n.target,i=e.contains(l),h=!1,p=y>0,o=0,u=0;do{var a=J0(t,l),c=a[0],g=a[1],f=a[2],m=g-f-d*c;(c||m)&&Z0(t,l)&&(o+=m,u+=c),l=l.parentNode}while(!i&&l!==document.body||i&&(e.contains(l)||e===l));return(p&&(s&&o===0||!s&&y>o)||!p&&(s&&u===0||!s&&-y>u))&&(h=!0),h},La=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mg=function(t){return[t.deltaX,t.deltaY]},Fg=function(t){return t&&"current"in t?t.current:t},PE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},DE=0,Ti=[];function RE(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState(DE++)[0],d=k.useState(function(){return K0()})[0],y=k.useRef(t);k.useEffect(function(){y.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=eE([t.lockRef.current],(t.shards||[]).map(Fg),!0).filter(Boolean);return g.forEach(function(f){return f.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=k.useCallback(function(g,f){if("touches"in g&&g.touches.length===2)return!y.current.allowPinchZoom;var m=La(g),v=n.current,_="deltaX"in g?g.deltaX:v[0]-m[0],w="deltaY"in g?g.deltaY:v[1]-m[1],x,C=g.target,S=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&S==="h"&&C.type==="range")return!1;var T=Rg(S,C);if(!T)return!0;if(T?x=S:(x=S==="v"?"h":"v",T=Rg(S,C)),!T)return!1;if(!r.current&&"changedTouches"in g&&(_||w)&&(r.current=x),!x)return!0;var I=r.current||x;return kE(I,f,g,I==="h"?_:w,!0)},[]),i=k.useCallback(function(g){var f=g;if(!(!Ti.length||Ti[Ti.length-1]!==d)){var m="deltaY"in f?Mg(f):La(f),v=e.current.filter(function(x){return x.name===f.type&&x.target===f.target&&PE(x.delta,m)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var _=(y.current.shards||[]).map(Fg).filter(Boolean).filter(function(x){return x.contains(f.target)}),w=_.length>0?l(f,_[0]):!y.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),h=k.useCallback(function(g,f,m,v){var _={name:g,delta:f,target:m,should:v};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(w){return w!==_})},1)},[]),p=k.useCallback(function(g){n.current=La(g),r.current=void 0},[]),o=k.useCallback(function(g){h(g.type,Mg(g),g.target,l(g,t.lockRef.current))},[]),u=k.useCallback(function(g){h(g.type,La(g),g.target,l(g,t.lockRef.current))},[]);k.useEffect(function(){return Ti.push(d),t.setCallbacks({onScrollCapture:o,onWheelCapture:o,onTouchMoveCapture:u}),document.addEventListener("wheel",i,bi),document.addEventListener("touchmove",i,bi),document.addEventListener("touchstart",p,bi),function(){Ti=Ti.filter(function(g){return g!==d}),document.removeEventListener("wheel",i,bi),document.removeEventListener("touchmove",i,bi),document.removeEventListener("touchstart",p,bi)}},[]);var a=t.removeScrollBar,c=t.inert;return k.createElement(k.Fragment,null,c?k.createElement(d,{styles:AE(s)}):null,a?k.createElement(xE,{gapMode:"margin"}):null)}const ME=uE(q0,RE);var e_=k.forwardRef(function(t,e){return k.createElement(Mu,bn({},t,{ref:e,sideCar:ME}))});e_.classNames=Mu.classNames;const t_=e_,n_="Popover",[r_,MO]=dd(n_,[B0]),wd=B0(),[FE,Fs]=r_(n_),LE=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:d,modal:y=!1}=t,l=wd(e),i=k.useRef(null),[h,p]=k.useState(!1),[o=!1,u]=W0({prop:r,defaultProp:s,onChange:d});return k.createElement(HT,l,k.createElement(FE,{scope:e,contentId:nl(),triggerRef:i,open:o,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(a=>!a),[u]),hasCustomAnchor:h,onCustomAnchorAdd:k.useCallback(()=>p(!0),[]),onCustomAnchorRemove:k.useCallback(()=>p(!1),[]),modal:y},n))},IE="PopoverTrigger",jE=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Fs(IE,n),d=wd(n),y=Fn(e,s.triggerRef),l=k.createElement(rn.button,Le({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":o_(s.open)},r,{ref:y,onClick:Jt(t.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?l:k.createElement(XT,Le({asChild:!0},d),l)}),i_="PopoverPortal",[NE,BE]=r_(i_,{forceMount:void 0}),zE=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,d=Fs(i_,e);return k.createElement(NE,{scope:e,forceMount:n},k.createElement(Ms,{present:n||d.open},k.createElement(V0,{asChild:!0,container:s},r)))},Bo="PopoverContent",$E=k.forwardRef((t,e)=>{const n=BE(Bo,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,d=Fs(Bo,t.__scopePopover);return k.createElement(Ms,{present:r||d.open},d.modal?k.createElement(UE,Le({},s,{ref:e})):k.createElement(VE,Le({},s,{ref:e})))}),UE=k.forwardRef((t,e)=>{const n=Fs(Bo,t.__scopePopover),r=k.useRef(null),s=Fn(e,r),d=k.useRef(!1);return k.useEffect(()=>{const y=r.current;if(y)return X0(y)},[]),k.createElement(t_,{as:As,allowPinchZoom:!0},k.createElement(s_,Le({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jt(t.onCloseAutoFocus,y=>{var l;y.preventDefault(),d.current||(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:Jt(t.onPointerDownOutside,y=>{const l=y.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0,h=l.button===2||i;d.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Jt(t.onFocusOutside,y=>y.preventDefault(),{checkForDefaultPrevented:!1})})))}),VE=k.forwardRef((t,e)=>{const n=Fs(Bo,t.__scopePopover),r=k.useRef(!1),s=k.useRef(!1);return k.createElement(s_,Le({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var y;if((y=t.onCloseAutoFocus)===null||y===void 0||y.call(t,d),!d.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),d.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:d=>{var y,l;(y=t.onInteractOutside)===null||y===void 0||y.call(t,d),d.defaultPrevented||(r.current=!0,d.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=d.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(i))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&s.current&&d.preventDefault()}}))}),s_=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:d,disableOutsidePointerEvents:y,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:h,onInteractOutside:p,...o}=t,u=Fs(Bo,n),a=wd(n);return T0(),k.createElement(E0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:d},k.createElement(S0,{asChild:!0,disableOutsidePointerEvents:y,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:h,onDismiss:()=>u.onOpenChange(!1)},k.createElement(YT,Le({"data-state":o_(u.open),role:"dialog",id:u.contentId},a,o,{ref:e,style:{...o.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function o_(t){return t?"open":"closed"}const WE=LE,HE=jE,XE=zE,a_=$E,YE=WE,GE=HE,l_=k.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>J.jsx(XE,{children:J.jsx(a_,{ref:s,align:e,sideOffset:n,className:ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));l_.displayName=a_.displayName;const u_=k.forwardRef(({className:t,...e},n)=>J.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));u_.displayName="Textarea";const qE=x0({url:Kf().url().optional(),tooltip:Kf().optional()}),KE=()=>{const{canvas:t}=hd(),[e,n]=k.useState(),[r,s]=k.useState({x:0,y:0,width:0,height:0}),d=l=>({x:l.left??0,y:l.top?l.top+50:0,width:l.width&&l.scaleX?l.width*l.scaleX:0,height:l.height&&l.scaleY?l.height*l.scaleY:0}),y=l=>{var h;const i=(h=l.selected)==null?void 0:h[0];i!==void 0&&(n(i),s(d(i)))};return k.useEffect(()=>{t&&(t.on("selection:created",y),t.on("selection:updated",y),t.on("selection:cleared",()=>{n(null)}),t.on("object:moving",l=>{const i=l.target;i&&s(d(i))}),t.on("object:scaling",l=>{const i=l.target;i&&s(d(i))}))},[t]),e?J.jsx(J.Fragment,{children:J.jsxs(YE,{open:!0,children:[J.jsx(GE,{asChild:!0,children:J.jsx("button",{className:"absolute pointer-events-none",style:{left:r.x,top:r.y,width:r.width,height:r.height}})}),J.jsx(l_,{sideOffset:20,side:"left",align:"center",children:J.jsx(QE,{object:e,onUpdate:()=>{}},e.id)})]})}):null},QE=t=>{const e=f0({mode:"onChange",resolver:y0(qE),defaultValues:{url:t.object.url,tooltip:t.object.tooltip}}),n=s=>{t.onUpdate(s)},r=e.watch();return k.useEffect(()=>{t.object.tooltip=r.tooltip,t.object.url=r.url,t.onUpdate(r)},[r]),J.jsx(p0,{...e,children:J.jsxs("form",{onSubmit:e.handleSubmit(n),className:"grid gap-4",children:[J.jsx(Bl,{control:e.control,name:"url",render:({field:s})=>J.jsxs(Ao,{children:[J.jsx(Do,{children:"Link"}),J.jsx(Ro,{children:J.jsx(zl,{type:"url",className:"h-8",...s})}),J.jsx(Mo,{})]})}),J.jsx(Bl,{control:e.control,name:"tooltip",render:({field:s})=>J.jsxs(Ao,{children:[J.jsx(Do,{children:"Tooltip"}),J.jsx(Ro,{children:J.jsx(u_,{className:"h-8",placeholder:"Enter tooltip text",...s})}),J.jsx(Mo,{})]})})]})})},ZE=t=>{const e=k.useRef(null),{src:n,onUpdate:r}=t,[s,d]=k.useState(!1);return J.jsx(j1,{onUpdate:r,children:J.jsxs("div",{className:"relative",children:[J.jsx(JE,{isSaving:t.isSaving}),J.jsxs("div",{className:"relative",ref:e,children:[J.jsx("img",{className:"w-full h-auto",src:n,onLoad:()=>d(!0),alt:"Image to edit"}),s&&e.current?J.jsx("div",{className:"absolute inset-0",children:J.jsx(I1,{width:e.current.clientWidth,height:e.current.clientHeight,initialData:t.data})}):null]}),J.jsx(KE,{})]})})},JE=t=>{const{canvas:e,handleSave:n}=hd();k.useEffect(()=>{e&&(e.on("mouse:over",function(s){s.target&&(s.target.set("opacity",.4),e.renderAll())}),e.on("mouse:out",function(s){s.target&&(s.target.set("opacity",.2),e.renderAll())}))},[e]);const r=()=>{const s=new Zl.fabric.Rect({backgroundColor:"rgba(0,0,0)",opacity:.2,width:100,height:100,left:e.getWidth()/2-50,top:e.getHeight()/2-50,strokeWidth:1,stroke:"white"});e.add(s),e.setActiveObject(s)};return J.jsxs("div",{className:"flex gap-2 mb-2",children:[J.jsxs(Ir,{type:"button",onClick:r,children:[J.jsx(h1,{className:"w-4 h-4 mr-2"}),"Add Hotspot"]}),J.jsxs(Ir,{type:"button",onClick:()=>n(),disabled:t.isSaving,children:[t.isSaving?J.jsx(_0,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save"]})]})},c_=t=>J.jsx(J.Fragment,{children:t.text}),f_=()=>J.jsx("div",{className:"flex justify-center",children:J.jsx(f1,{className:"w-6 h-6 text-muted-foreground animate-spin"})}),eO=t=>{var l,i;const e=ZS(t.id),[n,r]=k.useState(0),s=(i=(l=e.data)==null?void 0:l.pages)==null?void 0:i[n],d=M1(t.id,s==null?void 0:s.id),y=h=>{d.mutate({name:s.name,areas_json:h})};return e.data?J.jsxs("div",{children:[J.jsxs("h2",{className:"text-lg font-medium",children:["Publication: ",e.data.title]}),s?J.jsx(ZE,{src:s.url,data:s.areas_json,onUpdate:y,isSaving:d.status==="pending"}):J.jsx(c_,{text:"No page found"}),J.jsx(tO,{activePage:n,updatePage:h=>r(h),numPages:e.data.pages.length})]},n):J.jsx(f_,{})},tO=t=>{const{activePage:e,updatePage:n,numPages:r}=t;return J.jsxs("div",{className:"flex py-2 select-none items-center",children:[J.jsx(Ir,{variant:"outline",onClick:()=>n(e-1),disabled:e===0,children:J.jsx(u1,{})}),J.jsxs("div",{className:"flex-1 text-center font-bold",children:[e+1,"/",r]}),J.jsx(Ir,{variant:"outline",onClick:()=>n(e+1),disabled:e===r-1,children:J.jsx(c1,{})})]})},h_="Dialog",[d_,FO]=dd(h_),[nO,mn]=d_(h_),rO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:d,modal:y=!0}=t,l=k.useRef(null),i=k.useRef(null),[h=!1,p]=W0({prop:r,defaultProp:s,onChange:d});return k.createElement(nO,{scope:e,triggerRef:l,contentRef:i,contentId:nl(),titleId:nl(),descriptionId:nl(),open:h,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(o=>!o),[p]),modal:y},n)},iO="DialogTrigger",sO=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mn(iO,n),d=Fn(e,s.triggerRef);return k.createElement(rn.button,Le({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xd(s.open)},r,{ref:d,onClick:Jt(t.onClick,s.onOpenToggle)}))}),p_="DialogPortal",[oO,g_]=d_(p_,{forceMount:void 0}),aO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,d=mn(p_,e);return k.createElement(oO,{scope:e,forceMount:n},k.Children.map(r,y=>k.createElement(Ms,{present:n||d.open},k.createElement(V0,{asChild:!0,container:s},y))))},th="DialogOverlay",lO=k.forwardRef((t,e)=>{const n=g_(th,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,d=mn(th,t.__scopeDialog);return d.modal?k.createElement(Ms,{present:r||d.open},k.createElement(uO,Le({},s,{ref:e}))):null}),uO=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mn(th,n);return k.createElement(t_,{as:As,allowPinchZoom:!0,shards:[s.contentRef]},k.createElement(rn.div,Le({"data-state":xd(s.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),zo="DialogContent",cO=k.forwardRef((t,e)=>{const n=g_(zo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,d=mn(zo,t.__scopeDialog);return k.createElement(Ms,{present:r||d.open},d.modal?k.createElement(fO,Le({},s,{ref:e})):k.createElement(hO,Le({},s,{ref:e})))}),fO=k.forwardRef((t,e)=>{const n=mn(zo,t.__scopeDialog),r=k.useRef(null),s=Fn(e,n.contentRef,r);return k.useEffect(()=>{const d=r.current;if(d)return X0(d)},[]),k.createElement(m_,Le({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jt(t.onCloseAutoFocus,d=>{var y;d.preventDefault(),(y=n.triggerRef.current)===null||y===void 0||y.focus()}),onPointerDownOutside:Jt(t.onPointerDownOutside,d=>{const y=d.detail.originalEvent,l=y.button===0&&y.ctrlKey===!0;(y.button===2||l)&&d.preventDefault()}),onFocusOutside:Jt(t.onFocusOutside,d=>d.preventDefault())}))}),hO=k.forwardRef((t,e)=>{const n=mn(zo,t.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return k.createElement(m_,Le({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var y;if((y=t.onCloseAutoFocus)===null||y===void 0||y.call(t,d),!d.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),d.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:d=>{var y,l;(y=t.onInteractOutside)===null||y===void 0||y.call(t,d),d.defaultPrevented||(r.current=!0,d.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=d.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(i))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&s.current&&d.preventDefault()}}))}),m_=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:d,...y}=t,l=mn(zo,n),i=k.useRef(null),h=Fn(e,i);return T0(),k.createElement(k.Fragment,null,k.createElement(E0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:d},k.createElement(S0,Le({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xd(l.open)},y,{ref:h,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),dO="DialogTitle",pO=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mn(dO,n);return k.createElement(rn.h2,Le({id:s.titleId},r,{ref:e}))}),gO="DialogDescription",mO=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mn(gO,n);return k.createElement(rn.p,Le({id:s.descriptionId},r,{ref:e}))}),vO="DialogClose",yO=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=mn(vO,n);return k.createElement(rn.button,Le({type:"button"},r,{ref:e,onClick:Jt(t.onClick,()=>s.onOpenChange(!1))}))});function xd(t){return t?"open":"closed"}const _O=rO,wO=sO,xO=aO,v_=lO,y_=cO,__=pO,w_=mO,CO=yO,SO=_O,bO=wO,TO=xO,x_=k.forwardRef(({className:t,...e},n)=>J.jsx(v_,{ref:n,className:ht("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));x_.displayName=v_.displayName;const C_=k.forwardRef(({className:t,children:e,...n},r)=>J.jsxs(TO,{children:[J.jsx(x_,{}),J.jsxs(y_,{ref:r,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...n,children:[e,J.jsxs(CO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[J.jsx(d1,{className:"h-4 w-4"}),J.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C_.displayName=y_.displayName;const S_=({className:t,...e})=>J.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});S_.displayName="DialogHeader";const b_=k.forwardRef(({className:t,...e},n)=>J.jsx(__,{ref:n,className:ht("text-lg font-semibold leading-none tracking-tight",t),...e}));b_.displayName=__.displayName;const EO=k.forwardRef(({className:t,...e},n)=>J.jsx(w_,{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));EO.displayName=w_.displayName;const OO=t=>{var y;const[e,n]=k.useState(t.publicationId??void 0),[r,s]=k.useState(!1),d=QS();return d.isLoading?J.jsx(f_,{}):d.error?"An error has occurred: "+d.error.message:J.jsx(J.Fragment,{children:e?J.jsx(eO,{id:e}):J.jsxs("div",{className:"divide-y",children:[d.data.length>0?(y=d.data)==null?void 0:y.map(l=>J.jsxs("div",{className:"flex justify-between py-4",children:[l.title,J.jsx(Ir,{onClick:()=>n(l.id),children:"Edit"})]},l.id)):J.jsx(c_,{text:"No publications found"}),J.jsxs(SO,{open:r,onOpenChange:l=>s(l),children:[J.jsx(bO,{asChild:!0,children:J.jsx(Ir,{children:"Add publication"})}),J.jsxs(C_,{children:[J.jsx(S_,{children:J.jsx(b_,{children:"Add publication"})}),J.jsx(D1,{onRequestClose:()=>s(!1)})]})]})]})})},kO=new RS;function PO(t){return J.jsx(jS,{client:kO,children:J.jsx(OO,{publicationId:t.configuration.publication_id})})}window.pdf2web=t=>{console.log("Rendering pdf2web editor",t),bc.createRoot(document.getElementById("root")).render(J.jsx(ze.StrictMode,{children:J.jsx(PO,{configuration:t})}))};window.dispatchEvent(new Event("pdf2web.loaded"));
